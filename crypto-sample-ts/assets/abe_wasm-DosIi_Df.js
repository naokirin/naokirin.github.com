let r,a=0,E=null;function m(){return(E===null||E.byteLength===0)&&(E=new Uint8Array(r.memory.buffer)),E}const R=new TextEncoder;"encodeInto"in R||(R.encodeInto=function(t,e){const n=R.encode(t);return e.set(n),{read:t.length,written:n.length}});function S(t,e,n){if(n===void 0){const b=R.encode(t),c=e(b.length,1)>>>0;return m().subarray(c,c+b.length).set(b),a=b.length,c}let _=t.length,s=e(_,1)>>>0;const i=m();let o=0;for(;o<_;o++){const b=t.charCodeAt(o);if(b>127)break;i[s+o]=b}if(o!==_){o!==0&&(t=t.slice(o)),s=n(s,_,_=o+t.length*3,1)>>>0;const b=m().subarray(s+o,s+_),c=R.encodeInto(t,b);o+=c.written,s=n(s,_,o,1)>>>0}return a=o,s}function A(t){return t==null}let u=null;function y(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==r.memory.buffer)&&(u=new DataView(r.memory.buffer)),u}let F=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});F.decode();const M=2146435072;let z=0;function P(t,e){return z+=e,z>=M&&(F=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),F.decode(),z=e),F.decode(m().subarray(t,t+e))}function k(t,e){return t=t>>>0,P(t,e)}function h(t){const e=r.__externref_table_alloc();return r.__wbindgen_externrefs.set(e,t),e}function p(t,e){try{return t.apply(this,e)}catch(n){const _=h(n);r.__wbindgen_exn_store(_)}}function w(t,e){return t=t>>>0,m().subarray(t/1,t/1+e)}function C(t,e){t=t>>>0;const n=y(),_=[];for(let s=t;s<t+4*e;s+=4)_.push(r.__wbindgen_externrefs.get(n.getUint32(s,!0)));return r.__externref_drop_slice(t,e),_}function f(t){const e=r.__wbindgen_externrefs.get(t);return r.__externref_table_dealloc(t),e}function v(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function x(t,e){const n=e(t.length*1,1)>>>0;return m().set(t,n/1),a=t.length,n}function D(t,e){const n=e(t.length*4,4)>>>0;for(let _=0;_<t.length;_++){const s=h(t[_]);y().setUint32(n+4*_,s,!0)}return a=t.length,n}const j=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_abe_free(t>>>0,1));class I{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,j.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_abe_free(e,0)}constructor(){const e=r.abe_new();return this.__wbg_ptr=e>>>0,j.register(this,this.__wbg_ptr,this),this}setup(){const e=r.abe_setup(this.__wbg_ptr);if(e[2])throw f(e[1]);return f(e[0])}decrypt(e,n){v(e,g);const _=x(n,r.__wbindgen_malloc),s=a,i=r.abe_decrypt(this.__wbg_ptr,e.__wbg_ptr,_,s);if(i[3])throw f(i[2]);var o=w(i[0],i[1]).slice();return r.__wbindgen_free(i[0],i[1]*1,1),o}encrypt(e,n,_){v(e,d);const s=S(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,o=x(_,r.__wbindgen_malloc),b=a,c=r.abe_encrypt(this.__wbg_ptr,e.__wbg_ptr,s,i,o,b);if(c[3])throw f(c[2]);var T=w(c[0],c[1]).slice();return r.__wbindgen_free(c[0],c[1]*1,1),T}key_gen(e,n){v(e,l);const _=D(n,r.__wbindgen_malloc),s=a,i=r.abe_key_gen(this.__wbg_ptr,e.__wbg_ptr,_,s);if(i[2])throw f(i[1]);return g.__wrap(i[0])}}Symbol.dispose&&(I.prototype[Symbol.dispose]=I.prototype.free);const W=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_abemasterkey_free(t>>>0,1));class l{static __wrap(e){e=e>>>0;const n=Object.create(l.prototype);return n.__wbg_ptr=e,W.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_abemasterkey_free(e,0)}constructor(){const e=r.abemasterkey_new();return this.__wbg_ptr=e>>>0,W.register(this,this.__wbg_ptr,this),this}get secret(){const e=r.abemasterkey_secret(this.__wbg_ptr);var n=w(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}}Symbol.dispose&&(l.prototype[Symbol.dispose]=l.prototype.free);const O=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_abeprivatekey_free(t>>>0,1));class g{static __wrap(e){e=e>>>0;const n=Object.create(g.prototype);return n.__wbg_ptr=e,O.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,O.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_abeprivatekey_free(e,0)}get attributes(){const e=r.abeprivatekey_attributes(this.__wbg_ptr);var n=C(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*4,4),n}get key(){const e=r.abeprivatekey_key(this.__wbg_ptr);var n=w(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}constructor(){const e=r.abeprivatekey_new();return this.__wbg_ptr=e>>>0,O.register(this,this.__wbg_ptr,this),this}}Symbol.dispose&&(g.prototype[Symbol.dispose]=g.prototype.free);const B=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_abepublicparams_free(t>>>0,1));class d{static __wrap(e){e=e>>>0;const n=Object.create(d.prototype);return n.__wbg_ptr=e,B.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_abepublicparams_free(e,0)}constructor(){const e=r.abemasterkey_new();return this.__wbg_ptr=e>>>0,B.register(this,this.__wbg_ptr,this),this}get params(){const e=r.abepublicparams_params(this.__wbg_ptr);var n=w(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}}Symbol.dispose&&(d.prototype[Symbol.dispose]=d.prototype.free);const L=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_kpabe_free(t>>>0,1));class U{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_kpabe_free(e,0)}constructor(){const e=r.abe_new();return this.__wbg_ptr=e>>>0,L.register(this,this.__wbg_ptr,this),this}setup(){const e=r.kpabe_setup(this.__wbg_ptr);if(e[2])throw f(e[1]);return f(e[0])}decrypt(e,n){v(e,g);const _=x(n,r.__wbindgen_malloc),s=a,i=r.kpabe_decrypt(this.__wbg_ptr,e.__wbg_ptr,_,s);if(i[3])throw f(i[2]);var o=w(i[0],i[1]).slice();return r.__wbindgen_free(i[0],i[1]*1,1),o}encrypt(e,n,_){v(e,d);const s=D(n,r.__wbindgen_malloc),i=a,o=x(_,r.__wbindgen_malloc),b=a,c=r.kpabe_encrypt(this.__wbg_ptr,e.__wbg_ptr,s,i,o,b);if(c[3])throw f(c[2]);var T=w(c[0],c[1]).slice();return r.__wbindgen_free(c[0],c[1]*1,1),T}key_gen(e,n){v(e,l);const _=S(n,r.__wbindgen_malloc,r.__wbindgen_realloc),s=a,i=r.kpabe_key_gen(this.__wbg_ptr,e.__wbg_ptr,_,s);if(i[2])throw f(i[1]);return g.__wrap(i[0])}}Symbol.dispose&&(U.prototype[Symbol.dispose]=U.prototype.free);const V=new Set(["basic","cors","default"]);async function q(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(_){if(t.ok&&V.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function K(){const t={};return t.wbg={},t.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},t.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,n){const _=n,s=typeof _=="string"?_:void 0;var i=A(s)?0:S(s,r.__wbindgen_malloc,r.__wbindgen_realloc),o=a;y().setInt32(e+4,o,!0),y().setInt32(e+0,i,!0)},t.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,n){throw new Error(k(e,n))},t.wbg.__wbg_abemasterkey_new=function(e){return l.__wrap(e)},t.wbg.__wbg_abepublicparams_new=function(e){return d.__wrap(e)},t.wbg.__wbg_call_525440f72fbfc0ea=function(){return p(function(e,n,_){return e.call(n,_)},arguments)},t.wbg.__wbg_call_e762c39fa8ea36bf=function(){return p(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let _,s;try{_=e,s=n,console.error(k(e,n))}finally{r.__wbindgen_free(_,s,1)}},t.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return p(function(e,n){e.getRandomValues(n)},arguments)},t.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},t.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},t.wbg.__wbg_new_1acc0b6eea89d040=function(){return new Object},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,n){return new Function(k(e,n))},t.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_node_905d3e251edff8a2=function(e){return e.node},t.wbg.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},t.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,n,_){Uint8Array.prototype.set.call(w(e,n),_)},t.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return p(function(e,n){e.randomFillSync(n)},arguments)},t.wbg.__wbg_require_60cc747a6bc5215a=function(){return p(function(){return module.require},arguments)},t.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return p(function(e,n,_){return Reflect.set(e,n,_)},arguments)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const _=n.stack,s=S(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a;y().setInt32(e+4,i,!0),y().setInt32(e+0,s,!0)},t.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){const e=typeof global>"u"?null:global;return A(e)?0:h(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){const e=typeof globalThis>"u"?null:globalThis;return A(e)?0:h(e)},t.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){const e=typeof self>"u"?null:self;return A(e)?0:h(e)},t.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){const e=typeof window>"u"?null:window;return A(e)?0:h(e)},t.wbg.__wbg_subarray_480600f3d6a9f26c=function(e,n,_){return e.subarray(n>>>0,_>>>0)},t.wbg.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return k(e,n)},t.wbg.__wbindgen_cast_cb9088102bce6b30=function(e,n){return w(e,n)},t.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function N(t,e){return r=t.exports,G.__wbindgen_wasm_module=e,u=null,E=null,r.__wbindgen_start(),r}async function G(t){if(r!==void 0)return r;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("abe_wasm_bg-BykReuYG.wasm",import.meta.url).href,import.meta.url));const e=K();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:_}=await q(await t,e);return N(n,_)}export{I as ABE,l as ABEMasterKey,g as ABEPrivateKey,d as ABEPublicParams,U as KPABE,G as default};
