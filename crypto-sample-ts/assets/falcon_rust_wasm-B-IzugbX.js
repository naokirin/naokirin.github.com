let r,w=null;function u(){return(w===null||w.byteLength===0)&&(w=new Uint8Array(r.memory.buffer)),w}let E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});E.decode();const R=2146435072;let v=0;function F(n,e){return v+=e,v>=R&&(E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),E.decode(),v=e),E.decode(u().subarray(n,n+e))}function h(n,e){return n=n>>>0,F(n,e)}function l(n){const e=r.__externref_table_alloc();return r.__wbindgen_externrefs.set(e,n),e}function g(n,e){try{return n.apply(this,e)}catch(t){const i=l(t);r.__wbindgen_exn_store(i)}}function p(n,e){return n=n>>>0,u().subarray(n/1,n/1+e)}let _=0;const d=new TextEncoder;"encodeInto"in d||(d.encodeInto=function(n,e){const t=d.encode(n);return e.set(t),{read:n.length,written:t.length}});function M(n,e,t){if(t===void 0){const o=d.encode(n),f=e(o.length,1)>>>0;return u().subarray(f,f+o.length).set(o),_=o.length,f}let i=n.length,s=e(i,1)>>>0;const a=u();let c=0;for(;c<i;c++){const o=n.charCodeAt(c);if(o>127)break;a[s+c]=o}if(c!==i){c!==0&&(n=n.slice(c)),s=t(s,i,i=c+n.length*3,1)>>>0;const o=u().subarray(s+c,s+i),f=d.encodeInto(n,o);c+=f.written,s=t(s,i,c,1)>>>0}return _=c,s}let b=null;function T(){return(b===null||b.buffer.detached===!0||b.buffer.detached===void 0&&b.buffer!==r.memory.buffer)&&(b=new DataView(r.memory.buffer)),b}function A(n){return n==null}function y(n,e){const t=e(n.length*1,1)>>>0;return u().set(n,t/1),_=n.length,t}function x(n){const e=r.__wbindgen_externrefs.get(n);return r.__externref_table_dealloc(n),e}function j(n,e,t){const i=y(n,r.__wbindgen_malloc),s=_,a=y(e,r.__wbindgen_malloc),c=_,o=y(t,r.__wbindgen_malloc),f=_,S=r.verify_signature(i,s,a,c,o,f);if(S[2])throw x(S[1]);return S[0]!==0}function U(n,e){const t=y(n,r.__wbindgen_malloc),i=_,s=y(e,r.__wbindgen_malloc),a=_,c=r.sign_message(t,i,s,a);if(c[3])throw x(c[2]);var o=p(c[0],c[1]).slice();return r.__wbindgen_free(c[0],c[1]*1,1),o}function B(n,e){return r.add(n,e)>>>0}function C(){const n=r.generate_keypair();if(n[2])throw x(n[1]);return m.__wrap(n[0])}function P(){r.init()}const W=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>r.__wbg_falconkeypair_free(n>>>0,1));class m{static __wrap(e){e=e>>>0;const t=Object.create(m.prototype);return t.__wbg_ptr=e,W.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_falconkeypair_free(e,0)}get public_key(){const e=r.falconkeypair_public_key(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),t}get private_key(){const e=r.falconkeypair_private_key(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),t}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);const D=new Set(["basic","cors","default"]);async function I(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(i){if(n.ok&&D.has(n.type)&&n.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function k(){const n={};return n.wbg={},n.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},n.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const t=e;return typeof t=="object"&&t!==null},n.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},n.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},n.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,t){throw new Error(h(e,t))},n.wbg.__wbg_call_525440f72fbfc0ea=function(){return g(function(e,t,i){return e.call(t,i)},arguments)},n.wbg.__wbg_call_e762c39fa8ea36bf=function(){return g(function(e,t){return e.call(t)},arguments)},n.wbg.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},n.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let i,s;try{i=e,s=t,console.error(h(e,t))}finally{r.__wbindgen_free(i,s,1)}},n.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return g(function(e,t){e.getRandomValues(t)},arguments)},n.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},n.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},n.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},n.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,t){return new Function(h(e,t))},n.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},n.wbg.__wbg_node_905d3e251edff8a2=function(e){return e.node},n.wbg.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},n.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,t,i){Uint8Array.prototype.set.call(p(e,t),i)},n.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return g(function(e,t){e.randomFillSync(t)},arguments)},n.wbg.__wbg_require_60cc747a6bc5215a=function(){return g(function(){return module.require},arguments)},n.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const i=t.stack,s=M(i,r.__wbindgen_malloc,r.__wbindgen_realloc),a=_;T().setInt32(e+4,a,!0),T().setInt32(e+0,s,!0)},n.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){const e=typeof global>"u"?null:global;return A(e)?0:l(e)},n.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){const e=typeof globalThis>"u"?null:globalThis;return A(e)?0:l(e)},n.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){const e=typeof self>"u"?null:self;return A(e)?0:l(e)},n.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){const e=typeof window>"u"?null:window;return A(e)?0:l(e)},n.wbg.__wbg_subarray_480600f3d6a9f26c=function(e,t,i){return e.subarray(t>>>0,i>>>0)},n.wbg.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},n.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return h(e,t)},n.wbg.__wbindgen_cast_cb9088102bce6b30=function(e,t){return p(e,t)},n.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},n}function O(n,e){return r=n.exports,L.__wbindgen_wasm_module=e,b=null,w=null,r.__wbindgen_start(),r}function V(n){if(r!==void 0)return r;typeof n<"u"&&(Object.getPrototypeOf(n)===Object.prototype?{module:n}=n:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=k();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));const t=new WebAssembly.Instance(n,e);return O(t,n)}async function L(n){if(r!==void 0)return r;typeof n<"u"&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof n>"u"&&(n=new URL("/assets/falcon_rust_wasm_bg-B2h8gh_x.wasm",import.meta.url));const e=k();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:i}=await I(await n,e);return O(t,i)}export{m as FalconKeyPair,B as add,L as default,C as generate_keypair,P as init,V as initSync,U as sign_message,j as verify_signature};
