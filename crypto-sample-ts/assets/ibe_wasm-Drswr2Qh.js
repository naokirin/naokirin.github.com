let r,h=null;function g(){return(h===null||h.byteLength===0)&&(h=new Uint8Array(r.memory.buffer)),h}let v=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});v.decode();const L=2146435072;let A=0;function D(t,e){return A+=e,A>=L&&(v=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),v.decode(),A=e),v.decode(g().subarray(t,t+e))}function R(t,e){return t=t>>>0,D(t,e)}function m(t){const e=r.__externref_table_alloc();return r.__wbindgen_externrefs.set(e,t),e}function w(t,e){try{return t.apply(this,e)}catch(n){const _=m(n);r.__wbindgen_exn_store(_)}}function u(t,e){return t=t>>>0,g().subarray(t/1,t/1+e)}let b=0;const E=new TextEncoder;"encodeInto"in E||(E.encodeInto=function(t,e){const n=E.encode(t);return e.set(n),{read:t.length,written:n.length}});function O(t,e,n){if(n===void 0){const a=E.encode(t),c=e(a.length,1)>>>0;return g().subarray(c,c+a.length).set(a),b=a.length,c}let _=t.length,i=e(_,1)>>>0;const s=g();let o=0;for(;o<_;o++){const a=t.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==_){o!==0&&(t=t.slice(o)),i=n(i,_,_=o+t.length*3,1)>>>0;const a=g().subarray(i+o,i+_),c=E.encodeInto(t,a);o+=c.written,i=n(i,_,o,1)>>>0}return b=o,i}let f=null;function I(){return(f===null||f.buffer.detached===!0||f.buffer.detached===void 0&&f.buffer!==r.memory.buffer)&&(f=new DataView(r.memory.buffer)),f}function S(t){return t==null}function y(t){const e=r.__wbindgen_externrefs.get(t);return r.__externref_table_dealloc(t),e}function F(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function W(t,e){const n=e(t.length*1,1)>>>0;return g().set(t,n/1),b=t.length,n}const z=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_ibe_free(t>>>0,1));class j{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,z.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_ibe_free(e,0)}constructor(){const e=r.ibe_new();return this.__wbg_ptr=e>>>0,z.register(this,this.__wbg_ptr,this),this}setup(){const e=r.ibe_setup(this.__wbg_ptr);if(e[2])throw y(e[1]);return y(e[0])}decrypt(e,n){F(e,d);const _=W(n,r.__wbindgen_malloc),i=b,s=r.ibe_decrypt(this.__wbg_ptr,e.__wbg_ptr,_,i);if(s[3])throw y(s[2]);var o=u(s[0],s[1]).slice();return r.__wbindgen_free(s[0],s[1]*1,1),o}encrypt(e,n,_){F(e,p);const i=O(n,r.__wbindgen_malloc,r.__wbindgen_realloc),s=b,o=W(_,r.__wbindgen_malloc),a=b,c=r.ibe_encrypt(this.__wbg_ptr,e.__wbg_ptr,i,s,o,a);if(c[3])throw y(c[2]);var B=u(c[0],c[1]).slice();return r.__wbindgen_free(c[0],c[1]*1,1),B}extract(e,n){F(e,l);const _=O(n,r.__wbindgen_malloc,r.__wbindgen_realloc),i=b,s=r.ibe_extract(this.__wbg_ptr,e.__wbg_ptr,_,i);if(s[2])throw y(s[1]);return d.__wrap(s[0])}}Symbol.dispose&&(j.prototype[Symbol.dispose]=j.prototype.free);const x=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_ibemasterkey_free(t>>>0,1));class l{static __wrap(e){e=e>>>0;const n=Object.create(l.prototype);return n.__wbg_ptr=e,x.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,x.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_ibemasterkey_free(e,0)}constructor(){const e=r.ibemasterkey_new();return this.__wbg_ptr=e>>>0,x.register(this,this.__wbg_ptr,this),this}get secret(){const e=r.ibemasterkey_secret(this.__wbg_ptr);var n=u(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}}Symbol.dispose&&(l.prototype[Symbol.dispose]=l.prototype.free);const T=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_ibeprivatekey_free(t>>>0,1));class d{static __wrap(e){e=e>>>0;const n=Object.create(d.prototype);return n.__wbg_ptr=e,T.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_ibeprivatekey_free(e,0)}get key(){const e=r.ibeprivatekey_key(this.__wbg_ptr);var n=u(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}constructor(){const e=r.ibemasterkey_new();return this.__wbg_ptr=e>>>0,T.register(this,this.__wbg_ptr,this),this}}Symbol.dispose&&(d.prototype[Symbol.dispose]=d.prototype.free);const k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_ibepublicparams_free(t>>>0,1));class p{static __wrap(e){e=e>>>0;const n=Object.create(p.prototype);return n.__wbg_ptr=e,k.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_ibepublicparams_free(e,0)}constructor(){const e=r.ibemasterkey_new();return this.__wbg_ptr=e>>>0,k.register(this,this.__wbg_ptr,this),this}get params(){const e=r.ibepublicparams_params(this.__wbg_ptr);var n=u(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*1,1),n}}Symbol.dispose&&(p.prototype[Symbol.dispose]=p.prototype.free);const M=new Set(["basic","cors","default"]);async function U(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(_){if(t.ok&&M.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function C(){const t={};return t.wbg={},t.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},t.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,n){throw new Error(R(e,n))},t.wbg.__wbg_call_525440f72fbfc0ea=function(){return w(function(e,n,_){return e.call(n,_)},arguments)},t.wbg.__wbg_call_e762c39fa8ea36bf=function(){return w(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let _,i;try{_=e,i=n,console.error(R(e,n))}finally{r.__wbindgen_free(_,i,1)}},t.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return w(function(e,n){e.getRandomValues(n)},arguments)},t.wbg.__wbg_ibemasterkey_new=function(e){return l.__wrap(e)},t.wbg.__wbg_ibepublicparams_new=function(e){return p.__wrap(e)},t.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},t.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},t.wbg.__wbg_new_1acc0b6eea89d040=function(){return new Object},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,n){return new Function(R(e,n))},t.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_node_905d3e251edff8a2=function(e){return e.node},t.wbg.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},t.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,n,_){Uint8Array.prototype.set.call(u(e,n),_)},t.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return w(function(e,n){e.randomFillSync(n)},arguments)},t.wbg.__wbg_require_60cc747a6bc5215a=function(){return w(function(){return module.require},arguments)},t.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return w(function(e,n,_){return Reflect.set(e,n,_)},arguments)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const _=n.stack,i=O(_,r.__wbindgen_malloc,r.__wbindgen_realloc),s=b;I().setInt32(e+4,s,!0),I().setInt32(e+0,i,!0)},t.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){const e=typeof global>"u"?null:global;return S(e)?0:m(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){const e=typeof globalThis>"u"?null:globalThis;return S(e)?0:m(e)},t.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){const e=typeof self>"u"?null:self;return S(e)?0:m(e)},t.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){const e=typeof window>"u"?null:window;return S(e)?0:m(e)},t.wbg.__wbg_subarray_480600f3d6a9f26c=function(e,n,_){return e.subarray(n>>>0,_>>>0)},t.wbg.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return R(e,n)},t.wbg.__wbindgen_cast_cb9088102bce6b30=function(e,n){return u(e,n)},t.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function P(t,e){return r=t.exports,V.__wbindgen_wasm_module=e,f=null,h=null,r.__wbindgen_start(),r}async function V(t){if(r!==void 0)return r;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("ibe_wasm_bg-C_JPAl-h.wasm",import.meta.url).href,import.meta.url));const e=C();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:_}=await U(await t,e);return P(n,_)}export{j as IBE,l as IBEMasterKey,d as IBEPrivateKey,p as IBEPublicParams,V as default};
