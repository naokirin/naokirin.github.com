(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const zr=!1;var yn=Array.isArray,Es=Array.prototype.indexOf,Hn=Array.from,Pn=Object.defineProperty,$t=Object.getOwnPropertyDescriptor,Ar=Object.getOwnPropertyDescriptors,ks=Object.prototype,zs=Array.prototype,Bn=Object.getPrototypeOf,lr=Object.isExtensible;function As(e){return typeof e=="function"}const Wt=()=>{};function Rs(e){return e()}function Mn(e){for(var t=0;t<e.length;t++)e[t]()}function Ts(){var e,t,n=new Promise((s,r)=>{e=s,t=r});return{promise:n,resolve:e,reject:t}}function ln(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const s of e)if(n.push(s),n.length===t)break;return n}const Oe=2,Yn=4,mn=8,kt=16,lt=32,zt=64,Rr=128,Fe=256,vn=512,me=1024,We=2048,ct=4096,He=8192,At=16384,wn=32768,bn=65536,cr=1<<17,Cs=1<<18,Qt=1<<19,Tr=1<<20,jn=1<<21,Un=1<<22,bt=1<<23,St=Symbol("$state"),$s=Symbol("legacy props"),Ps=Symbol(""),Kn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ms(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Cr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function js(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Is(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Os(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ds(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ls(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ws(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Sn=1,xn=2,$r=4,qs=8,Hs=16,Bs=1,Ys=2,Us=4,Ks=8,Gs=16,Js=1,Xs=2,Zs=4,Qs=1,ea=2,_e=Symbol(),ta="http://www.w3.org/1999/xhtml";let na=!1;function Pr(e){return e===this.v}function ra(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Mr(e){return!ra(e,this.v)}let Ot=!1,sa=!1;function aa(){Ot=!0}let ie=null;function dn(e){ie=e}function Nt(e,t=!1,n){ie={p:ie,c:null,e:null,s:e,x:null,l:Ot&&!t?{s:null,u:null,$:[]}:null}}function Dt(e){var t=ie,n=t.e;if(n!==null){t.e=null;for(var s of n)Br(s)}return ie=t.p,{}}function en(){return!Ot||ie!==null&&ie.l===null}const ia=new WeakMap;function oa(e){var t=B;if(t===null)return K.f|=bt,e;if((t.f&wn)===0){if((t.f&Rr)===0)throw!t.parent&&e instanceof Error&&jr(e),e;t.b.error(e)}else Gn(e,t)}function Gn(e,t){for(;t!==null;){if((t.f&Rr)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&jr(e),e}function jr(e){const t=ia.get(e);t&&(Pn(e,"message",{value:t.message}),Pn(e,"stack",{value:t.stack}))}let pn=[];function la(){var e=pn;pn=[],Mn(e)}function En(e){pn.length===0&&queueMicrotask(la),pn.push(e)}function ca(){for(var e=B.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Ms(),e}function tn(e){var t=Oe|We,n=K!==null&&(K.f&Oe)!==0?K:null;return B===null||n!==null&&(n.f&Fe)!==0?t|=Fe:B.f|=Qt,{ctx:ie,deps:null,effects:null,equals:Pr,f:t,fn:e,reactions:null,rv:0,v:_e,wv:0,parent:n??B,ac:null}}function ua(e,t){let n=B;n===null&&js();var s=n.b,r=void 0,i=Yt(_e),o=null,c=!K;return Sa(()=>{try{var u=e();o&&Promise.resolve(u).catch(()=>{})}catch(p){u=Promise.reject(p)}var f=()=>u;r=o?.then(f,f)??Promise.resolve(u),o=r;var d=ge,h=s.pending;c&&(s.update_pending_count(1),h||d.increment());const g=(p,l=void 0)=>{o=null,h||d.activate(),l?l!==Kn&&(i.f|=bt,Ut(i,l)):((i.f&bt)!==0&&(i.f^=bt),Ut(i,p)),c&&(s.update_pending_count(-1),h||d.decrement()),Nr()};if(r.then(g,p=>g(null,p||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(u=>{function f(d){function h(){d===r?u(i):f(r)}d.then(h,h)}f(r)})}function cn(e){const t=tn(e);return Qr(t),t}function Ve(e){const t=tn(e);return t.equals=Mr,t}function Ir(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ot(t[n])}}function fa(e){for(var t=e.parent;t!==null;){if((t.f&Oe)===0)return t;t=t.parent}return null}function Jn(e){var t,n=B;pt(fa(e));try{Ir(e),t=rs(e)}finally{pt(n)}return t}function Or(e){var t=Jn(e);if(e.equals(t)||(e.v=t,e.wv=ts()),!Rt){var n=(vt||(e.f&Fe)!==0)&&e.deps!==null?ct:me;ke(e,n)}}function va(e,t,n){const s=en()?tn:Ve;if(t.length===0){n(e.map(s));return}var r=ge,i=B,o=da(),c=ca();Promise.all(t.map(u=>ua(u))).then(u=>{r?.activate(),o();try{n([...e.map(s),...u])}catch(f){(i.f&At)===0&&Gn(f,i)}r?.deactivate(),Nr()}).catch(u=>{c.error(u)})}function da(){var e=B,t=K,n=ie,s=ge;return function(){pt(e),Xe(t),dn(n),s?.activate()}}function Nr(){pt(null),Xe(null),dn(null)}const Rn=new Set;let ge=null,ur=new Set,hn=[];function Dr(){const e=hn.shift();hn.length>0&&queueMicrotask(Dr),e()}let Bt=[],Xn=null,In=!1;class Mt{current=new Map;#l=new Map;#s=new Set;#e=0;#c=null;#u=!1;#n=[];#a=[];#r=[];#t=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Bt=[];for(const r of t)this.#p(r);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,s=this.#t;this.#r=[],this.#t=[],this.#i=[],ge=null,fr(n),fr(s),ge===null?ge=this:Rn.delete(this),this.#c?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#i);for(const r of this.#n)Et(r);for(const r of this.#a)Et(r);this.#n=[],this.#a=[]}#p(t){t.f^=me;for(var n=t.first;n!==null;){var s=n.f,r=(s&(lt|zt))!==0,i=r&&(s&me)!==0,o=i||(s&He)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(r)n.f^=me;else if((s&Yn)!==0)this.#t.push(n);else if((s&me)===0)if((s&Un)!==0){var c=n.b?.pending?this.#a:this.#n;c.push(n)}else rn(n)&&((n.f&kt)!==0&&this.#i.push(n),Et(n));var u=n.first;if(u!==null){n=u;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}}#o(t){for(const n of t)((n.f&We)!==0?this.#f:this.#v).push(n),ke(n,me);t.length=0}capture(t,n){this.#l.has(t)||this.#l.set(t,n),this.current.set(t,t.v)}activate(){ge=this}deactivate(){ge=null;for(const t of ur)if(ur.delete(t),t(),ge!==null)break}neuter(){this.#u=!0}flush(){Bt.length>0?pa():this.#d(),ge===this&&(this.#e===0&&Rn.delete(this),this.deactivate())}#d(){if(!this.#u)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#f)ke(t,We),jt(t);for(const t of this.#v)ke(t,ct),jt(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#c??=Ts()).promise}static ensure(){if(ge===null){const t=ge=new Mt;Rn.add(ge),Mt.enqueue(()=>{ge===t&&t.flush()})}return ge}static enqueue(t){hn.length===0&&queueMicrotask(Dr),hn.unshift(t)}}function pa(){var e=Pt;In=!0;try{var t=0;for(pr(!0);Bt.length>0;){var n=Mt.ensure();if(t++>1e3){var s,r;ha()}n.process(Bt),dt.clear()}}finally{In=!1,pr(e),Xn=null}}function ha(){try{Ds()}catch(e){Gn(e,Xn)}}let mt=null;function fr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var s=e[n++];if((s.f&(At|He))===0&&rn(s)&&(mt=[],Et(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Jr(s):s.fn=null),mt?.length>0)){dt.clear();for(const r of mt)Et(r);mt=[]}}mt=null}}function jt(e){for(var t=Xn=e;t.parent!==null;){t=t.parent;var n=t.f;if(In&&t===B&&(n&kt)!==0)return;if((n&(zt|lt))!==0){if((n&me)===0)return;t.f^=me}}Bt.push(t)}const dt=new Map;function Yt(e,t){var n={f:0,v:e,reactions:null,equals:Pr,rv:0,wv:0};return n}function ut(e,t){const n=Yt(e);return Qr(n),n}function W(e,t=!1,n=!0){const s=Yt(e);return t||(s.equals=Mr),Ot&&n&&ie!==null&&ie.l!==null&&(ie.l.s??=[]).push(s),s}function vr(e,t){return b(e,k(()=>a(e))),t}function b(e,t,n=!1){K!==null&&(!Je||(K.f&cr)!==0)&&en()&&(K.f&(Oe|kt|Un|cr))!==0&&!it?.includes(e)&&Ws();let s=n?Ct(t):t;return Ut(e,s)}function Ut(e,t){if(!e.equals(t)){var n=e.v;Rt?dt.set(e,t):dt.set(e,n),e.v=t;var s=Mt.ensure();s.capture(e,n),(e.f&Oe)!==0&&((e.f&We)!==0&&Jn(e),ke(e,(e.f&Fe)===0?me:ct)),e.wv=ts(),Lr(e,We),en()&&B!==null&&(B.f&me)!==0&&(B.f&(lt|zt))===0&&(De===null?ka([e]):De.push(e))}return t}function Tn(e){b(e,e.v+1)}function Lr(e,t){var n=e.reactions;if(n!==null)for(var s=en(),r=n.length,i=0;i<r;i++){var o=n[i],c=o.f;if(!(!s&&o===B)){var u=(c&We)===0;u&&ke(o,t),(c&Oe)!==0?Lr(o,ct):u&&((c&kt)!==0&&mt!==null&&mt.push(o),jt(o))}}}function Ct(e){if(typeof e!="object"||e===null||St in e)return e;const t=Bn(e);if(t!==ks&&t!==zs)return e;var n=new Map,s=yn(e),r=ut(0),i=xt,o=c=>{if(xt===i)return c();var u=K,f=xt;Xe(null),_r(i);var d=c();return Xe(u),_r(f),d};return s&&n.set("length",ut(e.length)),new Proxy(e,{defineProperty(c,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Fs();var d=n.get(u);return d===void 0?d=o(()=>{var h=ut(f.value);return n.set(u,h),h}):b(d,f.value,!0),!0},deleteProperty(c,u){var f=n.get(u);if(f===void 0){if(u in c){const d=o(()=>ut(_e));n.set(u,d),Tn(r)}}else b(f,_e),Tn(r);return!0},get(c,u,f){if(u===St)return e;var d=n.get(u),h=u in c;if(d===void 0&&(!h||$t(c,u)?.writable)&&(d=o(()=>{var p=Ct(h?c[u]:_e),l=ut(p);return l}),n.set(u,d)),d!==void 0){var g=a(d);return g===_e?void 0:g}return Reflect.get(c,u,f)},getOwnPropertyDescriptor(c,u){var f=Reflect.getOwnPropertyDescriptor(c,u);if(f&&"value"in f){var d=n.get(u);d&&(f.value=a(d))}else if(f===void 0){var h=n.get(u),g=h?.v;if(h!==void 0&&g!==_e)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return f},has(c,u){if(u===St)return!0;var f=n.get(u),d=f!==void 0&&f.v!==_e||Reflect.has(c,u);if(f!==void 0||B!==null&&(!d||$t(c,u)?.writable)){f===void 0&&(f=o(()=>{var g=d?Ct(c[u]):_e,p=ut(g);return p}),n.set(u,f));var h=a(f);if(h===_e)return!1}return d},set(c,u,f,d){var h=n.get(u),g=u in c;if(s&&u==="length")for(var p=f;p<h.v;p+=1){var l=n.get(p+"");l!==void 0?b(l,_e):p in c&&(l=o(()=>ut(_e)),n.set(p+"",l))}if(h===void 0)(!g||$t(c,u)?.writable)&&(h=o(()=>ut(void 0)),b(h,Ct(f)),n.set(u,h));else{g=h.v!==_e;var m=o(()=>Ct(f));b(h,m)}var S=Reflect.getOwnPropertyDescriptor(c,u);if(S?.set&&S.set.call(d,f),!g){if(s&&typeof u=="string"){var E=n.get("length"),$=Number(u);Number.isInteger($)&&$>=E.v&&b(E,$+1)}Tn(r)}return!0},ownKeys(c){a(r);var u=Reflect.ownKeys(c).filter(h=>{var g=n.get(h);return g===void 0||g.v!==_e});for(var[f,d]of n)d.v!==_e&&!(f in c)&&u.push(f);return u},setPrototypeOf(){Vs()}})}var dr,Fr,Vr,Wr;function _a(){if(dr===void 0){dr=window,Fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Vr=$t(t,"firstChild").get,Wr=$t(t,"nextSibling").get,lr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),lr(n)&&(n.__t=void 0)}}function Lt(e=""){return document.createTextNode(e)}function It(e){return Vr.call(e)}function kn(e){return Wr.call(e)}function _(e,t){return It(e)}function ft(e,t){{var n=It(e);return n instanceof Comment&&n.data===""?kn(n):n}}function y(e,t=1,n=!1){let s=e;for(;t--;)s=kn(s);return s}function ga(e){e.textContent=""}function qr(){return!1}function nn(e){var t=K,n=B;Xe(null),pt(null);try{return e()}finally{Xe(t),pt(n)}}function Hr(e){B===null&&K===null&&Ns(),K!==null&&(K.f&Fe)!==0&&B===null&&Os(),Rt&&Is()}function ya(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ze(e,t,n,s=!0){var r=B;r!==null&&(r.f&He)!==0&&(e|=He);var i={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:e|We,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Et(i),i.f|=wn}catch(u){throw ot(i),u}else t!==null&&jt(i);if(s){var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&Qt)===0&&(o=o.first),o!==null&&(o.parent=r,r!==null&&ya(o,r),K!==null&&(K.f&Oe)!==0&&(e&zt)===0)){var c=K;(c.effects??=[]).push(o)}}return i}function ma(e){const t=Ze(mn,null,!1);return ke(t,me),t.teardown=e,t}function On(e){Hr();var t=B.f,n=!K&&(t&lt)!==0&&(t&wn)===0;if(n){var s=ie;(s.e??=[]).push(e)}else return Br(e)}function Br(e){return Ze(Yn|Tr,e,!1)}function wa(e){return Hr(),Ze(mn|Tr,e,!0)}function ba(e){Mt.ensure();const t=Ze(zt|Qt,e,!0);return(n={})=>new Promise(s=>{n.outro?Qn(t,()=>{ot(t),s(void 0)}):(ot(t),s(void 0))})}function Yr(e){return Ze(Yn,e,!1)}function he(e,t){var n=ie,s={effect:null,ran:!1,deps:e};n.l.$.push(s),s.effect=Zn(()=>{e(),!s.ran&&(s.ran=!0,k(t))})}function zn(){var e=ie;Zn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&me)!==0&&ke(n,ct),rn(n)&&Et(n),t.ran=!1}})}function Sa(e){return Ze(Un|Qt,e,!0)}function Zn(e,t=0){return Ze(mn|t,e,!0)}function H(e,t=[],n=[]){va(t,n,s=>{Ze(mn,()=>e(...s.map(a)),!0)})}function Ur(e,t=0){var n=Ze(kt|t,e,!0);return n}function Kt(e,t=!0){return Ze(lt|Qt,e,!0,t)}function Kr(e){var t=e.teardown;if(t!==null){const n=Rt,s=K;hr(!0),Xe(null);try{t.call(null)}finally{hr(n),Xe(s)}}}function Gr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&nn(()=>{r.abort(Kn)});var s=n.next;(n.f&zt)!==0?n.parent=null:ot(n,t),n=s}}function xa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&lt)===0&&ot(t),t=n}}function ot(e,t=!0){var n=!1;(t||(e.f&Cs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ea(e.nodes_start,e.nodes_end),n=!0),Gr(e,t&&!n),_n(e,0),ke(e,At);var s=e.transitions;if(s!==null)for(const i of s)i.stop();Kr(e);var r=e.parent;r!==null&&r.first!==null&&Jr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ea(e,t){for(;e!==null;){var n=e===t?null:kn(e);e.remove(),e=n}}function Jr(e){var t=e.parent,n=e.prev,s=e.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=n))}function Qn(e,t){var n=[];er(e,n,!0),Xr(n,()=>{ot(e),t&&t()})}function Xr(e,t){var n=e.length;if(n>0){var s=()=>--n||t();for(var r of e)r.out(s)}else t()}function er(e,t,n){if((e.f&He)===0){if(e.f^=He,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var s=e.first;s!==null;){var r=s.next,i=(s.f&bn)!==0||(s.f&lt)!==0;er(s,t,i?n:!1),s=r}}}function tr(e){Zr(e,!0)}function Zr(e,t){if((e.f&He)!==0){e.f^=He,(e.f&me)===0&&(ke(e,We),jt(e));for(var n=e.first;n!==null;){var s=n.next,r=(n.f&bn)!==0||(n.f&lt)!==0;Zr(n,r?t:!1),n=s}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Pt=!1;function pr(e){Pt=e}let Rt=!1;function hr(e){Rt=e}let K=null,Je=!1;function Xe(e){K=e}let B=null;function pt(e){B=e}let it=null;function Qr(e){K!==null&&(it===null?it=[e]:it.push(e))}let Ee=null,Ie=0,De=null;function ka(e){De=e}let es=1,Gt=0,xt=Gt;function _r(e){xt=e}let vt=!1;function ts(){return++es}function rn(e){var t=e.f;if((t&We)!==0)return!0;if((t&ct)!==0){var n=e.deps,s=(t&Fe)!==0;if(n!==null){var r,i,o=(t&vn)!==0,c=s&&B!==null&&!vt,u=n.length;if((o||c)&&(B===null||(B.f&At)===0)){var f=e,d=f.parent;for(r=0;r<u;r++)i=n[r],(o||!i?.reactions?.includes(f))&&(i.reactions??=[]).push(f);o&&(f.f^=vn),c&&d!==null&&(d.f&Fe)===0&&(f.f^=Fe)}for(r=0;r<u;r++)if(i=n[r],rn(i)&&Or(i),i.wv>e.wv)return!0}(!s||B!==null&&!vt)&&ke(e,me)}return!1}function ns(e,t,n=!0){var s=e.reactions;if(s!==null&&!it?.includes(e))for(var r=0;r<s.length;r++){var i=s[r];(i.f&Oe)!==0?ns(i,t,!1):t===i&&(n?ke(i,We):(i.f&me)!==0&&ke(i,ct),jt(i))}}function rs(e){var t=Ee,n=Ie,s=De,r=K,i=vt,o=it,c=ie,u=Je,f=xt,d=e.f;Ee=null,Ie=0,De=null,vt=(d&Fe)!==0&&(Je||!Pt||K===null),K=(d&(lt|zt))===0?e:null,it=null,dn(e.ctx),Je=!1,xt=++Gt,e.ac!==null&&(nn(()=>{e.ac.abort(Kn)}),e.ac=null);try{e.f|=jn;var h=e.fn,g=h(),p=e.deps;if(Ee!==null){var l;if(_n(e,Ie),p!==null&&Ie>0)for(p.length=Ie+Ee.length,l=0;l<Ee.length;l++)p[Ie+l]=Ee[l];else e.deps=p=Ee;if(!vt||(d&Oe)!==0&&e.reactions!==null)for(l=Ie;l<p.length;l++)(p[l].reactions??=[]).push(e)}else p!==null&&Ie<p.length&&(_n(e,Ie),p.length=Ie);if(en()&&De!==null&&!Je&&p!==null&&(e.f&(Oe|ct|We))===0)for(l=0;l<De.length;l++)ns(De[l],e);return r!==null&&r!==e&&(Gt++,De!==null&&(s===null?s=De:s.push(...De))),(e.f&bt)!==0&&(e.f^=bt),g}catch(m){return oa(m)}finally{e.f^=jn,Ee=t,Ie=n,De=s,K=r,vt=i,it=o,dn(c),Je=u,xt=f}}function za(e,t){let n=t.reactions;if(n!==null){var s=Es.call(n,e);if(s!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[s]=n[r],n.pop())}}n===null&&(t.f&Oe)!==0&&(Ee===null||!Ee.includes(t))&&(ke(t,ct),(t.f&(Fe|vn))===0&&(t.f^=vn),Ir(t),_n(t,0))}function _n(e,t){var n=e.deps;if(n!==null)for(var s=t;s<n.length;s++)za(e,n[s])}function Et(e){var t=e.f;if((t&At)===0){ke(e,me);var n=B,s=Pt;B=e,Pt=!0;try{(t&kt)!==0?xa(e):Gr(e),Kr(e);var r=rs(e);e.teardown=typeof r=="function"?r:null,e.wv=es;var i;zr&&sa&&(e.f&We)!==0&&e.deps}finally{Pt=s,B=n}}}function a(e){var t=e.f,n=(t&Oe)!==0;if(K!==null&&!Je){var s=B!==null&&(B.f&At)!==0;if(!s&&!it?.includes(e)){var r=K.deps;if((K.f&jn)!==0)e.rv<Gt&&(e.rv=Gt,Ee===null&&r!==null&&r[Ie]===e?Ie++:Ee===null?Ee=[e]:(!vt||!Ee.includes(e))&&Ee.push(e));else{(K.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[K]:i.includes(K)||i.push(K)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,c=o.parent;c!==null&&(c.f&Fe)===0&&(o.f^=Fe)}if(Rt){if(dt.has(e))return dt.get(e);if(n){o=e;var u=o.v;return((o.f&me)===0&&o.reactions!==null||ss(o))&&(u=Jn(o)),dt.set(o,u),u}}else n&&(o=e,rn(o)&&Or(o));if((e.f&bt)!==0)throw e.v;return e.v}function ss(e){if(e.v===_e)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(dt.has(t)||(t.f&Oe)!==0&&ss(t))return!0;return!1}function k(e){var t=Je;try{return Je=!0,e()}finally{Je=t}}const Aa=-7169;function ke(e,t){e.f=e.f&Aa|t}function F(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(St in e)Nn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&St in n&&Nn(n)}}}function Nn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Nn(e[s],t)}catch{}const n=Bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const s=Ar(n);for(let r in s){const i=s[r].get;if(i)try{i.call(e)}catch{}}}}}const Ra=["touchstart","touchmove"];function Ta(e){return Ra.includes(e)}const Ca=new Set,gr=new Set;function $a(e,t,n,s={}){function r(i){if(s.capture||qt.call(t,i),!i.cancelBubble)return nn(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?En(()=>{t.addEventListener(e,r,s)}):t.addEventListener(e,r,s),r}function ve(e,t,n,s,r){var i={capture:s,passive:r},o=$a(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ma(()=>{t.removeEventListener(e,o,i)})}let yr=null;function qt(e){var t=this,n=t.ownerDocument,s=e.type,r=e.composedPath?.()||[],i=r[0]||e.target;yr=e;var o=0,c=yr===e&&e.__root;if(c){var u=r.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=r.indexOf(t);if(f===-1)return;u<=f&&(o=u)}if(i=r[o]||e.target,i!==t){Pn(e,"currentTarget",{configurable:!0,get(){return i||n}});var d=K,h=B;Xe(null),pt(null);try{for(var g,p=[];i!==null;){var l=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+s];if(m!=null&&(!i.disabled||e.target===i))if(yn(m)){var[S,...E]=m;S.apply(i,[e,...E])}else m.call(i,e)}catch($){g?p.push($):g=$}if(e.cancelBubble||l===t||l===null)break;i=l}if(g){for(let $ of p)queueMicrotask(()=>{throw $});throw g}}finally{e.__root=t,delete e.currentTarget,Xe(d),pt(h)}}}function as(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jt(e,t){var n=B;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Qs)!==0,s=(t&ea)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=as(i?e:"<!>"+e),n||(r=It(r)));var o=s||Fr?document.importNode(r,!0):r.cloneNode(!0);if(n){var c=It(o),u=o.lastChild;Jt(c,u)}else Jt(o,o);return o}}function Pa(e,t,n="svg"){var s=!e.startsWith("<!>"),r=`<${n}>${s?e:"<!>"+e}</${n}>`,i;return()=>{if(!i){var o=as(r),c=It(o);i=It(c)}var u=i.cloneNode(!0);return Jt(u,u),u}}function sn(e,t){return Pa(e,t,"svg")}function Cn(e=""){{var t=Lt(e+"");return Jt(t,t),t}}function Xt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Lt();return e.append(t,n),Jt(t,n),e}function R(e,t){e!==null&&e.before(t)}let Dn=!0;function I(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Ma(e,t){return ja(e,t)}const Tt=new Map;function ja(e,{target:t,anchor:n,props:s={},events:r,context:i,intro:o=!0}){_a();var c=new Set,u=h=>{for(var g=0;g<h.length;g++){var p=h[g];if(!c.has(p)){c.add(p);var l=Ta(p);t.addEventListener(p,qt,{passive:l});var m=Tt.get(p);m===void 0?(document.addEventListener(p,qt,{passive:l}),Tt.set(p,1)):Tt.set(p,m+1)}}};u(Hn(Ca)),gr.add(u);var f=void 0,d=ba(()=>{var h=n??t.appendChild(Lt());return Kt(()=>{if(i){Nt({});var g=ie;g.c=i}r&&(s.$$events=r),Dn=o,f=e(h,s)||{},Dn=!0,i&&Dt()}),()=>{for(var g of c){t.removeEventListener(g,qt);var p=Tt.get(g);--p===0?(document.removeEventListener(g,qt),Tt.delete(g)):Tt.set(g,p)}gr.delete(u),h!==n&&h.parentNode?.removeChild(h)}});return Ia.set(f,d),f}let Ia=new WeakMap;function Y(e,t,n=!1){var s=e,r=null,i=null,o=_e,c=n?bn:0,u=!1;const f=(p,l=!0)=>{u=!0,g(l,p)};var d=null;function h(){d!==null&&(d.lastChild.remove(),s.before(d),d=null);var p=o?r:i,l=o?i:r;p&&tr(p),l&&Qn(l,()=>{o?i=null:r=null})}const g=(p,l)=>{if(o!==(o=p)){var m=qr(),S=s;if(m&&(d=document.createDocumentFragment(),d.append(S=Lt())),o?r??=l&&Kt(()=>l(S)):i??=l&&Kt(()=>l(S)),m){var E=ge,$=o?r:i,P=o?i:r;$&&E.skipped_effects.delete($),P&&E.skipped_effects.add(P),E.add_callback(h)}else h()}};Ur(()=>{u=!1,t(f),u||g(null,null)},c)}function ye(e,t){return t}function Oa(e,t,n){for(var s=e.items,r=[],i=t.length,o=0;o<i;o++)er(t[o].e,r,!0);var c=i>0&&r.length===0&&n!==null;if(c){var u=n.parentNode;ga(u),u.append(n),s.clear(),Ge(e,t[0].prev,t[i-1].next)}Xr(r,()=>{for(var f=0;f<i;f++){var d=t[f];c||(s.delete(d.k),Ge(e,d.prev,d.next)),ot(d.e,!c)}})}function de(e,t,n,s,r,i=null){var o=e,c={flags:t,items:new Map,first:null},u=(t&$r)!==0;if(u){var f=e;o=f.appendChild(Lt())}var d=null,h=!1,g=new Map,p=Ve(()=>{var E=n();return yn(E)?E:E==null?[]:Hn(E)}),l,m;function S(){Na(m,l,c,g,o,r,t,s,n),i!==null&&(l.length===0?d?tr(d):d=Kt(()=>i(o)):d!==null&&Qn(d,()=>{d=null}))}Ur(()=>{m??=B,l=a(p);var E=l.length;if(!(h&&E===0)){h=E===0;var $,P,z,j;if(qr()){var A=new Set,x=ge;for(P=0;P<E;P+=1){z=l[P],j=s(z,P);var Z=c.items.get(j)??g.get(j);Z?(t&(Sn|xn))!==0&&is(Z,z,P,t):($=os(null,c,null,null,z,j,P,r,t,n,!0),g.set(j,$)),A.add(j)}for(const[ue,Te]of c.items)A.has(ue)||x.skipped_effects.add(Te.e);x.add_callback(S)}else S();a(p)}})}function Na(e,t,n,s,r,i,o,c,u){var f=(o&qs)!==0,d=(o&(Sn|xn))!==0,h=t.length,g=n.items,p=n.first,l=p,m,S=null,E,$=[],P=[],z,j,A,x;if(f)for(x=0;x<h;x+=1)z=t[x],j=c(z,x),A=g.get(j),A!==void 0&&(A.a?.measure(),(E??=new Set).add(A));for(x=0;x<h;x+=1){if(z=t[x],j=c(z,x),A=g.get(j),A===void 0){var Z=s.get(j);if(Z!==void 0){s.delete(j),g.set(j,Z);var ue=S?S.next:l;Ge(n,S,Z),Ge(n,Z,ue),$n(Z,ue,r),S=Z}else{var Te=l?l.e.nodes_start:r;S=os(Te,n,S,S===null?n.first:S.next,z,j,x,i,o,u)}g.set(j,S),$=[],P=[],l=S.next;continue}if(d&&is(A,z,x,o),(A.e.f&He)!==0&&(tr(A.e),f&&(A.a?.unfix(),(E??=new Set).delete(A))),A!==l){if(m!==void 0&&m.has(A)){if($.length<P.length){var M=P[0],v;S=M.prev;var w=$[0],T=$[$.length-1];for(v=0;v<$.length;v+=1)$n($[v],M,r);for(v=0;v<P.length;v+=1)m.delete(P[v]);Ge(n,w.prev,T.next),Ge(n,S,w),Ge(n,T,M),l=M,S=T,x-=1,$=[],P=[]}else m.delete(A),$n(A,l,r),Ge(n,A.prev,A.next),Ge(n,A,S===null?n.first:S.next),Ge(n,S,A),S=A;continue}for($=[],P=[];l!==null&&l.k!==j;)(l.e.f&He)===0&&(m??=new Set).add(l),P.push(l),l=l.next;if(l===null)continue;A=l}$.push(A),S=A,l=A.next}if(l!==null||m!==void 0){for(var D=m===void 0?[]:Hn(m);l!==null;)(l.e.f&He)===0&&D.push(l),l=l.next;var q=D.length;if(q>0){var te=(o&$r)!==0&&h===0?r:null;if(f){for(x=0;x<q;x+=1)D[x].a?.measure();for(x=0;x<q;x+=1)D[x].a?.fix()}Oa(n,D,te)}}f&&En(()=>{if(E!==void 0)for(A of E)A.a?.apply()}),e.first=n.first&&n.first.e,e.last=S&&S.e;for(var re of s.values())ot(re.e);s.clear()}function is(e,t,n,s){(s&Sn)!==0&&Ut(e.v,t),(s&xn)!==0?Ut(e.i,n):e.i=n}function os(e,t,n,s,r,i,o,c,u,f,d){var h=(u&Sn)!==0,g=(u&Hs)===0,p=h?g?W(r,!1,!1):Yt(r):r,l=(u&xn)===0?o:Yt(o),m={i:l,v:p,k:i,a:null,e:null,prev:n,next:s};try{if(e===null){var S=document.createDocumentFragment();S.append(e=Lt())}return m.e=Kt(()=>c(e,p,l,f),na),m.e.prev=n&&n.e,m.e.next=s&&s.e,n===null?d||(t.first=m):(n.next=m,n.e.next=m.e),s!==null&&(s.prev=m,s.e.prev=m.e),m}finally{}}function $n(e,t,n){for(var s=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==s;){var o=kn(i);r.before(i),i=o}}function Ge(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const mr=[...` 	
\r\f \v\uFEFF`];function Da(e,t,n){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,o=0;(o=s.indexOf(r,o))>=0;){var c=o+i;(o===0||mr.includes(s[o-1]))&&(c===s.length||mr.includes(s[c]))?s=(o===0?"":s.substring(0,o))+s.substring(c+1):o=c}}return s===""?null:s}function La(e,t){return e==null?null:String(e)}function Le(e,t,n,s,r,i){var o=e.__className;if(o!==n||o===void 0){var c=Da(n,s,i);c==null?e.removeAttribute("class"):t?e.className=c:e.setAttribute("class",c),e.__className=n}else if(i&&r!==i)for(var u in i){var f=!!i[u];(r==null||f!==!!r[u])&&e.classList.toggle(u,f)}return i}function Zt(e,t,n,s){var r=e.__style;if(r!==t){var i=La(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return s}const Fa=Symbol("is custom element"),Va=Symbol("is html");function Wa(e,t){var n=ls(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function V(e,t,n,s){var r=ls(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[Ps]=n),n==null?e.removeAttribute(t):typeof n!="string"&&qa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ls(e){return e.__attributes??={[Fa]:e.nodeName.includes("-"),[Va]:e.namespaceURI===ta}}var wr=new Map;function qa(e){var t=e.getAttribute("is")||e.nodeName,n=wr.get(t);if(n)return n;wr.set(t,n=[]);for(var s,r=e,i=Element.prototype;i!==r;){s=Ar(r);for(var o in s)s[o].set&&n.push(o);r=Bn(r)}return n}const Ha=()=>performance.now(),at={tick:e=>requestAnimationFrame(e),now:()=>Ha(),tasks:new Set};function cs(){const e=at.now();at.tasks.forEach(t=>{t.c(e)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(cs)}function Ba(e){let t;return at.tasks.size===0&&at.tick(cs),{promise:new Promise(n=>{at.tasks.add(t={c:e,f:n})}),abort(){at.tasks.delete(t)}}}function un(e,t){nn(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ya(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function br(e){const t={},n=e.split(";");for(const s of n){const[r,i]=s.split(":");if(!r||i===void 0)break;const o=Ya(r.trim());t[o]=i.trim()}return t}const Ua=e=>e;function Ln(e,t,n,s){var r=(e&Js)!==0,i=(e&Xs)!==0,o=r&&i,c=(e&Zs)!==0,u=o?"both":r?"in":"out",f,d=t.inert,h=t.style.overflow,g,p;function l(){return nn(()=>f??=n()(t,s?.()??{},{direction:u}))}var m={is_global:c,in(){if(t.inert=d,!r){p?.abort(),p?.reset?.();return}i||g?.abort(),un(t,"introstart"),g=Fn(t,l(),p,1,()=>{un(t,"introend"),g?.abort(),g=f=void 0,t.style.overflow=h})},out(P){if(!i){P?.(),f=void 0;return}t.inert=!0,un(t,"outrostart"),p=Fn(t,l(),g,0,()=>{un(t,"outroend"),P?.()})},stop:()=>{g?.abort(),p?.abort()}},S=B;if((S.transitions??=[]).push(m),r&&Dn){var E=c;if(!E){for(var $=S.parent;$&&($.f&bn)!==0;)for(;($=$.parent)&&($.f&kt)===0;);E=!$||($.f&wn)!==0}E&&Yr(()=>{k(()=>m.in())})}}function Fn(e,t,n,s,r){var i=s===1;if(As(t)){var o,c=!1;return En(()=>{if(!c){var S=t({direction:i?"in":"out"});o=Fn(e,S,n,s,r)}}),{abort:()=>{c=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return r(),{abort:Wt,deactivate:Wt,reset:Wt,t:()=>s};const{delay:u=0,css:f,tick:d,easing:h=Ua}=t;var g=[];if(i&&n===void 0&&(d&&d(0,1),f)){var p=br(f(0,1));g.push(p,p)}var l=()=>1-s,m=e.animate(g,{duration:u,fill:"forwards"});return m.onfinish=()=>{m.cancel();var S=n?.t()??1-s;n?.abort();var E=s-S,$=t.duration*Math.abs(E),P=[];if($>0){var z=!1;if(f)for(var j=Math.ceil($/16.666666666666668),A=0;A<=j;A+=1){var x=S+E*h(A/j),Z=br(f(x,1-x));P.push(Z),z||=Z.overflow==="hidden"}z&&(e.style.overflow="hidden"),l=()=>{var ue=m.currentTime;return S+E*h(ue/$)},d&&Ba(()=>{if(m.playState!=="running")return!1;var ue=l();return d(ue,1-ue),!0})}m=e.animate(P,{duration:$,fill:"forwards"}),m.onfinish=()=>{l=()=>s,d?.(s,1-s),r()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Wt)},deactivate:()=>{r=Wt},reset:()=>{s===0&&d?.(1,0)},t:()=>l()}}function Sr(e,t){return e===t||e?.[St]===t}function nr(e={},t,n,s){return Yr(()=>{var r,i;return Zn(()=>{r=i,i=[],k(()=>{e!==n(...i)&&(t(e,...i),r&&Sr(n(...r),e)&&t(null,...r))})}),()=>{En(()=>{i&&Sr(n(...i),e)&&t(null,...i)})}}),e}function an(e=!1){const t=ie,n=t.l.u;if(!n)return;let s=()=>F(t.s);if(e){let r=0,i={};const o=tn(()=>{let c=!1;const u=t.s;for(const f in u)u[f]!==i[f]&&(i[f]=u[f],c=!0);return c&&r++,r});s=()=>a(o)}n.b.length&&wa(()=>{xr(t,s),Mn(n.b)}),On(()=>{const r=k(()=>n.m.map(Rs));return()=>{for(const i of r)typeof i=="function"&&i()}}),n.a.length&&On(()=>{xr(t,s),Mn(n.a)})}function xr(e,t){if(e.l.s)for(const n of e.l.s)a(n);t()}let fn=!1;function Ka(e){var t=fn;try{return fn=!1,[e(),fn]}finally{fn=t}}function pe(e,t,n,s){var r=!Ot||(n&Ys)!==0,i=(n&Ks)!==0,o=(n&Gs)!==0,c=s,u=!0,f=()=>(u&&(u=!1,c=o?k(s):s),c),d;if(i){var h=St in e||$s in e;d=$t(e,t)?.set??(h&&t in e?P=>e[t]=P:void 0)}var g,p=!1;i?[g,p]=Ka(()=>e[t]):g=e[t],g===void 0&&s!==void 0&&(g=f(),d&&(r&&Ls(),d(g)));var l;if(r?l=()=>{var P=e[t];return P===void 0?f():(u=!0,P)}:l=()=>{var P=e[t];return P!==void 0&&(c=void 0),P===void 0?c:P},r&&(n&Us)===0)return l;if(d){var m=e.$$legacy;return(function(P,z){return arguments.length>0?((!r||!z||m||p)&&d(z?l():P),P):l()})}var S=!1,E=((n&Bs)!==0?tn:Ve)(()=>(S=!1,l()));i&&a(E);var $=B;return(function(P,z){if(arguments.length>0){const j=z?a(E):r&&i?Ct(P):P;return b(E,j),S=!0,c!==void 0&&(c=j),P}return Rt&&S||($.f&At)!==0?E.v:a(E)})}function rr(e){ie===null&&Cr(),Ot&&ie.l!==null?Xa(ie).m.push(e):On(()=>{const t=k(e);if(typeof t=="function")return t})}function Ga(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}function Ja(){const e=ie;return e===null&&Cr(),(t,n,s)=>{const r=e.s.$$events?.[t];if(r){const i=yn(r)?r.slice():[r],o=Ga(t,n,s);for(const c of i)c.call(e.x,o);return!o.defaultPrevented}return!0}}function Xa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Za="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Za);aa();function Qa(e){const t=[];if(Math.abs(e.bright)>=.56&&t.push(e.bright>0?"明るい":"暗い"),Math.abs(e.heavy)>=.56&&t.push(e.heavy>0?"重厚で":"軽やかで"),Math.abs(e.hardness_softness)>=.56&&t.push(e.hardness_softness>0?"硬い":"柔らかい"),Math.abs(e.sharp)>=.56&&t.push(e.sharp>0?"鋭い":"鈍い"),Math.abs(e.size)>=.56&&t.push(e.size>0?"大きい":"小さい"),t.length===0)return"バランスの取れた中性的な印象です";if(t.length===1)return`${t[0]}印象です`;{const s=t.pop();return`${t.join("、")}、${s}印象です`}}function Ht(e){const t={あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",さ:"sa",し:"si",す:"su",せ:"se",そ:"so",サ:"sa",シ:"si",ス:"su",セ:"se",ソ:"so",ざ:"za",じ:"zi",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"zi",ズ:"zu",ゼ:"ze",ゾ:"zo",た:"ta",ち:"ti",つ:"tu",て:"te",と:"to",タ:"ta",チ:"ti",ツ:"tu",テ:"te",ト:"to",だ:"da",ぢ:"di",づ:"du",で:"de",ど:"do",ダ:"da",ヂ:"di",ヅ:"du",デ:"de",ド:"do",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"hu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"hu",ヘ:"he",ホ:"ho",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",ワ:"wa",ヰ:"wi",ヱ:"we",ヲ:"wo",ン:"n",きゃ:"kya",きゅ:"kyu",きょ:"kyo",キャ:"kya",キュ:"kyu",キョ:"kyo",しゃ:"sya",しゅ:"syu",しょ:"syo",シャ:"sya",シュ:"syu",ショ:"syo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",チャ:"tya",チュ:"tyu",チョ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",ミャ:"mya",ミュ:"myu",ミョ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ジャ:"zya",ジュ:"zyu",ジョ:"zyo",びゃ:"bya",びゅ:"byu",びょ:"byo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",ゃ:"ya",ゅ:"yu",ょ:"yo",ャ:"ya",ュ:"yu",ョ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",っ:"tu",ッ:"tu",ー:"ー"};let n="";for(let s=0;s<e.length;s++){if(s<e.length-1){const i=e.slice(s,s+2);if(t[i]){n+=t[i],s++;continue}}const r=e[s];t[r]?n+=t[r]:n+=r}return n}function ei(e,t){const n={consonants:{},vowels:{},special:{}};let s=Ht(e),r="";for(let i=0;i<e.length;i++)if(e[i]==="ー"&&i>0){const c=Ht(e[i-1]).slice(-1);"aiueo".includes(c)?r+=c:r+=Ht(e[i])}else r+=Ht(e[i]);s=r,s=s.replace(/tu(.)/g,"$1$1");for(const i of e)t.phoneme.special[i]&&(n.special[i]||(n.special[i]=[]),n.special[i].push(...t.phoneme.special[i]));for(const i of s)t.phoneme.consonants[i]?(n.consonants[i]||(n.consonants[i]=[]),n.consonants[i].push(...t.phoneme.consonants[i])):t.phoneme.vowels[i]&&(n.vowels[i]||(n.vowels[i]=[]),n.vowels[i].push(...t.phoneme.vowels[i]));return n}class sr{constructor(t){this.capacity=t,this.cache=new Map}get(t){if(this.cache.has(t)){const n=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,n),n}}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.capacity){const s=this.cache.keys().next().value;s!==void 0&&this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}const Vn=new sr(1e3),Wn=new sr(500),qn=new sr(2e3);function ar(e){const t=qn.get(e);if(t!==void 0)return t;let n=e.trim();return n=n.replace(/[Ａ-Ｚａ-ｚ０-９]/g,s=>String.fromCharCode(s.charCodeAt(0)-65248)),n=n.replace(/[^\u3041-\u3096\u30A1-\u30F6\u30FC\u3063\u3083\u3085\u3087\u308E\u30C1\u30E3\u30E5\u30E7\u30A1\u30A3\u30A5\u30A7\u30A9]/g,""),qn.set(e,n),n}function ir(e,t){const n=`${e}:${JSON.stringify(t).slice(0,100)}`,s=Vn.get(n);if(s!==void 0)return s;const r=ei(e,t);return Vn.set(n,r),r}function us(e,t){const n=`${e}:${JSON.stringify(t.scoring||{}).slice(0,100)}`,s=Wn.get(n);if(s!==void 0)return s;const r=si(e,t);return Wn.set(n,r),r}function fs(){return{phoneme:Vn.size(),scoring:Wn.size(),normalized:qn.size()}}function ti(e,t){const n=performance.now(),s=e(),r=performance.now();return r-n>100&&console.warn(`Performance warning: ${t} took ${(r-n).toFixed(2)}ms`),s}function ni(e){if(!e||typeof e!="object")return{isValid:!1,error:"ルールファイルの形式が無効です。"};const t=["phoneme","structure","rhyme","start"];for(const n of t)if(!e[n])return{isValid:!1,error:`ルールファイルに必須セクション '${n}' がありません。`};return!e.phoneme.consonants||!e.phoneme.vowels?{isValid:!1,error:"ルールファイルの音素セクションが不完全です。"}:e.scoring&&(!e.scoring.phoneme||!e.scoring.structure)?{isValid:!1,error:"スコアリングルールの構造が無効です。"}:{isValid:!0}}function st(e,t){if(typeof console<"u"){const s={timestamp:new Date().toISOString(),eventType:e,data:t,cacheStats:fs()};console.log(`[Analysis] ${e}:`,s)}}function ri(){const e={};let t="healthy";const n=performance.now(),s=performance.now()-n;if(e.responseTime=`${s.toFixed(2)}ms`,s>50&&(t="warning",e.performance="Slow response detected"),typeof performance<"u"&&"memory"in performance){const i=performance.memory;e.memory={used:`${(i.usedJSHeapSize/1024/1024).toFixed(2)}MB`,total:`${(i.totalJSHeapSize/1024/1024).toFixed(2)}MB`,limit:`${(i.jsHeapSizeLimit/1024/1024).toFixed(2)}MB`},i.usedJSHeapSize/i.jsHeapSizeLimit>.8&&(t="warning",e.memoryWarning="High memory usage detected")}const r=fs();return e.cache=r,(r.phoneme>800||r.scoring>400)&&(e.cacheWarning="Cache approaching capacity"),{status:t,details:e}}function si(e,t){const n=performance.now();if(!t.scoring)throw new Error("Scoring rules not found");const s=ar(e),r=ir(s,t),i=["hardness_softness","brightness","heaviness","sharpness","size"],o=[];for(const l of i){const m=ai(s,r,t,l);o.push(m)}const c=o.reduce((l,m)=>l+m.score,0),u=o.reduce((l,m)=>l+m.maxScore,0),f=oi(c,u),d=o.reduce((l,m)=>l+m.confidence,0)/o.length,h={};o.forEach(l=>{h[l.category]=l.score/l.maxScore});const p=performance.now()-n;return p>500&&console.warn(`Scoring calculation took ${p}ms, exceeding 500ms target`),{totalScore:c,maxPossibleScore:u,normalizedScore:f,categoryScores:o,confidence:d,breakdown:h}}function ai(e,t,n,s){if(!n.scoring)throw new Error("Scoring rules not found");let r=0,i=0,o=0,c=0;const u=[];for(const[h,g]of Object.entries(t.consonants)){const p=n.scoring.phoneme.consonants[h]?.[s];if(p){const l=g.length;r+=p.score*p.weight*l,i+=p.weight*l,o+=p.weight*l,c+=p.weight*l,u.push(`子音-${h}`)}}for(const[h,g]of Object.entries(t.vowels)){const p=n.scoring.phoneme.vowels[h]?.[s];if(p){const l=g.length;r+=p.score*p.weight*l,i+=p.weight*l,o+=p.weight*l,c+=p.weight*l,u.push(`母音-${h}`)}}const f=ii(e,n,s);r+=f.score,i+=f.maxScore,o+=f.confidence,c+=f.weight,u.push(...f.appliedRules);const d=c>0?o/c:0;return{category:s,score:r,maxScore:Math.max(i,1),confidence:Math.min(d,1),appliedRules:u}}function ii(e,t,n){if(!t.scoring?.structure)return{score:0,maxScore:0,confidence:0,weight:0,appliedRules:[]};let s=0,r=0,i=0,o=0;const c=[],u=/(.)\1/.test(e);if(/(.)\1\1/.test(e)){const l=t.scoring.structure.repetition.triple_or_more[n];l&&(s+=l.score*l.weight,r+=l.weight,i+=l.weight,o+=l.weight,c.push("repetition-triple"))}else if(u){const l=t.scoring.structure.repetition.double[n];l&&(s+=l.score*l.weight,r+=l.weight,i+=l.weight,o+=l.weight,c.push("repetition-double"))}const d=e.slice(-1);if("あいうえお".includes(d)){const l=t.scoring.structure.ending.vowel[n];l&&(s+=l.score*l.weight,r+=l.weight,i+=l.weight,o+=l.weight,c.push("ending-vowel"))}else if(d==="ん"){const l=t.scoring.structure.ending.n[n];l&&(s+=l.score*l.weight,r+=l.weight,i+=l.weight,o+=l.weight,c.push("ending-n"))}let h;e.length<=2?h="short":e.length<=4?h="medium":h="long";const g=t.scoring.structure.length[h]?.[n];g&&(s+=g.score*g.weight,r+=g.weight,i+=g.weight,o+=g.weight,c.push(`長さ-${h}`));const p=o>0?i/o:0;return{score:s,maxScore:r,confidence:p,weight:o,appliedRules:c}}function oi(e,t){return t===0?0:Math.max(0,Math.min(1,e/t))}function vs(e,t,n=!1){return ti(()=>{const s=ar(e),r={start:[],end:[],length:[],repetition:[]};if(!s)return{summary:"分析対象のテキストがありません。",details:r};const i=ir(s,t),o=Ht(s),c=o[0],u=o[o.length-1];if(t.start.consonants[c]){r.start.push(...t.start.consonants[c]);const l=i.consonants[c];l&&l.length>0&&r.start.push(...l)}if(t.start.vowels[c]){r.start.push(...t.start.vowels[c]);const l=i.vowels[c];l&&l.length>0&&r.start.push(...l)}t.structure.ending[u]&&r.end.push(...t.structure.ending[u]),s.length<=2?r.length.push(...t.structure.length.short):s.length<=4?r.length.push(...t.structure.length.medium):r.length.push(...t.structure.length.long),new Set(s.split("")).size<=s.length/2&&r.repetition.push(...t.structure.repetition.double),Object.keys(r).forEach(l=>{r[l]=[...new Set(r[l])]});const d=[],h={start:"開始音",end:"終了音",length:"長さ",repetition:"繰り返し"};for(const[l,m]of Object.entries(r))if(m.length>0){const S=m.slice(0,2).join("、"),E=h[l]||l;d.push(`${E}は${S}の印象があります`)}const p={summary:d.join("。"),details:r};if(n&&"scoring"in t&&t.scoring)try{const l=us(s,t),m=l.confidence;return{...p,scoring:l,confidence:m,metadata:{analysisVersion:"2.0.0",timestamp:new Date().toISOString(),rulesVersion:"1.0.0"}}}catch(l){return console.warn("Scoring calculation failed:",l),p}return p},`analyzeWord(${e})`)}function li(e,t){const n=ar(e);if(!n)return{summary:"分析対象のテキストがありません。",details:{},phonemeAnalysis:{consonants:{},vowels:{},special:{}},impressionScores:{bright:0,heavy:0,hardness_softness:0,sharp:0,size:0},confidence:0};const s=ir(n,t);let r={bright:0,heavy:0,hardness_softness:0,sharp:0,size:0},i=0;try{const u=us(n,t),f={brightness:"bright",heaviness:"heavy",hardness_softness:"hardness_softness",sharpness:"sharp",size:"size"};for(const d of u.categoryScores){const h=d.score/d.maxScore,g=f[d.category];g&&(r[g]=h)}i=u.confidence}catch(u){throw console.error("Scoring calculation failed:",u),new Error("スコアリング計算に失敗しました。")}const o=vs(n,t);return{summary:Qa(r),details:o.details,phonemeAnalysis:s,impressionScores:r,confidence:i}}var ci=N('<button type="button" class="clear-button svelte-n6wpaw" aria-label="入力をクリア">×</button>'),ui=N('<div class="validation-message svelte-n6wpaw">ひらがな、カタカナ以外が入力されています</div>'),fi=N('<button type="button" class="sample-button svelte-n6wpaw"> </button>'),vi=N('<div class="text-input-container svelte-n6wpaw"><div class="input-wrapper svelte-n6wpaw"><input type="text" autocomplete="off" spellcheck="false"/> <!></div> <div class="input-meta svelte-n6wpaw"><div> </div> <!></div> <div class="sample-texts svelte-n6wpaw"><span class="sample-label svelte-n6wpaw">サンプル:</span> <!></div> <div class="input-guide svelte-n6wpaw"><details class="svelte-n6wpaw"><summary class="svelte-n6wpaw">入力について</summary> <ul class="svelte-n6wpaw"><li class="svelte-n6wpaw">すべての文字が入力可能です</li> <li class="svelte-n6wpaw"> </li> <li class="svelte-n6wpaw">入力中は自動的に分析が実行されます</li></ul></details></div></div>');function di(e,t){Nt(t,!1);const n=W(),s=W(),r=W(),i=W();let o=pe(t,"value",12,""),c=pe(t,"placeholder",8,"テキストを入力してください"),u=pe(t,"debounceMs",8,300),f=pe(t,"maxLength",8,50),d=pe(t,"onInput",8,()=>{}),h=pe(t,"onAnalyze",8,()=>{});Ja();let g,p=W(),l="";function m(O){return O.substring(0,f())}function S(O){const G=O.target,se=G.value,le=m(se);se!==le&&(G.value=le),o(le),d()(o()),clearTimeout(g),o().trim()&&o()!==l&&(g=setTimeout(()=>{l=o(),h()(o())},u()))}function E(O){O.preventDefault();const G=O.clipboardData?.getData("text")||"",se=m(G),le=a(p).selectionStart||0,Se=a(p).selectionEnd||0,oe=o().substring(0,le)+se+o().substring(Se);o(m(oe)),d()(o()),clearTimeout(g),o().trim()&&o()!==l&&(g=setTimeout(()=>{l=o(),h()(o())},u()))}function $(){o(""),l="",clearTimeout(g),a(p)&&vr(p,a(p).value=""),a(p)?.focus(),d()(o())}const P=["さくら","つばめ","かぜ","ひかり","みどり","そら"];function z(O){o(O),a(p)&&vr(p,a(p).value=O),d()(o()),clearTimeout(g),o()!==l&&(l=o(),h()(o()))}he(()=>F(o()),()=>{b(n,o().length>0)}),he(()=>F(o()),()=>{b(s,o().length>0&&!/^[ぁ-んァ-ヴーゃゅょっ\s]*$/.test(o()))}),he(()=>F(o()),()=>{b(r,o().length)}),he(()=>(F(f()),a(r)),()=>{b(i,f()-a(r))}),zn(),an();var j=vi(),A=_(j),x=_(A);let Z;nr(x,O=>b(p,O),()=>a(p));var ue=y(x,2);{var Te=O=>{var G=ci();ve("click",G,$),R(O,G)};Y(ue,O=>{o()&&O(Te)})}var M=y(A,2),v=_(M);let w;var T=_(v),D=y(v,2);{var q=O=>{var G=ui();R(O,G)};Y(D,O=>{a(s)&&O(q)})}var te=y(M,2),re=y(_(te),2);de(re,1,()=>P,ye,(O,G)=>{var se=fi(),le=_(se);H(()=>I(le,a(G))),ve("click",se,()=>z(a(G))),R(O,se)});var C=y(te,2),fe=_(C),ze=y(_(fe),2),we=y(_(ze),2),ne=_(we);H((O,G)=>{Wa(x,o()),Z=Le(x,1,"text-input svelte-n6wpaw",null,Z,O),V(x,"placeholder",c()),V(x,"maxlength",f()),w=Le(v,1,"char-counter svelte-n6wpaw",null,w,G),I(T,`${a(r)??""} / ${f()??""}`),I(ne,`最大${f()??""}文字まで入力できます`)},[()=>({valid:a(n),invalid:!a(n)&&o().length>0}),()=>({warning:a(i)<=10})]),ve("input",x,S),ve("paste",x,E),R(e,j),Dt()}var pi=sn('<polygon fill="none" stroke="var(--grid-color, #e0e0e0)" stroke-width="1"></polygon>'),hi=sn('<line stroke="var(--axis-color, #666)" stroke-width="1" opacity="0.5"></line>'),_i=sn('<circle r="4" fill="var(--data-stroke, rgb(59, 130, 246))" stroke="white" stroke-width="2" role="button" tabindex="0"></circle>'),gi=sn('<text text-anchor="middle" dominant-baseline="central" font-size="12" fill="var(--label-color, #333)" role="button" tabindex="0"> </text>'),yi=sn('<text text-anchor="middle" dominant-baseline="central" class="center-value svelte-jhas6y" font-size="16" font-weight="bold" fill="var(--data-stroke, rgb(59, 130, 246))"> </text>'),mi=N(" <br/> <br/> ",1),wi=N(" <br/> ",1),bi=N('<div class="tooltip svelte-jhas6y"><strong> </strong><br/> <!></div>'),Si=N('<div class="radar-chart-container svelte-jhas6y"><svg preserveAspectRatio="xMidYMid meet" class="radar-chart-svg svelte-jhas6y"><!><!><path fill="var(--data-fill, rgba(59, 130, 246, 0.3))" stroke="var(--data-stroke, rgb(59, 130, 246))" stroke-width="2"></path><!><!><!></svg> <!></div>');function xi(e,t){Nt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let c=pe(t,"data",8,null),u=pe(t,"scoringData",8,null),f=pe(t,"confidence",8,1),d=pe(t,"size",8,300),h=W(null);const g={bright:"明るさ",heavy:"重厚さ",soft:"柔らかさ",sharp:"鋭さ",light:"軽やかさ",brightness:"明るさ",heaviness:"重厚さ",softness:"柔らかさ",sharpness:"鋭さ",hardness_softness:"硬さ",size:"大きさ"},p=d()/2,l=p*.8;function m(M,v){const w=(M-90)*Math.PI/180;return{x:p+v*Math.cos(w),y:p+v*Math.sin(w)}}he(()=>(F(u()),F(c())),()=>{b(n,(()=>{if(u()&&u().length>0){const v=["brightness","size","heaviness","sharpness","hardness_softness"].map(T=>u().find(D=>D.category===T)).filter(Boolean),w=360/v.length;return v.map((T,D)=>({key:T.category,label:g[T.category]||T.category,angle:D*w,scoreData:T}))}else return c()?[{key:"bright",label:"明るさ",angle:0},{key:"sharp",label:"鋭さ",angle:72},{key:"light",label:"軽やかさ",angle:144},{key:"soft",label:"柔らかさ",angle:216},{key:"heavy",label:"重厚さ",angle:288}]:[]})())}),he(()=>(a(n),F(u()),F(c())),()=>{b(s,a(n).map(M=>{let v,w;u()&&"scoreData"in M?(v=M.scoreData.score/M.scoreData.maxScore,w=Math.max(0,Math.min(1,v))):c()&&M.key in c()?(v=c()[M.key]||0,w=Math.max(-1,Math.min(1,v)),w=(w+1)/2):(v=0,w=0);const T=l*w;return{...M,value:u()?v:v||0,normalizedValue:w,...m(M.angle,T)}}))}),he(()=>a(n),()=>{b(r,[.2,.4,.6,.8,1].map(M=>a(n).map(v=>m(v.angle,l*M))))}),he(()=>a(s),()=>{b(i,a(s).map((M,v)=>`${v===0?"M":"L"} ${M.x} ${M.y}`).join(" ")+" Z")}),he(()=>a(n),()=>{b(o,a(n).map(M=>({...M,...m(M.angle,l+30)})))}),zn(),an();var S=Si(),E=_(S),$=_(E);de($,1,()=>a(r),ye,(M,v,w)=>{var T=pi();Le(T,0,`grid-line grid-level-${w+1}`,"svelte-jhas6y"),V(T,"opacity",.3+w*.1),H(D=>V(T,"points",D),[()=>(a(v),k(()=>a(v).map(D=>`${D.x},${D.y}`).join(" ")))]),R(M,T)});var P=y($);de(P,1,()=>a(n),ye,(M,v)=>{const w=Ve(()=>(a(v),k(()=>m(a(v).angle,l))));var T=hi();H(()=>{V(T,"x1",p),V(T,"y1",p),V(T,"x2",(F(a(w)),k(()=>a(w).x))),V(T,"y2",(F(a(w)),k(()=>a(w).y)))}),R(M,T)});var z=y(P),j=y(z);de(j,1,()=>a(s),ye,(M,v)=>{var w=_i();let T;H((D,q)=>{V(w,"cx",(a(v),k(()=>a(v).x))),V(w,"cy",(a(v),k(()=>a(v).y))),T=Le(w,0,"data-point svelte-jhas6y",null,T,D),V(w,"aria-label",`${a(v),k(()=>a(v).label)??""}: ${q??""}`)},[()=>({hovered:a(h)===a(v).key}),()=>(a(v),k(()=>a(v).value.toFixed(2)))]),ve("mouseenter",w,()=>b(h,a(v).key)),ve("mouseleave",w,()=>b(h,null)),ve("focus",w,()=>b(h,a(v).key)),ve("blur",w,()=>b(h,null)),R(M,w)});var A=y(j);de(A,1,()=>a(o),ye,(M,v)=>{var w=gi();let T;var D=_(w);H(q=>{V(w,"x",(a(v),k(()=>a(v).x))),V(w,"y",(a(v),k(()=>a(v).y))),T=Le(w,0,"axis-label svelte-jhas6y",null,T,q),V(w,"aria-label",`軸ラベル: ${a(v),k(()=>a(v).label)??""}`),I(D,(a(v),k(()=>a(v).label)))},[()=>({hovered:a(h)===a(v).key})]),ve("mouseenter",w,()=>b(h,a(v).key)),ve("mouseleave",w,()=>b(h,null)),ve("focus",w,()=>b(h,a(v).key)),ve("blur",w,()=>b(h,null)),R(M,w)});var x=y(A);{var Z=M=>{const v=Ve(()=>(a(s),a(h),k(()=>a(s).find(q=>q.key===a(h)))));var w=Xt(),T=ft(w);{var D=q=>{var te=yi(),re=_(te);H(C=>{V(te,"x",p),V(te,"y",p),I(re,C)},[()=>(F(a(v)),k(()=>a(v).value.toFixed(2)))]),R(q,te)};Y(T,q=>{a(v)&&q(D)})}R(M,w)};Y(x,M=>{a(h)&&M(Z)})}var ue=y(E,2);{var Te=M=>{const v=Ve(()=>(a(s),a(h),k(()=>a(s).find(q=>q.key===a(h)))));var w=Xt(),T=ft(w);{var D=q=>{var te=bi(),re=_(te),C=_(re),fe=y(re,3);{var ze=ne=>{var O=mi(),G=ft(O),se=y(G,2),le=y(se,2);H((Se,oe)=>{I(G,`スコア: ${Se??""}%`),I(se,` 信頼度: ${oe??""}%`),I(le,` 適用ルール: ${F(a(v)),k(()=>a(v).scoreData.appliedRules.length)??""}個`)},[()=>(F(a(v)),k(()=>(a(v).value*100).toFixed(1))),()=>(F(a(v)),k(()=>(a(v).scoreData.confidence*100).toFixed(0)))]),R(ne,O)},we=ne=>{var O=wi(),G=ft(O),se=y(G,2);H((le,Se)=>{I(G,`スコア: ${le??""}`),I(se,` 信頼度: ${Se??""}%`)},[()=>(F(a(v)),k(()=>a(v).value.toFixed(2))),()=>(F(f()),k(()=>(f()*100).toFixed(0)))]),R(ne,O)};Y(fe,ne=>{u()&&"scoreData"in a(v)?ne(ze):ne(we,!1)})}H(()=>{Zt(te,`--confidence: ${f()??""}`),I(C,(F(a(v)),k(()=>a(v).label)))}),R(q,te)};Y(T,q=>{a(v)&&q(D)})}R(M,w)};Y(ue,M=>{a(h)&&M(Te)})}H(()=>{V(E,"viewBox",`0 0 ${d()??""} ${d()??""}`),V(z,"d",a(i)),V(z,"opacity",f())}),R(e,S),Dt()}const Ei=e=>e;function ds(e){const t=e-1;return t*t*t+1}function Er(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ki(e,{delay:t=0,duration:n=400,easing:s=Ei}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function zi(e,{delay:t=0,duration:n=400,easing:s=ds,x:r=0,y:i=0,opacity:o=0}={}){const c=getComputedStyle(e),u=+c.opacity,f=c.transform==="none"?"":c.transform,d=u*(1-o),[h,g]=Er(r),[p,l]=Er(i);return{delay:t,duration:n,easing:s,css:(m,S)=>`
			transform: ${f} translate(${(1-m)*h}${g}, ${(1-m)*p}${l});
			opacity: ${u-d*S}`}}function Ai(e,{delay:t=0,duration:n=400,easing:s=ds,start:r=0,opacity:i=0}={}){const o=getComputedStyle(e),c=+o.opacity,u=o.transform==="none"?"":o.transform,f=1-r,d=c*(1-i);return{delay:t,duration:n,easing:s,css:(h,g)=>`
			transform: ${u} scale(${1-f*g});
			opacity: ${c-d*g}
		`}}const Ri={hardness_softness:"硬さ",size:"大きさ",brightness:"明るさ",heaviness:"重厚さ",sharpness:"鋭さ"},Ti={"start-consonant":"開始子音","start-vowel":"開始母音","length-short":"短い長さ","length-medium":"中程度長さ","length-long":"長い長さ","repetition-double":"二重繰り返し","repetition-triple":"三重繰り返し","phoneme-consonant":"子音音素","phoneme-vowel":"母音音素","phoneme-special":"特殊音素","ending-n":"「ん」で終了","ending-vowel":"母音で終了"};function wt(e){return Ri[e]||e}function gn(e){return Ti[e]||e}var Ci=N('<span class="sound-tag consonant svelte-g6pdjd"> </span>'),$i=N('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">子音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),Pi=N('<span class="sound-tag vowel svelte-g6pdjd"> </span>'),Mi=N('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">母音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),ji=N('<div class="contributing-sounds svelte-g6pdjd"><h4 class="svelte-g6pdjd">寄与音素</h4> <!> <!></div>'),Ii=N('<span class="factor-tag svelte-g6pdjd"> </span>'),Oi=N('<div class="structural-factors svelte-g6pdjd"><h4 class="svelte-g6pdjd">構造的要因</h4> <div class="factor-list svelte-g6pdjd"></div></div>'),Ni=N('<div class="tooltip-container svelte-g6pdjd"><div><div class="tooltip-header svelte-g6pdjd"><h3 class="category-title svelte-g6pdjd"> </h3> <div class="score-badge svelte-g6pdjd"> </div></div> <div class="score-details svelte-g6pdjd"><div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">レベル:</span> <span> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">実際スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">最大スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">信頼度:</span> <span class="value svelte-g6pdjd"> </span></div></div> <!> <!> <div class="tooltip-arrow svelte-g6pdjd"></div></div></div>');function Di(e,t){Nt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let c=pe(t,"categoryScore",8),u=pe(t,"visible",8,!1),f=pe(t,"x",8,0),d=pe(t,"y",8,0);pe(t,"containerWidth",8,0),pe(t,"containerHeight",8,0);let h=W(),g=W(0),p=W(0);rr(()=>{const z=()=>{b(g,window.innerWidth),b(p,window.innerHeight)};return z(),window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z)}});const l={"very-high":"非常に強い",high:"強い",medium:"中程度",low:"弱い","very-low":"非常に弱い"};function m(z){return z.toFixed(2)}function S(z){return z.toFixed(1)}he(()=>(a(g),F(f()),a(h)),()=>{b(n,(()=>{if(!a(g))return f();const z=a(h)?.offsetWidth||(a(g)<=480?280:320),j=16,A=8;let x=f()+j;return x+z+A>a(g)&&(x=f()-z-j),x<A&&(x=A),x})())}),he(()=>(a(p),F(d()),a(h)),()=>{b(s,(()=>{if(!a(p))return d();const z=a(h)?.offsetHeight||280,j=16,A=8;let x=d()+j;return x+z+A>a(p)&&(x=d()-z-j),x<A&&(x=A),x})())}),he(()=>(F(c()),gn),()=>{b(r,(()=>{const z=[],j=[],A=[];return c().appliedRules.forEach(x=>{x.startsWith("子音-")?z.push(x.replace("子音-","")):x.startsWith("母音-")?j.push(x.replace("母音-","")):A.push(gn(x))}),{consonantRules:z,vowelRules:j,structuralRules:A}})())}),he(()=>F(c()),()=>{b(i,c().score/c().maxScore*100)}),he(()=>a(i),()=>{b(o,(()=>{const z=a(i);return z>=80?"very-high":z>=60?"high":z>=40?"medium":z>=20?"low":"very-low"})())}),zn(),an();var E=Xt(),$=ft(E);{var P=z=>{var j=Ni(),A=_(j),x=_(A),Z=_(x),ue=_(Z),Te=y(Z,2),M=_(Te),v=y(x,2),w=_(v),T=y(_(w),2),D=_(T),q=y(w,2),te=y(_(q),2),re=_(te),C=y(q,2),fe=y(_(C),2),ze=_(fe),we=y(C,2),ne=y(_(we),2),O=_(ne),G=y(v,2);{var se=oe=>{var Ae=ji(),Ce=y(_(Ae),2);{var Qe=$e=>{var tt=$i(),ht=y(_(tt),2);de(ht,5,()=>(a(r),k(()=>a(r).consonantRules)),ye,(U,Q)=>{var ae=Ci(),J=_(ae);H(()=>I(J,a(Q))),R(U,ae)}),R($e,tt)};Y(Ce,$e=>{a(r),k(()=>a(r).consonantRules.length>0)&&$e(Qe)})}var Be=y(Ce,2);{var et=$e=>{var tt=Mi(),ht=y(_(tt),2);de(ht,5,()=>(a(r),k(()=>a(r).vowelRules)),ye,(U,Q)=>{var ae=Pi(),J=_(ae);H(()=>I(J,a(Q))),R(U,ae)}),R($e,tt)};Y(Be,$e=>{a(r),k(()=>a(r).vowelRules.length>0)&&$e(et)})}R(oe,Ae)};Y(G,oe=>{a(r),k(()=>a(r).consonantRules.length>0||a(r).vowelRules.length>0)&&oe(se)})}var le=y(G,2);{var Se=oe=>{var Ae=Oi(),Ce=y(_(Ae),2);de(Ce,5,()=>(a(r),k(()=>a(r).structuralRules)),ye,(Qe,Be)=>{var et=Ii(),$e=_(et);H(()=>I($e,a(Be))),R(Qe,et)}),R(oe,Ae)};Y(le,oe=>{a(r),k(()=>a(r).structuralRules.length>0)&&oe(Se)})}nr(A,oe=>b(h,oe),()=>a(h)),H((oe,Ae,Ce,Qe,Be)=>{Zt(j,`left: ${a(n)??""}px; top: ${a(s)??""}px;`),Le(A,1,`tooltip-content level-${a(o)??""}`,"svelte-g6pdjd"),I(ue,oe),I(M,`${Ae??""}%`),Le(T,1,`value level-indicator level-${a(o)??""}`,"svelte-g6pdjd"),I(D,(a(o),k(()=>l[a(o)]))),I(re,Ce),I(ze,Qe),I(O,`${Be??""}%`)},[()=>(F(wt),F(c()),k(()=>wt(c().category))),()=>(a(i),k(()=>S(a(i)))),()=>(F(c()),k(()=>m(c().score))),()=>(F(c()),k(()=>m(c().maxScore))),()=>(F(c()),k(()=>S(c().confidence*100)))]),Ln(3,j,()=>zi,()=>({y:10,duration:200})),R(z,j)};Y($,z=>{u()&&z(P)})}R(e,E),Dt()}var Li=N('<div class="overall-score svelte-1nzd1e2"><div class="chart-container svelte-1nzd1e2"><svg preserveAspectRatio="xMidYMid meet" class="donut-chart svelte-1nzd1e2"><circle fill="none" stroke="#ecf0f1"></circle><circle fill="none" stroke="#2ecc71" stroke-linecap="round" class="score-circle svelte-1nzd1e2"></circle><text text-anchor="middle" class="score-text svelte-1nzd1e2"> </text><text text-anchor="middle" class="score-label svelte-1nzd1e2">総合スコア</text><text text-anchor="middle" class="confidence-text svelte-1nzd1e2"> </text></svg></div></div>'),Fi=N("<button> </button>"),Vi=N('<div class="category-expanded svelte-1nzd1e2"><div class="score-breakdown svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div></div></div>'),Wi=N('<div role="button" tabindex="0"><div class="category-header svelte-1nzd1e2"><span class="category-name svelte-1nzd1e2"> </span> <span class="category-score svelte-1nzd1e2"> </span></div> <div class="progress-bar svelte-1nzd1e2"><div class="progress-background svelte-1nzd1e2"></div> <div class="progress-fill svelte-1nzd1e2"></div></div> <div class="category-details svelte-1nzd1e2"><span class="confidence"> </span> <span class="applied-rules"> </span></div> <!></div>'),qi=N("<span> </span>"),Hi=N('<div class="category-filters svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリフィルター</h3> <div class="filter-buttons svelte-1nzd1e2"><button>すべて</button> <!></div></div> <div class="category-scores svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリ別スコア</h3> <!></div> <div class="score-breakdown svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">スコア詳細</h4> <div class="breakdown-grid svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">合計スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">最大可能スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">正規化スコア:</span> <span class="value svelte-1nzd1e2"> </span></div></div> <div class="applied-rules-section svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">適用されたルール</h4> <div class="applied-rules-list svelte-1nzd1e2"></div></div></div>',1),Bi=N('<div class="score-display svelte-1nzd1e2" role="region" aria-label="スコア分析結果"><!> <!> <!></div>');function kr(e,t){Nt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let c=pe(t,"scoringResult",8),u=pe(t,"size",8,300),f=pe(t,"showDetails",8,!0),d=W(null),h=W(null),g=W(0),p=W(0),l=W(),m=W(null);const S={hardness_softness:"#e74c3c",size:"#3498db",brightness:"#f1c40f",heaviness:"#9b59b6",sharpness:"#e67e22"},E=u()/2,$=E*.7,P=20;function z(C){return(C*100).toFixed(1)}function j(C){return(C*100).toFixed(0)}function A(C){return C==="子音-n"?"special":C.includes("子音")?"consonant":C.includes("母音")?"vowel":C.includes("special")?"special":"structure"}rr(()=>(x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}));function x(){a(l)&&a(l).getBoundingClientRect()}function Z(C){b(g,C.clientX),b(p,C.clientY)}function ue(C){a(h)===C?b(h,null):b(h,C)}function Te(C){a(m)===C?b(m,null):b(m,C)}he(()=>{},()=>{b(n,2*Math.PI*$)}),he(()=>(a(n),F(c())),()=>{b(s,a(n)*(1-c().normalizedScore))}),he(()=>F(c()),()=>{b(r,[...c().categoryScores].sort((C,fe)=>fe.score/fe.maxScore-C.score/C.maxScore))}),he(()=>(a(m),a(r)),()=>{b(i,a(m)?a(r).filter(C=>C.category===a(m)):a(r))}),he(()=>(a(d),F(c())),()=>{b(o,a(d)?c().categoryScores.find(C=>C.category===a(d)):null)}),zn(),an();var M=Bi(),v=_(M);{var w=C=>{var fe=Li(),ze=_(fe),we=_(ze),ne=_(we);V(ne,"stroke-width",P);var O=y(ne);V(O,"stroke-width",P);var G=y(O),se=_(G),le=y(G),Se=y(le),oe=_(Se);H((Ae,Ce)=>{V(we,"viewBox",`0 0 ${u()??""} ${u()??""}`),V(ne,"cx",E),V(ne,"cy",E),V(ne,"r",$),V(O,"cx",E),V(O,"cy",E),V(O,"r",$),V(O,"stroke-dasharray",a(n)),V(O,"stroke-dashoffset",a(s)),V(O,"transform",`rotate(-90 ${E} ${E})`),V(G,"x",E),V(G,"y",E-10),I(se,`${Ae??""}%`),V(le,"x",E),V(le,"y",E+15),V(Se,"x",E),V(Se,"y",E+35),I(oe,`信頼度: ${Ce??""}%`)},[()=>(F(c()),k(()=>z(c().normalizedScore))),()=>(F(c()),k(()=>j(c().confidence)))]),R(C,fe)};Y(v,C=>{f()||C(w)})}var T=y(v,2);{var D=C=>{var fe=Hi(),ze=ft(fe),we=y(_(ze),2),ne=_(we);let O;var G=y(ne,2);de(G,1,()=>a(r),J=>J.category,(J,L)=>{const be=Ve(()=>(a(L),k(()=>S[a(L).category]||"#95a5a6")));var ee=Fi();let Pe;var X=_(ee);H((ce,xe)=>{Pe=Le(ee,1,"filter-button svelte-1nzd1e2",null,Pe,ce),Zt(ee,`--filter-color: ${a(be)??""};`),I(X,xe)},[()=>({active:a(m)===a(L).category}),()=>(F(wt),a(L),k(()=>wt(a(L).category)))]),ve("click",ee,()=>Te(a(L).category)),R(J,ee)});var se=y(ze,2),le=y(_(se),2);de(le,3,()=>a(i),J=>J.category,(J,L,be)=>{const ee=Ve(()=>(a(L),k(()=>a(L).score/a(L).maxScore))),Pe=Ve(()=>(a(L),k(()=>S[a(L).category]||"#95a5a6")));var X=Wi();let ce;var xe=_(X),Re=_(xe),Ye=_(Re),Me=y(Re,2),nt=_(Me),Ue=y(xe,2),Ne=y(_(Ue),2),je=y(Ue,2),qe=_(je),rt=_(qe),_t=y(qe,2),gt=_(_t),Ke=y(je,2);{var yt=Ft=>{var Vt=Vi(),An=_(Vt),on=_(An),ps=_(on),hs=_(ps),or=y(on,2),_s=_(or),gs=_(_s),ys=y(or,2),ms=_(ys),ws=_(ms);H((bs,Ss,xs)=>{I(hs,`実際スコア: ${bs??""}`),I(gs,`最大スコア: ${Ss??""}`),I(ws,`正規化率: ${xs??""}%`)},[()=>(a(L),k(()=>a(L).score.toFixed(2))),()=>(a(L),k(()=>a(L).maxScore.toFixed(2))),()=>(F(a(ee)),k(()=>z(a(ee))))]),Ln(3,Vt,()=>ki,()=>({duration:200})),R(Ft,Vt)};Y(Ke,Ft=>{a(h),a(L),k(()=>a(h)===a(L).category)&&Ft(yt)})}H((Ft,Vt,An,on)=>{ce=Le(X,1,"category-item svelte-1nzd1e2",null,ce,Ft),I(Ye,Vt),I(nt,`${An??""}%`),Zt(Ne,`width: ${a(ee)*100}%; background-color: ${a(Pe)??""};`),I(rt,`信頼度: ${on??""}%`),I(gt,`適用ルール: ${a(L),k(()=>a(L).appliedRules.length)??""}個`)},[()=>({hovered:a(d)===a(L).category,selected:a(h)===a(L).category}),()=>(F(wt),a(L),k(()=>wt(a(L).category))),()=>(F(a(ee)),k(()=>z(a(ee)))),()=>(a(L),k(()=>j(a(L).confidence)))]),ve("mouseenter",X,()=>b(d,a(L).category)),ve("mouseleave",X,()=>b(d,null)),ve("click",X,()=>ue(a(L).category)),Ln(1,X,()=>Ai,()=>({duration:300,delay:a(be)*50})),R(J,X)});var Se=y(se,2),oe=y(_(Se),2),Ae=_(oe),Ce=y(_(Ae),2),Qe=_(Ce),Be=y(Ae,2),et=y(_(Be),2),$e=_(et),tt=y(Be,2),ht=y(_(tt),2),U=_(ht),Q=y(oe,2),ae=y(_(Q),2);de(ae,5,()=>(F(c()),k(()=>[...new Set(c().categoryScores.flatMap(J=>J.appliedRules))].filter(J=>J!=null&&J!==""))),ye,(J,L)=>{var be=qi(),ee=_(be);H((Pe,X)=>{Le(be,1,`rule-tag ${Pe??""}`,"svelte-1nzd1e2"),I(ee,X)},[()=>(a(L),k(()=>A(a(L)))),()=>(F(gn),a(L),k(()=>gn(a(L))))]),R(J,be)}),H((J,L,be,ee)=>{O=Le(ne,1,"filter-button svelte-1nzd1e2",null,O,J),I(Qe,L),I($e,be),I(U,`${ee??""}%`)},[()=>({active:a(m)===null}),()=>(F(c()),k(()=>c().totalScore.toFixed(2))),()=>(F(c()),k(()=>c().maxPossibleScore.toFixed(2))),()=>(F(c()),k(()=>z(c().normalizedScore)))]),ve("click",ne,()=>b(m,null)),R(C,fe)},q=C=>{};Y(T,C=>{f()?C(D):C(q,!1)})}var te=y(T,2);{var re=C=>{Di(C,{get categoryScore(){return a(o)},visible:!0,get x(){return a(g)},get y(){return a(p)},containerWidth:k(()=>window.innerWidth),containerHeight:k(()=>window.innerHeight)})};Y(te,C=>{a(o)&&a(d)&&C(re)})}nr(M,C=>b(l,C),()=>a(l)),ve("mousemove",M,Z),ve("mouseleave",M,()=>{b(d,null)}),R(e,M),Dt()}var Yi=N("<div><!></div>"),Ui=N('<div class="error-message svelte-etyl5p"><p> </p></div>'),Ki=N('<div class="loading-state svelte-etyl5p"><div class="loading-spinner svelte-etyl5p"></div> <p>分析中...</p></div>'),Gi=N('<div class="summary-block svelte-etyl5p"><h3 class="svelte-etyl5p">分析サマリー</h3> <p class="summary-text svelte-etyl5p"> </p></div>'),Ji=N('<div class="summary-block svelte-etyl5p"><h3 class="svelte-etyl5p">スコア概要</h3> <p class="summary-text svelte-etyl5p">総合スコアは <strong> </strong> 点です。 <!></p> <p class="summary-text svelte-etyl5p"> </p></div>'),Xi=N('<div class="detailed-score-section svelte-etyl5p"><h3 class="svelte-etyl5p">詳細スコア</h3> <div class="score-container svelte-etyl5p"><!></div></div>'),Zi=N('<div class="category-analysis-card card svelte-etyl5p"><h2 class="svelte-etyl5p">カテゴリ分析</h2> <!></div>'),Qi=N('<span class="impression-tag consonant svelte-etyl5p"> </span>'),eo=N('<div class="phoneme-group svelte-etyl5p"><span class="phoneme-label svelte-etyl5p"> </span> <!></div>'),to=N('<div class="phoneme-category svelte-etyl5p"><h4 class="svelte-etyl5p">子音</h4> <div class="tag-container svelte-etyl5p"></div></div>'),no=N('<span class="impression-tag vowel svelte-etyl5p"> </span>'),ro=N('<div class="phoneme-group svelte-etyl5p"><span class="phoneme-label svelte-etyl5p"> </span> <!></div>'),so=N('<div class="phoneme-category svelte-etyl5p"><h4 class="svelte-etyl5p">母音</h4> <div class="tag-container svelte-etyl5p"></div></div>'),ao=N('<span class="impression-tag special svelte-etyl5p"> </span>'),io=N('<div class="phoneme-group svelte-etyl5p"><span class="phoneme-label svelte-etyl5p"> </span> <!></div>'),oo=N('<div class="phoneme-category svelte-etyl5p"><h4 class="svelte-etyl5p">特殊音</h4> <div class="tag-container svelte-etyl5p"></div></div>'),lo=N('<div class="analysis-section svelte-etyl5p"><h3 class="svelte-etyl5p">音素分析</h3> <!> <!> <!></div>'),co=N('<span class="impression-tag structure svelte-etyl5p"> </span>'),uo=N('<div class="structure-group svelte-etyl5p"><span class="category-label svelte-etyl5p"> </span> <!></div>'),fo=N('<div class="analysis-section svelte-etyl5p"><h3 class="svelte-etyl5p">構造分析</h3> <div class="tag-container svelte-etyl5p"></div></div>'),vo=N('<section class="results-section svelte-etyl5p"><div class="summary-card card svelte-etyl5p"><h2 class="svelte-etyl5p">総合印象</h2> <!> <!> <div class="confidence-indicator svelte-etyl5p"><span class="confidence-label svelte-etyl5p">信頼度:</span> <div class="confidence-bar svelte-etyl5p"><div class="confidence-fill svelte-etyl5p"></div></div> <span class="confidence-value svelte-etyl5p"> </span></div></div> <div class="analysis-results-card card svelte-etyl5p"><h2 class="svelte-etyl5p">分析結果と詳細スコア</h2> <div class="analysis-content svelte-etyl5p"><div class="analysis-chart-section svelte-etyl5p"><h3 class="svelte-etyl5p">音象徴分析</h3> <div class="chart-container svelte-etyl5p"><!></div></div> <!></div></div> <!> <div class="details-card card svelte-etyl5p"><h2 class="svelte-etyl5p">詳細分析</h2> <!> <!></div></section>'),po=N('<div class="welcome-message svelte-etyl5p"><h2 class="svelte-etyl5p">音象徴分析へようこそ</h2> <p class="svelte-etyl5p">ひらがな・カタカナで言葉を入力すると、その音の印象を5つの軸で分析します。</p> <ul class="feature-list svelte-etyl5p"><li class="svelte-etyl5p">✨ <strong>明るさ</strong> - 音の明暗を測定</li> <li class="svelte-etyl5p">🏋️ <strong>重厚さ</strong> - 音の重みを測定</li> <li class="svelte-etyl5p">🪶 <strong>柔らかさ</strong> - 音の質感を測定</li> <li class="svelte-etyl5p">⚡ <strong>鋭さ</strong> - 音の切れ味を測定</li> <li class="svelte-etyl5p">🎈 <strong>軽やかさ</strong> - 音の軽快さを測定</li></ul></div>'),ho=N('<div class="app-container svelte-etyl5p"><header class="app-header svelte-etyl5p"><h1 class="app-title svelte-etyl5p">音象徴分析アプリ</h1> <p class="app-subtitle svelte-etyl5p">ひらがな・カタカナの音の印象を5軸で分析</p> <!></header> <!> <main class="main-content svelte-etyl5p"><section class="input-section svelte-etyl5p"><!></section> <!> <!> <!></main></div>');function _o(e,t){Nt(t,!1);let n=null,s=W(""),r=W(null),i=W(null),o=W(!1),c=W(""),u=W("healthy");rr(async()=>{try{st("APP_INIT_START");const v=ri();b(u,v.status),v.status==="warning"&&console.warn("System performance warning:",v.details);const T=await fetch("/sound_symbolism/rules.json");if(!T.ok)throw new Error("ルールファイルの読み込みに失敗しました");const D=await T.json(),q=ni(D);if(!q.isValid)throw new Error(`ルールファイルが無効です: ${q.error}`);n=D,st("APP_INIT_SUCCESS",{hasScoring:!!(n&&n.scoring),systemStatus:v.status})}catch(v){console.error("Failed to load rules:",v),st("APP_INIT_ERROR",{error:v instanceof Error?v.message:String(v)}),b(u,"error"),b(c,v instanceof Error?v.message:"ルールファイルの読み込みに失敗しました。ページを再読み込みしてください。")}});async function f(v){if(!(!n||!v.trim())){b(o,!0),b(c,"");try{st("ANALYSIS_START",{text:v.slice(0,20)+"..."}),await new Promise(w=>setTimeout(w,150)),b(r,li(v.trim(),n));try{const w=vs(v.trim(),n,!0);"scoring"in w&&w.scoring?(b(i,w),st("SCORING_ANALYSIS_SUCCESS")):(b(i,null),st("SCORING_ANALYSIS_SKIPPED"))}catch(w){console.warn("Scoring analysis failed:",w),b(i,null),st("SCORING_ANALYSIS_ERROR",{error:w instanceof Error?w.message:String(w)})}st("ANALYSIS_SUCCESS")}catch(w){console.error("Analysis failed:",w),st("ANALYSIS_ERROR",{error:w instanceof Error?w.message:String(w)}),b(c,"分析中にエラーが発生しました。しばらく時間をおいて再度お試しください。"),b(r,null),b(i,null)}finally{b(o,!1)}}}function d(v){b(s,v)}function h(v){f(v)}function g(v){if(!v||v.length===0)return"";const w=v.reduce((T,D)=>{const q=D.score/D.maxScore,te=T.score/T.maxScore;return q>te?D:T});return wt(w.category)}an();var p=ho(),l=_(p),m=y(_(l),4);{var S=v=>{var w=Yi();let T;var D=_(w);{var q=re=>{var C=Cn("⚠️ システムパフォーマンスに問題があります");R(re,C)},te=re=>{var C=Xt(),fe=ft(C);{var ze=we=>{var ne=Cn("❌ システムエラーが発生しています");R(we,ne)};Y(fe,we=>{a(u)==="error"&&we(ze)},!0)}R(re,C)};Y(D,re=>{a(u)==="warning"?re(q):re(te,!1)})}H(re=>T=Le(w,1,"system-status svelte-etyl5p",null,T,re),[()=>({warning:a(u)==="warning",error:a(u)==="error"})]),R(v,w)};Y(m,v=>{a(u)!=="healthy"&&v(S)})}var E=y(l,2);{var $=v=>{var w=Ui(),T=_(w),D=_(T);H(()=>I(D,a(c))),R(v,w)};Y(E,v=>{a(c)&&v($)})}var P=y(E,2),z=_(P),j=_(z);di(j,{onInput:d,onAnalyze:h,placeholder:"ひらがな・カタカナを入力してください",maxLength:20,get value(){return a(s)},set value(v){b(s,v)},$$legacy:!0});var A=y(z,2);{var x=v=>{var w=Ki();R(v,w)};Y(A,v=>{a(o)&&v(x)})}var Z=y(A,2);{var ue=v=>{var w=vo(),T=_(w),D=y(_(T),2);{var q=U=>{var Q=Gi(),ae=y(_(Q),2),J=_(ae);H(()=>I(J,a(r).summary)),R(U,Q)};Y(D,U=>{a(r)&&U(q)})}var te=y(D,2);{var re=U=>{var Q=Ji(),ae=y(_(Q),2),J=y(_(ae)),L=_(J),be=y(J,2);{var ee=ce=>{var xe=Cn();H(Re=>I(xe,Re),[()=>`特に「${g(a(i).scoring.categoryScores)}」の印象が強く出ています。`]),R(ce,xe)};Y(be,ce=>{a(i).scoring.categoryScores.length>0&&ce(ee)})}var Pe=y(ae,2),X=_(Pe);H(ce=>{I(L,ce),I(X,a(i).summary)},[()=>Math.round(a(i).scoring.normalizedScore*100)]),R(U,Q)};Y(te,U=>{a(i)&&a(i).scoring&&U(re)})}var C=y(te,2),fe=y(_(C),2),ze=_(fe),we=y(fe,2),ne=_(we),O=y(T,2),G=y(_(O),2),se=_(G),le=y(_(se),2),Se=_(le);{let U=Ve(()=>a(i)?null:a(r).impressionScores),Q=Ve(()=>a(i)?.scoring?.categoryScores||null),ae=Ve(()=>a(i)?.scoring?.confidence||a(r).confidence);xi(Se,{get data(){return a(U)},get scoringData(){return a(Q)},get confidence(){return a(ae)},size:Math.min(350,window.innerWidth-60)})}var oe=y(se,2);{var Ae=U=>{var Q=Xi(),ae=y(_(Q),2),J=_(ae);kr(J,{get scoringResult(){return a(i).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!1}),R(U,Q)};Y(oe,U=>{a(i)&&a(i).scoring&&U(Ae)})}var Ce=y(O,2);{var Qe=U=>{var Q=Zi(),ae=y(_(Q),2);kr(ae,{get scoringResult(){return a(i).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!0}),R(U,Q)};Y(Ce,U=>{a(i)&&a(i).scoring&&U(Qe)})}var Be=y(Ce,2),et=y(_(Be),2);{var $e=U=>{var Q=lo(),ae=y(_(Q),2);{var J=X=>{var ce=to(),xe=y(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.consonants),ye,(Re,Ye)=>{var Me=cn(()=>ln(a(Ye),2));let nt=()=>a(Me)[0],Ue=()=>a(Me)[1];var Ne=eo(),je=_(Ne),qe=_(je),rt=y(je,2);de(rt,1,()=>[...new Set(Ue())],ye,(_t,gt)=>{var Ke=Qi(),yt=_(Ke);H(()=>I(yt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(ae,X=>{Object.keys(a(r).phonemeAnalysis.consonants).length>0&&X(J)})}var L=y(ae,2);{var be=X=>{var ce=so(),xe=y(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.vowels),ye,(Re,Ye)=>{var Me=cn(()=>ln(a(Ye),2));let nt=()=>a(Me)[0],Ue=()=>a(Me)[1];var Ne=ro(),je=_(Ne),qe=_(je),rt=y(je,2);de(rt,1,()=>[...new Set(Ue())],ye,(_t,gt)=>{var Ke=no(),yt=_(Ke);H(()=>I(yt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(L,X=>{Object.keys(a(r).phonemeAnalysis.vowels).length>0&&X(be)})}var ee=y(L,2);{var Pe=X=>{var ce=oo(),xe=y(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.special),ye,(Re,Ye)=>{var Me=cn(()=>ln(a(Ye),2));let nt=()=>a(Me)[0],Ue=()=>a(Me)[1];var Ne=io(),je=_(Ne),qe=_(je),rt=y(je,2);de(rt,1,()=>[...new Set(Ue())],ye,(_t,gt)=>{var Ke=ao(),yt=_(Ke);H(()=>I(yt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(ee,X=>{Object.keys(a(r).phonemeAnalysis.special).length>0&&X(Pe)})}R(U,Q)};Y(et,U=>{a(r).phonemeAnalysis&&U($e)})}var tt=y(et,2);{var ht=U=>{var Q=fo(),ae=y(_(Q),2);de(ae,5,()=>Object.entries(a(r).details),ye,(J,L)=>{var be=cn(()=>ln(a(L),2));let ee=()=>a(be)[0],Pe=()=>a(be)[1];var X=Xt(),ce=ft(X);{var xe=Re=>{var Ye=uo(),Me=_(Ye),nt=_(Me),Ue=y(Me,2);de(Ue,1,()=>[...new Set(Pe())],ye,(Ne,je)=>{var qe=co(),rt=_(qe);H(()=>I(rt,a(je))),R(Ne,qe)}),H(()=>I(nt,ee()==="start"?"開始音":ee()==="end"?"終了音":ee()==="length"?"長さ":ee()==="repetition"?"繰り返し":ee())),R(Re,Ye)};Y(ce,Re=>{Pe().length>0&&Re(xe)})}R(J,X)}),R(U,Q)};Y(tt,U=>{a(r).details&&Object.keys(a(r).details).length>0&&U(ht)})}H(U=>{Zt(ze,`width: ${(a(i)?a(i).confidence||0:a(r).confidence)*100}%`),I(ne,`${U??""}%`)},[()=>Math.round((a(i)?a(i).confidence||0:a(r).confidence)*100)]),R(v,w)};Y(Z,v=>{a(r)&&!a(o)&&v(ue)})}var Te=y(Z,2);{var M=v=>{var w=po();R(v,w)};Y(Te,v=>{!a(r)&&!a(o)&&!a(s)&&v(M)})}R(e,p),Dt()}Ma(_o,{target:document.getElementById("app")});
