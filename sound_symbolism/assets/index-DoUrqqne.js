(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const zr=!1;var bn=Array.isArray,Cs=Array.prototype.indexOf,Yn=Array.from,Pn=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,Cr=Object.getOwnPropertyDescriptors,Ts=Object.prototype,$s=Array.prototype,Bn=Object.getPrototypeOf,lr=Object.isExtensible;function Is(e){return typeof e=="function"}const qt=()=>{};function Os(e){return e()}function Nn(e){for(var t=0;t<e.length;t++)e[t]()}function Ps(){var e,t,n=new Promise((s,r)=>{e=s,t=r});return{promise:n,resolve:e,reject:t}}function un(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const s of e)if(n.push(s),n.length===t)break;return n}const Ie=2,Kn=4,Sn=8,Ct=16,vt=32,Tt=64,Tr=128,Fe=256,pn=512,be=1024,We=2048,dt=4096,Ye=8192,$t=16384,xn=32768,En=65536,cr=1<<17,Ns=1<<18,nn=1<<19,$r=1<<20,jn=1<<21,Gn=1<<22,At=1<<23,kt=Symbol("$state"),js=Symbol("legacy props"),Ms=Symbol(""),Jn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ls(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ir(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ds(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Fs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ws(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Us(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function qs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Bs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const An=1,kn=2,Or=4,Ks=8,Gs=16,Js=1,Xs=2,Zs=4,Qs=8,ea=16,ta=1,na=2,ra=4,sa=1,aa=2,me=Symbol(),ia="http://www.w3.org/1999/xhtml";let oa=!1;function Pr(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nr(e){return!la(e,this.v)}let Vt=!1,ca=!1;function ua(){Vt=!0}let ae=null;function _n(e){ae=e}function Wt(e,t=!1,n){ae={p:ae,c:null,e:null,s:e,x:null,l:Vt&&!t?{s:null,u:null,$:[]}:null}}function Ut(e){var t=ae,n=t.e;if(n!==null){t.e=null;for(var s of n)Br(s)}return ae=t.p,{}}function rn(){return!Vt||ae!==null&&ae.l===null}const fa=new WeakMap;function va(e){var t=B;if(t===null)return G.f|=At,e;if((t.f&xn)===0){if((t.f&Tr)===0)throw!t.parent&&e instanceof Error&&jr(e),e;t.b.error(e)}else Xn(e,t)}function Xn(e,t){for(;t!==null;){if((t.f&Tr)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&jr(e),e}function jr(e){const t=fa.get(e);t&&(Pn(e,"message",{value:t.message}),Pn(e,"stack",{value:t.stack}))}let gn=[];function da(){var e=gn;gn=[],Nn(e)}function Rn(e){gn.length===0&&queueMicrotask(da),gn.push(e)}function ha(){for(var e=B.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Ls(),e}function sn(e){var t=Ie|We,n=G!==null&&(G.f&Ie)!==0?G:null;return B===null||n!==null&&(n.f&Fe)!==0?t|=Fe:B.f|=nn,{ctx:ae,deps:null,effects:null,equals:Pr,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??B,ac:null}}function pa(e,t){let n=B;n===null&&Ds();var s=n.b,r=void 0,a=Gt(me),o=null,l=!G;return Ra(()=>{try{var u=e();o&&Promise.resolve(u).catch(()=>{})}catch(d){u=Promise.reject(d)}var f=()=>u;r=o?.then(f,f)??Promise.resolve(u),o=r;var v=ye,h=s.pending;l&&(s.update_pending_count(1),h||v.increment());const _=(d,c=void 0)=>{o=null,h||v.activate(),c?c!==Jn&&(a.f|=At,Jt(a,c)):((a.f&At)!==0&&(a.f^=At),Jt(a,d)),l&&(s.update_pending_count(-1),h||v.decrement()),Dr()};if(r.then(_,d=>_(null,d||"unknown")),v)return()=>{queueMicrotask(()=>v.neuter())}}),new Promise(u=>{function f(v){function h(){v===r?u(a):f(r)}v.then(h,h)}f(r)})}function fn(e){const t=sn(e);return ts(t),t}function Ve(e){const t=sn(e);return t.equals=Nr,t}function Mr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ft(t[n])}}function _a(e){for(var t=e.parent;t!==null;){if((t.f&Ie)===0)return t;t=t.parent}return null}function Zn(e){var t,n=B;wt(_a(e));try{Mr(e),t=as(e)}finally{wt(n)}return t}function Lr(e){var t=Zn(e);if(e.equals(t)||(e.v=t,e.wv=rs()),!It){var n=(mt||(e.f&Fe)!==0)&&e.deps!==null?dt:be;Ae(e,n)}}function ga(e,t,n){const s=rn()?sn:Ve;if(t.length===0){n(e.map(s));return}var r=ye,a=B,o=ma(),l=ha();Promise.all(t.map(u=>pa(u))).then(u=>{r?.activate(),o();try{n([...e.map(s),...u])}catch(f){(a.f&$t)===0&&Xn(f,a)}r?.deactivate(),Dr()}).catch(u=>{l.error(u)})}function ma(){var e=B,t=G,n=ae,s=ye;return function(){wt(e),tt(t),_n(n),s?.activate()}}function Dr(){wt(null),tt(null),_n(null)}const Tn=new Set;let ye=null,ur=new Set,mn=[];function Fr(){const e=mn.shift();mn.length>0&&queueMicrotask(Fr),e()}let Kt=[],Qn=null,Mn=!1;class Lt{current=new Map;#l=new Map;#s=new Set;#e=0;#c=null;#u=!1;#n=[];#a=[];#r=[];#t=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Kt=[];for(const r of t)this.#h(r);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,s=this.#t;this.#r=[],this.#t=[],this.#i=[],ye=null,fr(n),fr(s),ye===null?ye=this:Tn.delete(this),this.#c?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#i);for(const r of this.#n)zt(r);for(const r of this.#a)zt(r);this.#n=[],this.#a=[]}#h(t){t.f^=be;for(var n=t.first;n!==null;){var s=n.f,r=(s&(vt|Tt))!==0,a=r&&(s&be)!==0,o=a||(s&Ye)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(r)n.f^=be;else if((s&Kn)!==0)this.#t.push(n);else if((s&be)===0)if((s&Gn)!==0){var l=n.b?.pending?this.#a:this.#n;l.push(n)}else on(n)&&((n.f&Ct)!==0&&this.#i.push(n),zt(n));var u=n.first;if(u!==null){n=u;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}}#o(t){for(const n of t)((n.f&We)!==0?this.#f:this.#v).push(n),Ae(n,be);t.length=0}capture(t,n){this.#l.has(t)||this.#l.set(t,n),this.current.set(t,t.v)}activate(){ye=this}deactivate(){ye=null;for(const t of ur)if(ur.delete(t),t(),ye!==null)break}neuter(){this.#u=!0}flush(){Kt.length>0?ya():this.#d(),ye===this&&(this.#e===0&&Tn.delete(this),this.deactivate())}#d(){if(!this.#u)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#f)Ae(t,We),Dt(t);for(const t of this.#v)Ae(t,dt),Dt(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#c??=Ps()).promise}static ensure(){if(ye===null){const t=ye=new Lt;Tn.add(ye),Lt.enqueue(()=>{ye===t&&t.flush()})}return ye}static enqueue(t){mn.length===0&&queueMicrotask(Fr),mn.unshift(t)}}function ya(){var e=Mt;Mn=!0;try{var t=0;for(hr(!0);Kt.length>0;){var n=Lt.ensure();if(t++>1e3){var s,r;wa()}n.process(Kt),yt.clear()}}finally{Mn=!1,hr(e),Qn=null}}function wa(){try{Us()}catch(e){Xn(e,Qn)}}let xt=null;function fr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var s=e[n++];if((s.f&($t|Ye))===0&&on(s)&&(xt=[],zt(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Zr(s):s.fn=null),xt?.length>0)){yt.clear();for(const r of xt)zt(r);xt=[]}}xt=null}}function Dt(e){for(var t=Qn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Mn&&t===B&&(n&Ct)!==0)return;if((n&(Tt|vt))!==0){if((n&be)===0)return;t.f^=be}}Kt.push(t)}const yt=new Map;function Gt(e,t){var n={f:0,v:e,reactions:null,equals:Pr,rv:0,wv:0};return n}function _t(e,t){const n=Gt(e);return ts(n),n}function W(e,t=!1,n=!0){const s=Gt(e);return t||(s.equals=Nr),Vt&&n&&ae!==null&&ae.l!==null&&(ae.l.s??=[]).push(s),s}function vr(e,t){return b(e,R(()=>i(e))),t}function b(e,t,n=!1){G!==null&&(!et||(G.f&cr)!==0)&&rn()&&(G.f&(Ie|Ct|Gn|cr))!==0&&!ut?.includes(e)&&Bs();let s=n?Nt(t):t;return Jt(e,s)}function Jt(e,t){if(!e.equals(t)){var n=e.v;It?yt.set(e,t):yt.set(e,n),e.v=t;var s=Lt.ensure();s.capture(e,n),(e.f&Ie)!==0&&((e.f&We)!==0&&Zn(e),Ae(e,(e.f&Fe)===0?be:dt)),e.wv=rs(),Vr(e,We),rn()&&B!==null&&(B.f&be)!==0&&(B.f&(vt|Tt))===0&&(Le===null?Ta([e]):Le.push(e))}return t}function $n(e){b(e,e.v+1)}function Vr(e,t){var n=e.reactions;if(n!==null)for(var s=rn(),r=n.length,a=0;a<r;a++){var o=n[a],l=o.f;if(!(!s&&o===B)){var u=(l&We)===0;u&&Ae(o,t),(l&Ie)!==0?Vr(o,dt):u&&((l&Ct)!==0&&xt!==null&&xt.push(o),Dt(o))}}}function Nt(e){if(typeof e!="object"||e===null||kt in e)return e;const t=Bn(e);if(t!==Ts&&t!==$s)return e;var n=new Map,s=bn(e),r=_t(0),a=Rt,o=l=>{if(Rt===a)return l();var u=G,f=Rt;tt(null),_r(a);var v=l();return tt(u),_r(f),v};return s&&n.set("length",_t(e.length)),new Proxy(e,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&qs();var v=n.get(u);return v===void 0?v=o(()=>{var h=_t(f.value);return n.set(u,h),h}):b(v,f.value,!0),!0},deleteProperty(l,u){var f=n.get(u);if(f===void 0){if(u in l){const v=o(()=>_t(me));n.set(u,v),$n(r)}}else b(f,me),$n(r);return!0},get(l,u,f){if(u===kt)return e;var v=n.get(u),h=u in l;if(v===void 0&&(!h||jt(l,u)?.writable)&&(v=o(()=>{var d=Nt(h?l[u]:me),c=_t(d);return c}),n.set(u,v)),v!==void 0){var _=i(v);return _===me?void 0:_}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var v=n.get(u);v&&(f.value=i(v))}else if(f===void 0){var h=n.get(u),_=h?.v;if(h!==void 0&&_!==me)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return f},has(l,u){if(u===kt)return!0;var f=n.get(u),v=f!==void 0&&f.v!==me||Reflect.has(l,u);if(f!==void 0||B!==null&&(!v||jt(l,u)?.writable)){f===void 0&&(f=o(()=>{var _=v?Nt(l[u]):me,d=_t(_);return d}),n.set(u,f));var h=i(f);if(h===me)return!1}return v},set(l,u,f,v){var h=n.get(u),_=u in l;if(s&&u==="length")for(var d=f;d<h.v;d+=1){var c=n.get(d+"");c!==void 0?b(c,me):d in l&&(c=o(()=>_t(me)),n.set(d+"",c))}if(h===void 0)(!_||jt(l,u)?.writable)&&(h=o(()=>_t(void 0)),b(h,Nt(f)),n.set(u,h));else{_=h.v!==me;var m=o(()=>Nt(f));b(h,m)}var S=Reflect.getOwnPropertyDescriptor(l,u);if(S?.set&&S.set.call(v,f),!_){if(s&&typeof u=="string"){var E=n.get("length"),O=Number(u);Number.isInteger(O)&&O>=E.v&&b(E,O+1)}$n(r)}return!0},ownKeys(l){i(r);var u=Reflect.ownKeys(l).filter(h=>{var _=n.get(h);return _===void 0||_.v!==me});for(var[f,v]of n)v.v!==me&&!(f in l)&&u.push(f);return u},setPrototypeOf(){Ys()}})}var dr,Wr,Ur,Hr;function ba(){if(dr===void 0){dr=window,Wr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ur=jt(t,"firstChild").get,Hr=jt(t,"nextSibling").get,lr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),lr(n)&&(n.__t=void 0)}}function Ht(e=""){return document.createTextNode(e)}function Ft(e){return Ur.call(e)}function zn(e){return Hr.call(e)}function p(e,t){return Ft(e)}function gt(e,t){{var n=Ft(e);return n instanceof Comment&&n.data===""?zn(n):n}}function g(e,t=1,n=!1){let s=e;for(;t--;)s=zn(s);return s}function Sa(e){e.textContent=""}function qr(){return!1}function an(e){var t=G,n=B;tt(null),wt(null);try{return e()}finally{tt(t),wt(n)}}function Yr(e){B===null&&G===null&&Ws(),G!==null&&(G.f&Fe)!==0&&B===null&&Vs(),It&&Fs()}function xa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function nt(e,t,n,s=!0){var r=B;r!==null&&(r.f&Ye)!==0&&(e|=Ye);var a={ctx:ae,deps:null,nodes_start:null,nodes_end:null,f:e|We,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{zt(a),a.f|=xn}catch(u){throw ft(a),u}else t!==null&&Dt(a);if(s){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&nn)===0&&(o=o.first),o!==null&&(o.parent=r,r!==null&&xa(o,r),G!==null&&(G.f&Ie)!==0&&(e&Tt)===0)){var l=G;(l.effects??=[]).push(o)}}return a}function Ea(e){const t=nt(Sn,null,!1);return Ae(t,be),t.teardown=e,t}function Ln(e){Yr();var t=B.f,n=!G&&(t&vt)!==0&&(t&xn)===0;if(n){var s=ae;(s.e??=[]).push(e)}else return Br(e)}function Br(e){return nt(Kn|$r,e,!1)}function Aa(e){return Yr(),nt(Sn|$r,e,!0)}function ka(e){Lt.ensure();const t=nt(Tt|nn,e,!0);return(n={})=>new Promise(s=>{n.outro?tr(t,()=>{ft(t),s(void 0)}):(ft(t),s(void 0))})}function Kr(e){return nt(Kn,e,!1)}function ve(e,t){var n=ae,s={effect:null,ran:!1,deps:e};n.l.$.push(s),s.effect=er(()=>{e(),!s.ran&&(s.ran=!0,R(t))})}function Cn(){var e=ae;er(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&be)!==0&&Ae(n,dt),on(n)&&zt(n),t.ran=!1}})}function Ra(e){return nt(Gn|nn,e,!0)}function er(e,t=0){return nt(Sn|t,e,!0)}function Y(e,t=[],n=[]){ga(t,n,s=>{nt(Sn,()=>e(...s.map(i)),!0)})}function Gr(e,t=0){var n=nt(Ct|t,e,!0);return n}function Xt(e,t=!0){return nt(vt|nn,e,!0,t)}function Jr(e){var t=e.teardown;if(t!==null){const n=It,s=G;pr(!0),tt(null);try{t.call(null)}finally{pr(n),tt(s)}}}function Xr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&an(()=>{r.abort(Jn)});var s=n.next;(n.f&Tt)!==0?n.parent=null:ft(n,t),n=s}}function za(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&vt)===0&&ft(t),t=n}}function ft(e,t=!0){var n=!1;(t||(e.f&Ns)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ca(e.nodes_start,e.nodes_end),n=!0),Xr(e,t&&!n),yn(e,0),Ae(e,$t);var s=e.transitions;if(s!==null)for(const a of s)a.stop();Jr(e);var r=e.parent;r!==null&&r.first!==null&&Zr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ca(e,t){for(;e!==null;){var n=e===t?null:zn(e);e.remove(),e=n}}function Zr(e){var t=e.parent,n=e.prev,s=e.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=n))}function tr(e,t){var n=[];nr(e,n,!0),Qr(n,()=>{ft(e),t&&t()})}function Qr(e,t){var n=e.length;if(n>0){var s=()=>--n||t();for(var r of e)r.out(s)}else t()}function nr(e,t,n){if((e.f&Ye)===0){if(e.f^=Ye,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var s=e.first;s!==null;){var r=s.next,a=(s.f&En)!==0||(s.f&vt)!==0;nr(s,t,a?n:!1),s=r}}}function rr(e){es(e,!0)}function es(e,t){if((e.f&Ye)!==0){e.f^=Ye,(e.f&be)===0&&(Ae(e,We),Dt(e));for(var n=e.first;n!==null;){var s=n.next,r=(n.f&En)!==0||(n.f&vt)!==0;es(n,r?t:!1),n=s}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Mt=!1;function hr(e){Mt=e}let It=!1;function pr(e){It=e}let G=null,et=!1;function tt(e){G=e}let B=null;function wt(e){B=e}let ut=null;function ts(e){G!==null&&(ut===null?ut=[e]:ut.push(e))}let Ee=null,$e=0,Le=null;function Ta(e){Le=e}let ns=1,Zt=0,Rt=Zt;function _r(e){Rt=e}let mt=!1;function rs(){return++ns}function on(e){var t=e.f;if((t&We)!==0)return!0;if((t&dt)!==0){var n=e.deps,s=(t&Fe)!==0;if(n!==null){var r,a,o=(t&pn)!==0,l=s&&B!==null&&!mt,u=n.length;if((o||l)&&(B===null||(B.f&$t)===0)){var f=e,v=f.parent;for(r=0;r<u;r++)a=n[r],(o||!a?.reactions?.includes(f))&&(a.reactions??=[]).push(f);o&&(f.f^=pn),l&&v!==null&&(v.f&Fe)===0&&(f.f^=Fe)}for(r=0;r<u;r++)if(a=n[r],on(a)&&Lr(a),a.wv>e.wv)return!0}(!s||B!==null&&!mt)&&Ae(e,be)}return!1}function ss(e,t,n=!0){var s=e.reactions;if(s!==null&&!ut?.includes(e))for(var r=0;r<s.length;r++){var a=s[r];(a.f&Ie)!==0?ss(a,t,!1):t===a&&(n?Ae(a,We):(a.f&be)!==0&&Ae(a,dt),Dt(a))}}function as(e){var t=Ee,n=$e,s=Le,r=G,a=mt,o=ut,l=ae,u=et,f=Rt,v=e.f;Ee=null,$e=0,Le=null,mt=(v&Fe)!==0&&(et||!Mt||G===null),G=(v&(vt|Tt))===0?e:null,ut=null,_n(e.ctx),et=!1,Rt=++Zt,e.ac!==null&&(an(()=>{e.ac.abort(Jn)}),e.ac=null);try{e.f|=jn;var h=e.fn,_=h(),d=e.deps;if(Ee!==null){var c;if(yn(e,$e),d!==null&&$e>0)for(d.length=$e+Ee.length,c=0;c<Ee.length;c++)d[$e+c]=Ee[c];else e.deps=d=Ee;if(!mt||(v&Ie)!==0&&e.reactions!==null)for(c=$e;c<d.length;c++)(d[c].reactions??=[]).push(e)}else d!==null&&$e<d.length&&(yn(e,$e),d.length=$e);if(rn()&&Le!==null&&!et&&d!==null&&(e.f&(Ie|dt|We))===0)for(c=0;c<Le.length;c++)ss(Le[c],e);return r!==null&&r!==e&&(Zt++,Le!==null&&(s===null?s=Le:s.push(...Le))),(e.f&At)!==0&&(e.f^=At),_}catch(m){return va(m)}finally{e.f^=jn,Ee=t,$e=n,Le=s,G=r,mt=a,ut=o,_n(l),et=u,Rt=f}}function $a(e,t){let n=t.reactions;if(n!==null){var s=Cs.call(n,e);if(s!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[s]=n[r],n.pop())}}n===null&&(t.f&Ie)!==0&&(Ee===null||!Ee.includes(t))&&(Ae(t,dt),(t.f&(Fe|pn))===0&&(t.f^=pn),Mr(t),yn(t,0))}function yn(e,t){var n=e.deps;if(n!==null)for(var s=t;s<n.length;s++)$a(e,n[s])}function zt(e){var t=e.f;if((t&$t)===0){Ae(e,be);var n=B,s=Mt;B=e,Mt=!0;try{(t&Ct)!==0?za(e):Xr(e),Jr(e);var r=as(e);e.teardown=typeof r=="function"?r:null,e.wv=ns;var a;zr&&ca&&(e.f&We)!==0&&e.deps}finally{Mt=s,B=n}}}function i(e){var t=e.f,n=(t&Ie)!==0;if(G!==null&&!et){var s=B!==null&&(B.f&$t)!==0;if(!s&&!ut?.includes(e)){var r=G.deps;if((G.f&jn)!==0)e.rv<Zt&&(e.rv=Zt,Ee===null&&r!==null&&r[$e]===e?$e++:Ee===null?Ee=[e]:(!mt||!Ee.includes(e))&&Ee.push(e));else{(G.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[G]:a.includes(G)||a.push(G)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&Fe)===0&&(o.f^=Fe)}if(It){if(yt.has(e))return yt.get(e);if(n){o=e;var u=o.v;return((o.f&be)===0&&o.reactions!==null||is(o))&&(u=Zn(o)),yt.set(o,u),u}}else n&&(o=e,on(o)&&Lr(o));if((e.f&At)!==0)throw e.v;return e.v}function is(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(yt.has(t)||(t.f&Ie)!==0&&is(t))return!0;return!1}function R(e){var t=et;try{return et=!0,e()}finally{et=t}}const Ia=-7169;function Ae(e,t){e.f=e.f&Ia|t}function V(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(kt in e)Dn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&kt in n&&Dn(n)}}}function Dn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Dn(e[s],t)}catch{}const n=Bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const s=Cr(n);for(let r in s){const a=s[r].get;if(a)try{a.call(e)}catch{}}}}}const Oa=["touchstart","touchmove"];function Pa(e){return Oa.includes(e)}const Na=new Set,gr=new Set;function ja(e,t,n,s={}){function r(a){if(s.capture||Yt.call(t,a),!a.cancelBubble)return an(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Rn(()=>{t.addEventListener(e,r,s)}):t.addEventListener(e,r,s),r}function ce(e,t,n,s,r){var a={capture:s,passive:r},o=ja(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ea(()=>{t.removeEventListener(e,o,a)})}let mr=null;function Yt(e){var t=this,n=t.ownerDocument,s=e.type,r=e.composedPath?.()||[],a=r[0]||e.target;mr=e;var o=0,l=mr===e&&e.__root;if(l){var u=r.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=r.indexOf(t);if(f===-1)return;u<=f&&(o=u)}if(a=r[o]||e.target,a!==t){Pn(e,"currentTarget",{configurable:!0,get(){return a||n}});var v=G,h=B;tt(null),wt(null);try{for(var _,d=[];a!==null;){var c=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+s];if(m!=null&&(!a.disabled||e.target===a))if(bn(m)){var[S,...E]=m;S.apply(a,[e,...E])}else m.call(a,e)}catch(O){_?d.push(O):_=O}if(e.cancelBubble||c===t||c===null)break;a=c}if(_){for(let O of d)queueMicrotask(()=>{throw O});throw _}}finally{e.__root=t,delete e.currentTarget,tt(v),wt(h)}}}function os(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Qt(e,t){var n=B;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function L(e,t){var n=(t&sa)!==0,s=(t&aa)!==0,r,a=!e.startsWith("<!>");return()=>{r===void 0&&(r=os(a?e:"<!>"+e),n||(r=Ft(r)));var o=s||Wr?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=Ft(o),u=o.lastChild;Qt(l,u)}else Qt(o,o);return o}}function Ma(e,t,n="svg"){var s=!e.startsWith("<!>"),r=`<${n}>${s?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=os(r),l=Ft(o);a=Ft(l)}var u=a.cloneNode(!0);return Qt(u,u),u}}function ln(e,t){return Ma(e,t,"svg")}function In(e=""){{var t=Ht(e+"");return Qt(t,t),t}}function en(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ht();return e.append(t,n),Qt(t,n),e}function C(e,t){e!==null&&e.before(t)}let Fn=!0;function M(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function La(e,t){return Da(e,t)}const Ot=new Map;function Da(e,{target:t,anchor:n,props:s={},events:r,context:a,intro:o=!0}){ba();var l=new Set,u=h=>{for(var _=0;_<h.length;_++){var d=h[_];if(!l.has(d)){l.add(d);var c=Pa(d);t.addEventListener(d,Yt,{passive:c});var m=Ot.get(d);m===void 0?(document.addEventListener(d,Yt,{passive:c}),Ot.set(d,1)):Ot.set(d,m+1)}}};u(Yn(Na)),gr.add(u);var f=void 0,v=ka(()=>{var h=n??t.appendChild(Ht());return Xt(()=>{if(a){Wt({});var _=ae;_.c=a}r&&(s.$$events=r),Fn=o,f=e(h,s)||{},Fn=!0,a&&Ut()}),()=>{for(var _ of l){t.removeEventListener(_,Yt);var d=Ot.get(_);--d===0?(document.removeEventListener(_,Yt),Ot.delete(_)):Ot.set(_,d)}gr.delete(u),h!==n&&h.parentNode?.removeChild(h)}});return Fa.set(f,v),f}let Fa=new WeakMap;function q(e,t,n=!1){var s=e,r=null,a=null,o=me,l=n?En:0,u=!1;const f=(d,c=!0)=>{u=!0,_(c,d)};var v=null;function h(){v!==null&&(v.lastChild.remove(),s.before(v),v=null);var d=o?r:a,c=o?a:r;d&&rr(d),c&&tr(c,()=>{o?a=null:r=null})}const _=(d,c)=>{if(o!==(o=d)){var m=qr(),S=s;if(m&&(v=document.createDocumentFragment(),v.append(S=Ht())),o?r??=c&&Xt(()=>c(S)):a??=c&&Xt(()=>c(S)),m){var E=ye,O=o?r:a,I=o?a:r;O&&E.skipped_effects.delete(O),I&&E.skipped_effects.add(I),E.add_callback(h)}else h()}};Gr(()=>{u=!1,t(f),u||_(null,null)},l)}function we(e,t){return t}function Va(e,t,n){for(var s=e.items,r=[],a=t.length,o=0;o<a;o++)nr(t[o].e,r,!0);var l=a>0&&r.length===0&&n!==null;if(l){var u=n.parentNode;Sa(u),u.append(n),s.clear(),Qe(e,t[0].prev,t[a-1].next)}Qr(r,()=>{for(var f=0;f<a;f++){var v=t[f];l||(s.delete(v.k),Qe(e,v.prev,v.next)),ft(v.e,!l)}})}function ue(e,t,n,s,r,a=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&Or)!==0;if(u){var f=e;o=f.appendChild(Ht())}var v=null,h=!1,_=new Map,d=Ve(()=>{var E=n();return bn(E)?E:E==null?[]:Yn(E)}),c,m;function S(){Wa(m,c,l,_,o,r,t,s,n),a!==null&&(c.length===0?v?rr(v):v=Xt(()=>a(o)):v!==null&&tr(v,()=>{v=null}))}Gr(()=>{m??=B,c=i(d);var E=c.length;if(!(h&&E===0)){h=E===0;var O,I,T,N;if(qr()){var $=new Set,x=ye;for(I=0;I<E;I+=1){T=c[I],N=s(T,I);var te=l.items.get(N)??_.get(N);te?(t&(An|kn))!==0&&ls(te,T,I,t):(O=cs(null,l,null,null,T,N,I,r,t,n,!0),_.set(N,O)),$.add(N)}for(const[le,ke]of l.items)$.has(le)||x.skipped_effects.add(ke.e);x.add_callback(S)}else S();i(d)}})}function Wa(e,t,n,s,r,a,o,l,u){var f=(o&Ks)!==0,v=(o&(An|kn))!==0,h=t.length,_=n.items,d=n.first,c=d,m,S=null,E,O=[],I=[],T,N,$,x;if(f)for(x=0;x<h;x+=1)T=t[x],N=l(T,x),$=_.get(N),$!==void 0&&($.a?.measure(),(E??=new Set).add($));for(x=0;x<h;x+=1){if(T=t[x],N=l(T,x),$=_.get(N),$===void 0){var te=s.get(N);if(te!==void 0){s.delete(N),_.set(N,te);var le=S?S.next:c;Qe(n,S,te),Qe(n,te,le),On(te,le,r),S=te}else{var ke=c?c.e.nodes_start:r;S=cs(ke,n,S,S===null?n.first:S.next,T,N,x,a,o,u)}_.set(N,S),O=[],I=[],c=S.next;continue}if(v&&ls($,T,x,o),($.e.f&Ye)!==0&&(rr($.e),f&&($.a?.unfix(),(E??=new Set).delete($))),$!==c){if(m!==void 0&&m.has($)){if(O.length<I.length){var P=I[0],y;S=P.prev;var z=O[0],H=O[O.length-1];for(y=0;y<O.length;y+=1)On(O[y],P,r);for(y=0;y<I.length;y+=1)m.delete(I[y]);Qe(n,z.prev,H.next),Qe(n,S,z),Qe(n,H,P),c=P,S=H,x-=1,O=[],I=[]}else m.delete($),On($,c,r),Qe(n,$.prev,$.next),Qe(n,$,S===null?n.first:S.next),Qe(n,S,$),S=$;continue}for(O=[],I=[];c!==null&&c.k!==N;)(c.e.f&Ye)===0&&(m??=new Set).add(c),I.push(c),c=c.next;if(c===null)continue;$=c}O.push($),S=$,c=$.next}if(c!==null||m!==void 0){for(var Q=m===void 0?[]:Yn(m);c!==null;)(c.e.f&Ye)===0&&Q.push(c),c=c.next;var w=Q.length;if(w>0){var D=(o&Or)!==0&&h===0?r:null;if(f){for(x=0;x<w;x+=1)Q[x].a?.measure();for(x=0;x<w;x+=1)Q[x].a?.fix()}Va(n,Q,D)}}f&&Rn(()=>{if(E!==void 0)for($ of E)$.a?.apply()}),e.first=n.first&&n.first.e,e.last=S&&S.e;for(var F of s.values())ft(F.e);s.clear()}function ls(e,t,n,s){(s&An)!==0&&Jt(e.v,t),(s&kn)!==0?Jt(e.i,n):e.i=n}function cs(e,t,n,s,r,a,o,l,u,f,v){var h=(u&An)!==0,_=(u&Gs)===0,d=h?_?W(r,!1,!1):Gt(r):r,c=(u&kn)===0?o:Gt(o),m={i:c,v:d,k:a,a:null,e:null,prev:n,next:s};try{if(e===null){var S=document.createDocumentFragment();S.append(e=Ht())}return m.e=Xt(()=>l(e,d,c,f),oa),m.e.prev=n&&n.e,m.e.next=s&&s.e,n===null?v||(t.first=m):(n.next=m,n.e.next=m.e),s!==null&&(s.prev=m,s.e.prev=m.e),m}finally{}}function On(e,t,n){for(var s=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==s;){var o=zn(a);r.before(a),a=o}}function Qe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const yr=[...` 	
\r\f \v\uFEFF`];function Ua(e,t,n){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var a=r.length,o=0;(o=s.indexOf(r,o))>=0;){var l=o+a;(o===0||yr.includes(s[o-1]))&&(l===s.length||yr.includes(s[l]))?s=(o===0?"":s.substring(0,o))+s.substring(l+1):o=l}}return s===""?null:s}function Ha(e,t){return e==null?null:String(e)}function De(e,t,n,s,r,a){var o=e.__className;if(o!==n||o===void 0){var l=Ua(n,s,a);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(a&&r!==a)for(var u in a){var f=!!a[u];(r==null||f!==!!r[u])&&e.classList.toggle(u,f)}return a}function tn(e,t,n,s){var r=e.__style;if(r!==t){var a=Ha(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return s}const qa=Symbol("is custom element"),Ya=Symbol("is html");function Ba(e,t){var n=us(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function U(e,t,n,s){var r=us(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[Ms]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ka(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function us(e){return e.__attributes??={[qa]:e.nodeName.includes("-"),[Ya]:e.namespaceURI===ia}}var wr=new Map;function Ka(e){var t=e.getAttribute("is")||e.nodeName,n=wr.get(t);if(n)return n;wr.set(t,n=[]);for(var s,r=e,a=Element.prototype;a!==r;){s=Cr(r);for(var o in s)s[o].set&&n.push(o);r=Bn(r)}return n}const Ga=()=>performance.now(),ct={tick:e=>requestAnimationFrame(e),now:()=>Ga(),tasks:new Set};function fs(){const e=ct.now();ct.tasks.forEach(t=>{t.c(e)||(ct.tasks.delete(t),t.f())}),ct.tasks.size!==0&&ct.tick(fs)}function Ja(e){let t;return ct.tasks.size===0&&ct.tick(fs),{promise:new Promise(n=>{ct.tasks.add(t={c:e,f:n})}),abort(){ct.tasks.delete(t)}}}function vn(e,t){an(()=>{e.dispatchEvent(new CustomEvent(t))})}function Xa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function br(e){const t={},n=e.split(";");for(const s of n){const[r,a]=s.split(":");if(!r||a===void 0)break;const o=Xa(r.trim());t[o]=a.trim()}return t}const Za=e=>e;function Vn(e,t,n,s){var r=(e&ta)!==0,a=(e&na)!==0,o=r&&a,l=(e&ra)!==0,u=o?"both":r?"in":"out",f,v=t.inert,h=t.style.overflow,_,d;function c(){return an(()=>f??=n()(t,s?.()??{},{direction:u}))}var m={is_global:l,in(){if(t.inert=v,!r){d?.abort(),d?.reset?.();return}a||_?.abort(),vn(t,"introstart"),_=Wn(t,c(),d,1,()=>{vn(t,"introend"),_?.abort(),_=f=void 0,t.style.overflow=h})},out(I){if(!a){I?.(),f=void 0;return}t.inert=!0,vn(t,"outrostart"),d=Wn(t,c(),_,0,()=>{vn(t,"outroend"),I?.()})},stop:()=>{_?.abort(),d?.abort()}},S=B;if((S.transitions??=[]).push(m),r&&Fn){var E=l;if(!E){for(var O=S.parent;O&&(O.f&En)!==0;)for(;(O=O.parent)&&(O.f&Ct)===0;);E=!O||(O.f&xn)!==0}E&&Kr(()=>{R(()=>m.in())})}}function Wn(e,t,n,s,r){var a=s===1;if(Is(t)){var o,l=!1;return Rn(()=>{if(!l){var S=t({direction:a?"in":"out"});o=Wn(e,S,n,s,r)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return r(),{abort:qt,deactivate:qt,reset:qt,t:()=>s};const{delay:u=0,css:f,tick:v,easing:h=Za}=t;var _=[];if(a&&n===void 0&&(v&&v(0,1),f)){var d=br(f(0,1));_.push(d,d)}var c=()=>1-s,m=e.animate(_,{duration:u,fill:"forwards"});return m.onfinish=()=>{m.cancel();var S=n?.t()??1-s;n?.abort();var E=s-S,O=t.duration*Math.abs(E),I=[];if(O>0){var T=!1;if(f)for(var N=Math.ceil(O/16.666666666666668),$=0;$<=N;$+=1){var x=S+E*h($/N),te=br(f(x,1-x));I.push(te),T||=te.overflow==="hidden"}T&&(e.style.overflow="hidden"),c=()=>{var le=m.currentTime;return S+E*h(le/O)},v&&Ja(()=>{if(m.playState!=="running")return!1;var le=c();return v(le,1-le),!0})}m=e.animate(I,{duration:O,fill:"forwards"}),m.onfinish=()=>{c=()=>s,v?.(s,1-s),r()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=qt)},deactivate:()=>{r=qt},reset:()=>{s===0&&v?.(1,0)},t:()=>c()}}function Sr(e,t){return e===t||e?.[kt]===t}function sr(e={},t,n,s){return Kr(()=>{var r,a;return er(()=>{r=a,a=[],R(()=>{e!==n(...a)&&(t(e,...a),r&&Sr(n(...r),e)&&t(null,...r))})}),()=>{Rn(()=>{a&&Sr(n(...a),e)&&t(null,...a)})}}),e}function cn(e=!1){const t=ae,n=t.l.u;if(!n)return;let s=()=>V(t.s);if(e){let r=0,a={};const o=sn(()=>{let l=!1;const u=t.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],l=!0);return l&&r++,r});s=()=>i(o)}n.b.length&&Aa(()=>{xr(t,s),Nn(n.b)}),Ln(()=>{const r=R(()=>n.m.map(Os));return()=>{for(const a of r)typeof a=="function"&&a()}}),n.a.length&&Ln(()=>{xr(t,s),Nn(n.a)})}function xr(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let dn=!1;function Qa(e){var t=dn;try{return dn=!1,[e(),dn]}finally{dn=t}}function fe(e,t,n,s){var r=!Vt||(n&Xs)!==0,a=(n&Qs)!==0,o=(n&ea)!==0,l=s,u=!0,f=()=>(u&&(u=!1,l=o?R(s):s),l),v;if(a){var h=kt in e||js in e;v=jt(e,t)?.set??(h&&t in e?I=>e[t]=I:void 0)}var _,d=!1;a?[_,d]=Qa(()=>e[t]):_=e[t],_===void 0&&s!==void 0&&(_=f(),v&&(r&&Hs(),v(_)));var c;if(r?c=()=>{var I=e[t];return I===void 0?f():(u=!0,I)}:c=()=>{var I=e[t];return I!==void 0&&(l=void 0),I===void 0?l:I},r&&(n&Zs)===0)return c;if(v){var m=e.$$legacy;return(function(I,T){return arguments.length>0?((!r||!T||m||d)&&v(T?c():I),I):c()})}var S=!1,E=((n&Js)!==0?sn:Ve)(()=>(S=!1,c()));a&&i(E);var O=B;return(function(I,T){if(arguments.length>0){const N=T?i(E):r&&a?Nt(I):I;return b(E,N),S=!0,l!==void 0&&(l=N),I}return It&&S||(O.f&$t)!==0?E.v:i(E)})}function ar(e){ae===null&&Ir(),Vt&&ae.l!==null?ni(ae).m.push(e):Ln(()=>{const t=R(e);if(typeof t=="function")return t})}function ei(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}function ti(){const e=ae;return e===null&&Ir(),(t,n,s)=>{const r=e.s.$$events?.[t];if(r){const a=bn(r)?r.slice():[r],o=ei(t,n,s);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function ni(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const ri="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ri);ua();const Pt={明るい:{bright:1,heavy:0,soft:0,sharp:0,light:1},暗い:{bright:-1,heavy:0,soft:0,sharp:0,light:-1},重い:{bright:-1,heavy:1,soft:0,sharp:0,light:-1},軽快:{bright:1,heavy:-1,soft:0,sharp:1,light:1},重厚:{bright:0,heavy:1,soft:0,sharp:0,light:-1},柔らかい:{bright:0,heavy:0,soft:1,sharp:-1,light:0},硬い:{bright:0,heavy:1,soft:-1,sharp:1,light:0},鋭い:{bright:1,heavy:0,soft:-1,sharp:1,light:1},鈍い:{bright:-1,heavy:1,soft:1,sharp:-1,light:-1},切れ味:{bright:1,heavy:0,soft:-1,sharp:1,light:1},軽やか:{bright:1,heavy:-1,soft:0,sharp:0,light:1},薄い:{bright:0,heavy:-1,soft:0,sharp:0,light:1},風のような:{bright:1,heavy:-1,soft:1,sharp:0,light:1},力強い:{bright:0,heavy:1,soft:-1,sharp:0,light:-1},優雅:{bright:1,heavy:0,soft:1,sharp:0,light:1},繊細:{bright:1,heavy:-1,soft:1,sharp:1,light:1},安定:{bright:0,heavy:1,soft:0,sharp:-1,light:-1},親しみやすい:{bright:1,heavy:0,soft:1,sharp:0,light:0},穏やか:{bright:0,heavy:0,soft:1,sharp:-1,light:0},濁った:{bright:-1,heavy:1,soft:0,sharp:-1,light:-1},ざらついた:{bright:-1,heavy:1,soft:-1,sharp:0,light:-1},明確:{bright:1,heavy:0,soft:0,sharp:1,light:1}};function Er(e){const t={bright:0,heavy:0,soft:0,sharp:0,light:0};let n=0,s=0;for(const l of Object.values(e))for(const u of l)n++,Pt[u]&&(s++,t.bright+=Pt[u].bright||0,t.heavy+=Pt[u].heavy||0,t.soft+=Pt[u].soft||0,t.sharp+=Pt[u].sharp||0,t.light+=Pt[u].light||0);const r=n>0?s/n:0,a=s;return{scores:{bright:a>0?t.bright/a:0,heavy:a>0?t.heavy/a:0,soft:a>0?t.soft/a:0,sharp:a>0?t.sharp/a:0,light:a>0?t.light/a:0},rawScores:t,confidence:r,totalWords:n,matchedWords:s}}function si(e){const t=[];if(Math.abs(e.bright)>=1&&t.push(e.bright>0?"明るく":"暗く"),Math.abs(e.heavy)>=1&&t.push(e.heavy>0?"重厚で":"軽やかで"),Math.abs(e.soft)>=1&&t.push(e.soft>0?"柔らかい":"硬い"),Math.abs(e.sharp)>=1&&t.push(e.sharp>0?"鋭い":"鈍い"),Math.abs(e.light)>=1&&t.push(e.light>0?"軽快な":"重い"),t.length===0)return"バランスの取れた中性的な印象です";if(t.length===1)return`${t[0]}印象です`;{const s=t.pop();return`${t.join("、")}、${s}印象です`}}function Bt(e){const t={あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",さ:"sa",し:"si",す:"su",せ:"se",そ:"so",サ:"sa",シ:"si",ス:"su",セ:"se",ソ:"so",ざ:"za",じ:"zi",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"zi",ズ:"zu",ゼ:"ze",ゾ:"zo",た:"ta",ち:"ti",つ:"tu",て:"te",と:"to",タ:"ta",チ:"ti",ツ:"tu",テ:"te",ト:"to",だ:"da",ぢ:"di",づ:"du",で:"de",ど:"do",ダ:"da",ヂ:"di",ヅ:"du",デ:"de",ド:"do",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"hu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"hu",ヘ:"he",ホ:"ho",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",ワ:"wa",ヰ:"wi",ヱ:"we",ヲ:"wo",ン:"n",きゃ:"kya",きゅ:"kyu",きょ:"kyo",キャ:"kya",キュ:"kyu",キョ:"kyo",しゃ:"sya",しゅ:"syu",しょ:"syo",シャ:"sya",シュ:"syu",ショ:"syo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",チャ:"tya",チュ:"tyu",チョ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",ミャ:"mya",ミュ:"myu",ミョ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ジャ:"zya",ジュ:"zyu",ジョ:"zyo",びゃ:"bya",びゅ:"byu",びょ:"byo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",ゃ:"ya",ゅ:"yu",ょ:"yo",ャ:"ya",ュ:"yu",ョ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",っ:"tu",ッ:"tu",ー:"ー"};let n="";for(let s=0;s<e.length;s++){if(s<e.length-1){const a=e.slice(s,s+2);if(t[a]){n+=t[a],s++;continue}}const r=e[s];t[r]?n+=t[r]:n+=r}return n}function vs(e,t){const n={consonants:{},vowels:{},special:{}};let s=Bt(e),r="";for(let a=0;a<e.length;a++)if(e[a]==="ー"&&a>0){const l=Bt(e[a-1]).slice(-1);"aiueo".includes(l)?r+=l:r+=Bt(e[a])}else r+=Bt(e[a]);s=r,s=s.replace(/tu(.)/g,"$1$1");for(const a of e)t.phoneme.special[a]&&(n.special[a]||(n.special[a]=[]),n.special[a].push(...t.phoneme.special[a]));for(const a of s)t.phoneme.consonants[a]?(n.consonants[a]||(n.consonants[a]=[]),n.consonants[a].push(...t.phoneme.consonants[a])):t.phoneme.vowels[a]&&(n.vowels[a]||(n.vowels[a]=[]),n.vowels[a].push(...t.phoneme.vowels[a]));return n}class ir{constructor(t){this.capacity=t,this.cache=new Map}get(t){if(this.cache.has(t)){const n=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,n),n}}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.capacity){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}const Un=new ir(1e3),Hn=new ir(500),qn=new ir(2e3);function ds(e){const t=qn.get(e);if(t!==void 0)return t;let n=e.trim();return n=n.replace(/[Ａ-Ｚａ-ｚ０-９]/g,s=>String.fromCharCode(s.charCodeAt(0)-65248)),n=n.replace(/[^\u3041-\u3096\u30A1-\u30F6\u30FC\u3063\u3083\u3085\u3087\u308E\u30C1\u30E3\u30E5\u30E7\u30A1\u30A3\u30A5\u30A7\u30A9]/g,""),qn.set(e,n),n}function hs(e,t){const n=`${e}:${JSON.stringify(t).slice(0,100)}`,s=Un.get(n);if(s!==void 0)return s;const r=vs(e,t);return Un.set(n,r),r}function ai(e,t){const n=`${e}:${JSON.stringify(t.scoring||{}).slice(0,100)}`,s=Hn.get(n);if(s!==void 0)return s;const r=fi(e,t);return Hn.set(n,r),r}function ps(){return{phoneme:Un.size(),scoring:Hn.size(),normalized:qn.size()}}function ii(e,t){const n=performance.now(),s=e(),r=performance.now();return r-n>100&&console.warn(`Performance warning: ${t} took ${(r-n).toFixed(2)}ms`),s}class hn extends Error{constructor(t,n,s){super(t),this.name="AnalysisError",this.code=n,this.details=s}}function oi(e){return!e||typeof e!="string"?{isValid:!1,error:"入力テキストが無効です。文字列を入力してください。"}:e.trim().length===0?{isValid:!1,error:"空のテキストは分析できません。ひらがな・カタカナを入力してください。"}:e.length>100?{isValid:!1,error:"テキストが長すぎます。100文字以内で入力してください。"}:/^[\u3041-\u3096\u30A1-\u30F6\u30FC\u3063\u3083\u3085\u3087\u308E\u30C1\u30E3\u30E5\u30E7\u30A1\u30A3\u30A5\u30A7\u30A9\s]*$/.test(e)?{isValid:!0}:{isValid:!1,error:"ひらがな・カタカナのみ入力可能です。英数字や漢字は使用できません。"}}function _s(e){if(!e||typeof e!="object")return{isValid:!1,error:"ルールファイルの形式が無効です。"};const t=["phoneme","structure","rhyme","start"];for(const n of t)if(!e[n])return{isValid:!1,error:`ルールファイルに必須セクション '${n}' がありません。`};return!e.phoneme.consonants||!e.phoneme.vowels?{isValid:!1,error:"ルールファイルの音素セクションが不完全です。"}:e.scoring&&(!e.scoring.phoneme||!e.scoring.structure)?{isValid:!1,error:"スコアリングルールの構造が無効です。"}:{isValid:!0}}function Ar(e,t,n=!1){try{const s=oi(e);if(!s.isValid)throw new hn(s.error||"入力が無効です","INVALID_INPUT",{input:e});const r=_s(t);if(!r.isValid)throw new hn(r.error||"ルールが無効です","INVALID_RULES");return{result:gs(e,t,n)}}catch(s){return s instanceof hn?{error:s}:{error:new hn("システムエラーが発生しました。しばらく時間をおいて再度お試しください。","SYSTEM_ERROR",{originalError:s.message})}}}function li(e){const t=e.trim(),n=t.length,s=n<=2?"短い":n<=4?"中程度":"長い",r=/[かきくけこがぎぐげごたちつてとだぢづでどぱぴぷぺぽばびぶべぼ]/.test(t),a=/[なにぬねのまみむめもやゆよらりるれろわをん]/.test(t),o=/[あいえ]/.test(t),l=[];return r&&l.push("硬い"),a&&l.push("柔らかい"),o&&l.push("明るい"),{summary:l.length>0?`この言葉は${l.join("、")}印象で、${s}響きを持っています。`:`この言葉は${s}響きを持っています。`,details:{length:[s],impression:l,fallback:["簡易分析モード"]}}}function ci(e){return{INVALID_INPUT:"入力内容に問題があります。ひらがな・カタカナで入力してください。",INVALID_RULES:"システムの設定ファイルに問題があります。ページを再読み込みしてください。",SCORING_ERROR:"スコア計算中にエラーが発生しました。基本分析のみ表示されます。",PERFORMANCE_ERROR:"処理に時間がかかりすぎています。短いテキストで再度お試しください。",CACHE_ERROR:"キャッシュの問題が発生しました。ページを再読み込みしてください。",SYSTEM_ERROR:"システムエラーが発生しました。しばらく時間をおいて再度お試しください。"}[e.code]||e.message||"不明なエラーが発生しました。"}function Ze(e,t){if(typeof console<"u"){const s={timestamp:new Date().toISOString(),eventType:e,data:t,cacheStats:ps()};console.log(`[Analysis] ${e}:`,s)}}function ui(){const e={};let t="healthy";const n=performance.now(),s=performance.now()-n;if(e.responseTime=`${s.toFixed(2)}ms`,s>50&&(t="warning",e.performance="Slow response detected"),typeof performance<"u"&&performance.memory){const a=performance.memory;e.memory={used:`${(a.usedJSHeapSize/1024/1024).toFixed(2)}MB`,total:`${(a.totalJSHeapSize/1024/1024).toFixed(2)}MB`,limit:`${(a.jsHeapSizeLimit/1024/1024).toFixed(2)}MB`},a.usedJSHeapSize/a.jsHeapSizeLimit>.8&&(t="warning",e.memoryWarning="High memory usage detected")}const r=ps();return e.cache=r,(r.phoneme>800||r.scoring>400)&&(e.cacheWarning="Cache approaching capacity"),{status:t,details:e}}function fi(e,t){const n=performance.now();if(!t.scoring)throw new Error("Scoring rules not found");const s=ds(e),r=hs(s,t),a=["hardness","softness","brightness","heaviness","sharpness"],o=[];for(const c of a){const m=vi(s,r,t,c);o.push(m)}const l=o.reduce((c,m)=>c+m.score,0),u=o.reduce((c,m)=>c+m.maxScore,0),f=hi(l,u),v=o.reduce((c,m)=>c+m.confidence,0)/o.length,h={};o.forEach(c=>{h[c.category]=c.score/c.maxScore});const d=performance.now()-n;return d>500&&console.warn(`Scoring calculation took ${d}ms, exceeding 500ms target`),{totalScore:l,maxPossibleScore:u,normalizedScore:f,categoryScores:o,confidence:v,breakdown:h}}function vi(e,t,n,s){if(!n.scoring)throw new Error("Scoring rules not found");let r=0,a=0,o=0,l=0;const u=[];for(const[h,_]of Object.entries(t.consonants)){const d=n.scoring.phoneme.consonants[h]?.[s];if(d){const c=_.length;r+=d.score*d.weight*c,a+=d.weight*c,o+=d.weight*c,l+=d.weight*c,u.push(`子音-${h}`)}}for(const[h,_]of Object.entries(t.vowels)){const d=n.scoring.phoneme.vowels[h]?.[s];if(d){const c=_.length;r+=d.score*d.weight*c,a+=d.weight*c,o+=d.weight*c,l+=d.weight*c,u.push(`母音-${h}`)}}const f=di(e,n,s);r+=f.score,a+=f.maxScore,o+=f.confidence,l+=f.weight,u.push(...f.appliedRules);const v=l>0?o/l:0;return{category:s,score:r,maxScore:Math.max(a,1),confidence:Math.min(v,1),appliedRules:u}}function di(e,t,n){if(!t.scoring?.structure)return{score:0,maxScore:0,confidence:0,weight:0,appliedRules:[]};let s=0,r=0,a=0,o=0;const l=[],u=/(.)\1/.test(e);if(/(.)\1\1/.test(e)){const c=t.scoring.structure.repetition.triple_or_more[n];c&&(s+=c.score*c.weight,r+=c.weight,a+=c.weight,o+=c.weight,l.push("repetition-triple"))}else if(u){const c=t.scoring.structure.repetition.double[n];c&&(s+=c.score*c.weight,r+=c.weight,a+=c.weight,o+=c.weight,l.push("repetition-double"))}const v=e.slice(-1);if("あいうえお".includes(v)){const c=t.scoring.structure.ending.vowel[n];c&&(s+=c.score*c.weight,r+=c.weight,a+=c.weight,o+=c.weight,l.push("ending-vowel"))}else if(v==="ん"){const c=t.scoring.structure.ending.n[n];c&&(s+=c.score*c.weight,r+=c.weight,a+=c.weight,o+=c.weight,l.push("ending-n"))}let h;e.length<=2?h="short":e.length<=4?h="medium":h="long";const _=t.scoring.structure.length[h]?.[n];_&&(s+=_.score*_.weight,r+=_.weight,a+=_.weight,o+=_.weight,l.push(`長さ-${h}`));const d=o>0?a/o:0;return{score:s,maxScore:r,confidence:d,weight:o,appliedRules:l}}function hi(e,t){return t===0?0:Math.max(0,Math.min(1,e/t))}function gs(e,t,n=!1){return ii(()=>{const s=ds(e),r={start:[],end:[],length:[],repetition:[]};if(!s)return{summary:"分析対象のテキストがありません。",details:r};const a=hs(s,t),o=Bt(s),l=o[0],u=o[o.length-1];if(t.start.consonants[l]){r.start.push(...t.start.consonants[l]);const c=a.consonants[l];c&&c.length>0&&r.start.push(...c)}if(t.start.vowels[l]){r.start.push(...t.start.vowels[l]);const c=a.vowels[l];c&&c.length>0&&r.start.push(...c)}t.structure.ending[u]&&r.end.push(...t.structure.ending[u]),s.length<=2?r.length.push(...t.structure.length.short):s.length<=4?r.length.push(...t.structure.length.medium):r.length.push(...t.structure.length.long),new Set(s.split("")).size<=s.length/2&&r.repetition.push(...t.structure.repetition.double),Object.keys(r).forEach(c=>{r[c]=[...new Set(r[c])]});const v=[],h={start:"開始音",end:"終了音",length:"長さ",repetition:"繰り返し"};for(const[c,m]of Object.entries(r))if(m.length>0){const S=m.slice(0,2).join("、"),E=h[c]||c;v.push(`${E}は${S}の印象があります`)}const d={summary:v.join("。"),details:r};if(n&&"scoring"in t&&t.scoring)try{const c=ai(s,t),m=c.confidence;return{...d,scoring:c,confidence:m,metadata:{analysisVersion:"2.0.0",timestamp:new Date().toISOString(),rulesVersion:"1.0.0"}}}catch(c){return console.warn("Scoring calculation failed:",c),d}return d},`analyzeWord(${e})`)}function pi(e,t){const n=gs(e,t),s=vs(e,t),r=Er(n.details),a={};for(const v of Object.values(s.consonants))for(const h of v)a.phonemes||(a.phonemes=[]),a.phonemes.push(h);for(const v of Object.values(s.vowels))for(const h of v)a.phonemes||(a.phonemes=[]),a.phonemes.push(h);for(const v of Object.values(s.special))for(const h of v)a.phonemes||(a.phonemes=[]),a.phonemes.push(h);const o=Er(a),l={bright:r.scores.bright+o.scores.bright,heavy:r.scores.heavy+o.scores.heavy,soft:r.scores.soft+o.scores.soft,sharp:r.scores.sharp+o.scores.sharp,light:r.scores.light+o.scores.light},u=(r.confidence+o.confidence)/2;return{summary:si(l),details:n.details,phonemeAnalysis:s,impressionScores:l,confidence:u}}var _i=L('<button type="button" class="clear-button svelte-n6wpaw" aria-label="入力をクリア">×</button>'),gi=L('<div class="validation-message svelte-n6wpaw">ひらがな、カタカナ以外が入力されています</div>'),mi=L('<button type="button" class="sample-button svelte-n6wpaw"> </button>'),yi=L('<div class="text-input-container svelte-n6wpaw"><div class="input-wrapper svelte-n6wpaw"><input type="text" autocomplete="off" spellcheck="false"/> <!></div> <div class="input-meta svelte-n6wpaw"><div> </div> <!></div> <div class="sample-texts svelte-n6wpaw"><span class="sample-label svelte-n6wpaw">サンプル:</span> <!></div> <div class="input-guide svelte-n6wpaw"><details class="svelte-n6wpaw"><summary class="svelte-n6wpaw">入力について</summary> <ul class="svelte-n6wpaw"><li class="svelte-n6wpaw">すべての文字が入力可能です</li> <li class="svelte-n6wpaw"> </li> <li class="svelte-n6wpaw">入力中は自動的に分析が実行されます</li></ul></details></div></div>');function wi(e,t){Wt(t,!1);const n=W(),s=W(),r=W(),a=W();let o=fe(t,"value",12,""),l=fe(t,"placeholder",8,"テキストを入力してください"),u=fe(t,"debounceMs",8,300),f=fe(t,"maxLength",8,50),v=fe(t,"onInput",8,()=>{}),h=fe(t,"onAnalyze",8,()=>{});ti();let _,d=W(),c="";function m(j){return j.substring(0,f())}function S(j){const K=j.target,ee=K.value,re=m(ee);ee!==re&&(K.value=re),o(re),v()(o()),clearTimeout(_),o().trim()&&o()!==c&&(_=setTimeout(()=>{c=o(),h()(o())},u()))}function E(j){j.preventDefault();const K=j.clipboardData?.getData("text")||"",ee=m(K),re=i(d).selectionStart||0,Se=i(d).selectionEnd||0,ie=o().substring(0,re)+ee+o().substring(Se);o(m(ie)),v()(o()),clearTimeout(_),o().trim()&&o()!==c&&(_=setTimeout(()=>{c=o(),h()(o())},u()))}function O(){o(""),c="",clearTimeout(_),i(d)&&vr(d,i(d).value=""),i(d)?.focus(),v()(o())}const I=["さくら","つばめ","かぜ","ひかり","みどり","そら"];function T(j){o(j),i(d)&&vr(d,i(d).value=j),v()(o()),clearTimeout(_),o()!==c&&(c=o(),h()(o()))}ve(()=>V(o()),()=>{b(n,o().length>0)}),ve(()=>V(o()),()=>{b(s,o().length>0&&!/^[ぁ-んァ-ヴーゃゅょっ\s]*$/.test(o()))}),ve(()=>V(o()),()=>{b(r,o().length)}),ve(()=>(V(f()),i(r)),()=>{b(a,f()-i(r))}),Cn(),cn();var N=yi(),$=p(N),x=p($);let te;sr(x,j=>b(d,j),()=>i(d));var le=g(x,2);{var ke=j=>{var K=_i();ce("click",K,O),C(j,K)};q(le,j=>{o()&&j(ke)})}var P=g($,2),y=p(P);let z;var H=p(y),Q=g(y,2);{var w=j=>{var K=gi();C(j,K)};q(Q,j=>{i(s)&&j(w)})}var D=g(P,2),F=g(p(D),2);ue(F,1,()=>I,we,(j,K)=>{var ee=mi(),re=p(ee);Y(()=>M(re,i(K))),ce("click",ee,()=>T(i(K))),C(j,ee)});var A=g(D,2),ne=p(A),_e=g(p(ne),2),oe=g(p(_e),2),Z=p(oe);Y((j,K)=>{Ba(x,o()),te=De(x,1,"text-input svelte-n6wpaw",null,te,j),U(x,"placeholder",l()),U(x,"maxlength",f()),z=De(y,1,"char-counter svelte-n6wpaw",null,z,K),M(H,`${i(r)??""} / ${f()??""}`),M(Z,`最大${f()??""}文字まで入力できます`)},[()=>({valid:i(n),invalid:!i(n)&&o().length>0}),()=>({warning:i(a)<=10})]),ce("input",x,S),ce("paste",x,E),C(e,N),Ut()}var bi=ln('<polygon fill="none" stroke="var(--grid-color, #e0e0e0)" stroke-width="1"></polygon>'),Si=ln('<line stroke="var(--axis-color, #666)" stroke-width="1" opacity="0.5"></line>'),xi=ln('<circle r="4" fill="var(--data-stroke, rgb(59, 130, 246))" stroke="white" stroke-width="2" role="button" tabindex="0"></circle>'),Ei=ln('<text text-anchor="middle" dominant-baseline="central" font-size="12" fill="var(--label-color, #333)" role="button" tabindex="0"> </text>'),Ai=ln('<text text-anchor="middle" dominant-baseline="central" class="center-value svelte-jhas6y" font-size="16" font-weight="bold" fill="var(--data-stroke, rgb(59, 130, 246))"> </text>'),ki=L(" <br/> <br/> ",1),Ri=L(" <br/> ",1),zi=L('<div class="tooltip svelte-jhas6y"><strong> </strong><br/> <!></div>'),Ci=L('<div class="radar-chart-container svelte-jhas6y"><svg preserveAspectRatio="xMidYMid meet" class="radar-chart-svg svelte-jhas6y"><!><!><path fill="var(--data-fill, rgba(59, 130, 246, 0.3))" stroke="var(--data-stroke, rgb(59, 130, 246))" stroke-width="2"></path><!><!><!></svg> <!></div>');function Ti(e,t){Wt(t,!1);const n=W(),s=W(),r=W(),a=W(),o=W();let l=fe(t,"data",8,null),u=fe(t,"scoringData",8,null),f=fe(t,"confidence",8,1),v=fe(t,"size",8,300),h=W(null);const _={bright:"明るさ",heavy:"重厚さ",soft:"柔らかさ",sharp:"鋭さ",light:"軽やかさ",brightness:"明るさ",heaviness:"重厚さ",softness:"柔らかさ",sharpness:"鋭さ",hardness:"硬さ"},d=v()/2,c=d*.8;function m(P,y){const z=(P-90)*Math.PI/180;return{x:d+y*Math.cos(z),y:d+y*Math.sin(z)}}ve(()=>(V(u()),V(l())),()=>{b(n,(()=>{if(u()&&u().length>0){const P=360/u().length;return u().map((y,z)=>({key:y.category,label:_[y.category]||y.category,angle:z*P,scoreData:y}))}else return l()?[{key:"bright",label:"明るさ",angle:0},{key:"sharp",label:"鋭さ",angle:72},{key:"light",label:"軽やかさ",angle:144},{key:"soft",label:"柔らかさ",angle:216},{key:"heavy",label:"重厚さ",angle:288}]:[]})())}),ve(()=>(i(n),V(u()),V(l())),()=>{b(s,i(n).map(P=>{let y,z;u()&&"scoreData"in P?(y=P.scoreData.score/P.scoreData.maxScore,z=Math.max(0,Math.min(1,y))):l()&&P.key in l()?(y=l()[P.key]||0,z=Math.max(-1,Math.min(1,y)),z=(z+1)/2):(y=0,z=0);const H=c*z;return{...P,value:u()?y:y||0,normalizedValue:z,...m(P.angle,H)}}))}),ve(()=>i(n),()=>{b(r,[.2,.4,.6,.8,1].map(P=>i(n).map(y=>m(y.angle,c*P))))}),ve(()=>i(s),()=>{b(a,i(s).map((P,y)=>`${y===0?"M":"L"} ${P.x} ${P.y}`).join(" ")+" Z")}),ve(()=>i(n),()=>{b(o,i(n).map(P=>({...P,...m(P.angle,c+30)})))}),Cn(),cn();var S=Ci(),E=p(S),O=p(E);ue(O,1,()=>i(r),we,(P,y,z)=>{var H=bi();De(H,0,`grid-line grid-level-${z+1}`,"svelte-jhas6y"),U(H,"opacity",.3+z*.1),Y(Q=>U(H,"points",Q),[()=>(i(y),R(()=>i(y).map(Q=>`${Q.x},${Q.y}`).join(" ")))]),C(P,H)});var I=g(O);ue(I,1,()=>i(n),we,(P,y)=>{const z=Ve(()=>(i(y),R(()=>m(i(y).angle,c))));var H=Si();Y(()=>{U(H,"x1",d),U(H,"y1",d),U(H,"x2",(V(i(z)),R(()=>i(z).x))),U(H,"y2",(V(i(z)),R(()=>i(z).y)))}),C(P,H)});var T=g(I),N=g(T);ue(N,1,()=>i(s),we,(P,y)=>{var z=xi();let H;Y((Q,w)=>{U(z,"cx",(i(y),R(()=>i(y).x))),U(z,"cy",(i(y),R(()=>i(y).y))),H=De(z,0,"data-point svelte-jhas6y",null,H,Q),U(z,"aria-label",`${i(y),R(()=>i(y).label)??""}: ${w??""}`)},[()=>({hovered:i(h)===i(y).key}),()=>(i(y),R(()=>i(y).value.toFixed(2)))]),ce("mouseenter",z,()=>b(h,i(y).key)),ce("mouseleave",z,()=>b(h,null)),ce("focus",z,()=>b(h,i(y).key)),ce("blur",z,()=>b(h,null)),C(P,z)});var $=g(N);ue($,1,()=>i(o),we,(P,y)=>{var z=Ei();let H;var Q=p(z);Y(w=>{U(z,"x",(i(y),R(()=>i(y).x))),U(z,"y",(i(y),R(()=>i(y).y))),H=De(z,0,"axis-label svelte-jhas6y",null,H,w),U(z,"aria-label",`軸ラベル: ${i(y),R(()=>i(y).label)??""}`),M(Q,(i(y),R(()=>i(y).label)))},[()=>({hovered:i(h)===i(y).key})]),ce("mouseenter",z,()=>b(h,i(y).key)),ce("mouseleave",z,()=>b(h,null)),ce("focus",z,()=>b(h,i(y).key)),ce("blur",z,()=>b(h,null)),C(P,z)});var x=g($);{var te=P=>{const y=Ve(()=>(i(s),i(h),R(()=>i(s).find(w=>w.key===i(h)))));var z=en(),H=gt(z);{var Q=w=>{var D=Ai(),F=p(D);Y(A=>{U(D,"x",d),U(D,"y",d),M(F,A)},[()=>(V(i(y)),R(()=>i(y).value.toFixed(2)))]),C(w,D)};q(H,w=>{i(y)&&w(Q)})}C(P,z)};q(x,P=>{i(h)&&P(te)})}var le=g(E,2);{var ke=P=>{const y=Ve(()=>(i(s),i(h),R(()=>i(s).find(w=>w.key===i(h)))));var z=en(),H=gt(z);{var Q=w=>{var D=zi(),F=p(D),A=p(F),ne=g(F,3);{var _e=Z=>{var j=ki(),K=gt(j),ee=g(K,2),re=g(ee,2);Y((Se,ie)=>{M(K,`スコア: ${Se??""}%`),M(ee,` 信頼度: ${ie??""}%`),M(re,` 適用ルール: ${V(i(y)),R(()=>i(y).scoreData.appliedRules.length)??""}個`)},[()=>(V(i(y)),R(()=>(i(y).value*100).toFixed(1))),()=>(V(i(y)),R(()=>(i(y).scoreData.confidence*100).toFixed(0)))]),C(Z,j)},oe=Z=>{var j=Ri(),K=gt(j),ee=g(K,2);Y((re,Se)=>{M(K,`スコア: ${re??""}`),M(ee,` 信頼度: ${Se??""}%`)},[()=>(V(i(y)),R(()=>i(y).value.toFixed(2))),()=>(V(f()),R(()=>(f()*100).toFixed(0)))]),C(Z,j)};q(ne,Z=>{u()&&"scoreData"in i(y)?Z(_e):Z(oe,!1)})}Y(()=>{tn(D,`--confidence: ${f()??""}`),M(A,(V(i(y)),R(()=>i(y).label)))}),C(w,D)};q(H,w=>{i(y)&&w(Q)})}C(P,z)};q(le,P=>{i(h)&&P(ke)})}Y(()=>{U(E,"viewBox",`0 0 ${v()??""} ${v()??""}`),U(T,"d",i(a)),U(T,"opacity",f())}),C(e,S),Ut()}const $i=e=>e;function ms(e){const t=e-1;return t*t*t+1}function kr(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ii(e,{delay:t=0,duration:n=400,easing:s=$i}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:a=>`opacity: ${a*r}`}}function Oi(e,{delay:t=0,duration:n=400,easing:s=ms,x:r=0,y:a=0,opacity:o=0}={}){const l=getComputedStyle(e),u=+l.opacity,f=l.transform==="none"?"":l.transform,v=u*(1-o),[h,_]=kr(r),[d,c]=kr(a);return{delay:t,duration:n,easing:s,css:(m,S)=>`
			transform: ${f} translate(${(1-m)*h}${_}, ${(1-m)*d}${c});
			opacity: ${u-v*S}`}}function Pi(e,{delay:t=0,duration:n=400,easing:s=ms,start:r=0,opacity:a=0}={}){const o=getComputedStyle(e),l=+o.opacity,u=o.transform==="none"?"":o.transform,f=1-r,v=l*(1-a);return{delay:t,duration:n,easing:s,css:(h,_)=>`
			transform: ${u} scale(${1-f*_});
			opacity: ${l-v*_}
		`}}const Ni={hardness:"硬さ",softness:"柔らかさ",brightness:"明るさ",heaviness:"重厚さ",sharpness:"鋭さ"},ji={"start-consonant":"開始子音","start-vowel":"開始母音","length-short":"短い長さ","length-medium":"中程度長さ","length-long":"長い長さ","repetition-double":"二重繰り返し","repetition-triple":"三重繰り返し","phoneme-consonant":"子音音素","phoneme-vowel":"母音音素","phoneme-special":"特殊音素","ending-n":"「ん」で終了","ending-vowel":"母音で終了"};function Et(e){return Ni[e]||e}function wn(e){return ji[e]||e}var Mi=L('<span class="sound-tag consonant svelte-g6pdjd"> </span>'),Li=L('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">子音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),Di=L('<span class="sound-tag vowel svelte-g6pdjd"> </span>'),Fi=L('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">母音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),Vi=L('<div class="contributing-sounds svelte-g6pdjd"><h4 class="svelte-g6pdjd">寄与音素</h4> <!> <!></div>'),Wi=L('<span class="factor-tag svelte-g6pdjd"> </span>'),Ui=L('<div class="structural-factors svelte-g6pdjd"><h4 class="svelte-g6pdjd">構造的要因</h4> <div class="factor-list svelte-g6pdjd"></div></div>'),Hi=L('<div class="tooltip-container svelte-g6pdjd"><div><div class="tooltip-header svelte-g6pdjd"><h3 class="category-title svelte-g6pdjd"> </h3> <div class="score-badge svelte-g6pdjd"> </div></div> <div class="score-details svelte-g6pdjd"><div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">レベル:</span> <span> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">実際スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">最大スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">信頼度:</span> <span class="value svelte-g6pdjd"> </span></div></div> <!> <!> <div class="tooltip-arrow svelte-g6pdjd"></div></div></div>');function qi(e,t){Wt(t,!1);const n=W(),s=W(),r=W(),a=W(),o=W();let l=fe(t,"categoryScore",8),u=fe(t,"visible",8,!1),f=fe(t,"x",8,0),v=fe(t,"y",8,0);fe(t,"containerWidth",8,0),fe(t,"containerHeight",8,0);let h=W(),_=W(0),d=W(0);ar(()=>{const T=()=>{b(_,window.innerWidth),b(d,window.innerHeight)};return T(),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}});const c={"very-high":"非常に強い",high:"強い",medium:"中程度",low:"弱い","very-low":"非常に弱い"};function m(T){return T.toFixed(2)}function S(T){return T.toFixed(1)}ve(()=>(i(_),V(f()),i(h)),()=>{b(n,(()=>{if(!i(_))return f();const T=i(h)?.offsetWidth||(i(_)<=480?280:320),N=16,$=8;let x=f()+N;return x+T+$>i(_)&&(x=f()-T-N),x<$&&(x=$),x})())}),ve(()=>(i(d),V(v()),i(h)),()=>{b(s,(()=>{if(!i(d))return v();const T=i(h)?.offsetHeight||280,N=16,$=8;let x=v()+N;return x+T+$>i(d)&&(x=v()-T-N),x<$&&(x=$),x})())}),ve(()=>(V(l()),wn),()=>{b(r,(()=>{const T=[],N=[],$=[];return l().appliedRules.forEach(x=>{x.startsWith("子音-")?T.push(x.replace("子音-","")):x.startsWith("母音-")?N.push(x.replace("母音-","")):$.push(wn(x))}),{consonantRules:T,vowelRules:N,structuralRules:$}})())}),ve(()=>V(l()),()=>{b(a,l().score/l().maxScore*100)}),ve(()=>i(a),()=>{b(o,(()=>{const T=i(a);return T>=80?"very-high":T>=60?"high":T>=40?"medium":T>=20?"low":"very-low"})())}),Cn(),cn();var E=en(),O=gt(E);{var I=T=>{var N=Hi(),$=p(N),x=p($),te=p(x),le=p(te),ke=g(te,2),P=p(ke),y=g(x,2),z=p(y),H=g(p(z),2),Q=p(H),w=g(z,2),D=g(p(w),2),F=p(D),A=g(w,2),ne=g(p(A),2),_e=p(ne),oe=g(A,2),Z=g(p(oe),2),j=p(Z),K=g(y,2);{var ee=ie=>{var xe=Vi(),Oe=g(p(xe),2);{var rt=Re=>{var st=Li(),bt=g(p(st),2);ue(bt,5,()=>(i(r),R(()=>i(r).consonantRules)),we,(pt,St)=>{var at=Mi(),se=p(at);Y(()=>M(se,i(St))),C(pt,at)}),C(Re,st)};q(Oe,Re=>{i(r),R(()=>i(r).consonantRules.length>0)&&Re(rt)})}var Be=g(Oe,2);{var ht=Re=>{var st=Fi(),bt=g(p(st),2);ue(bt,5,()=>(i(r),R(()=>i(r).vowelRules)),we,(pt,St)=>{var at=Di(),se=p(at);Y(()=>M(se,i(St))),C(pt,at)}),C(Re,st)};q(Be,Re=>{i(r),R(()=>i(r).vowelRules.length>0)&&Re(ht)})}C(ie,xe)};q(K,ie=>{i(r),R(()=>i(r).consonantRules.length>0||i(r).vowelRules.length>0)&&ie(ee)})}var re=g(K,2);{var Se=ie=>{var xe=Ui(),Oe=g(p(xe),2);ue(Oe,5,()=>(i(r),R(()=>i(r).structuralRules)),we,(rt,Be)=>{var ht=Wi(),Re=p(ht);Y(()=>M(Re,i(Be))),C(rt,ht)}),C(ie,xe)};q(re,ie=>{i(r),R(()=>i(r).structuralRules.length>0)&&ie(Se)})}sr($,ie=>b(h,ie),()=>i(h)),Y((ie,xe,Oe,rt,Be)=>{tn(N,`left: ${i(n)??""}px; top: ${i(s)??""}px;`),De($,1,`tooltip-content level-${i(o)??""}`,"svelte-g6pdjd"),M(le,ie),M(P,`${xe??""}%`),De(H,1,`value level-indicator level-${i(o)??""}`,"svelte-g6pdjd"),M(Q,(i(o),R(()=>c[i(o)]))),M(F,Oe),M(_e,rt),M(j,`${Be??""}%`)},[()=>(V(Et),V(l()),R(()=>Et(l().category))),()=>(i(a),R(()=>S(i(a)))),()=>(V(l()),R(()=>m(l().score))),()=>(V(l()),R(()=>m(l().maxScore))),()=>(V(l()),R(()=>S(l().confidence*100)))]),Vn(3,N,()=>Oi,()=>({y:10,duration:200})),C(T,N)};q(O,T=>{u()&&T(I)})}C(e,E),Ut()}var Yi=L('<div class="overall-score svelte-1nzd1e2"><div class="chart-container svelte-1nzd1e2"><svg preserveAspectRatio="xMidYMid meet" class="donut-chart svelte-1nzd1e2"><circle fill="none" stroke="#ecf0f1"></circle><circle fill="none" stroke="#2ecc71" stroke-linecap="round" class="score-circle svelte-1nzd1e2"></circle><text text-anchor="middle" class="score-text svelte-1nzd1e2"> </text><text text-anchor="middle" class="score-label svelte-1nzd1e2">総合スコア</text><text text-anchor="middle" class="confidence-text svelte-1nzd1e2"> </text></svg></div></div>'),Bi=L("<button> </button>"),Ki=L('<div class="category-expanded svelte-1nzd1e2"><div class="score-breakdown svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div></div></div>'),Gi=L('<div role="button" tabindex="0"><div class="category-header svelte-1nzd1e2"><span class="category-name svelte-1nzd1e2"> </span> <span class="category-score svelte-1nzd1e2"> </span></div> <div class="progress-bar svelte-1nzd1e2"><div class="progress-background svelte-1nzd1e2"></div> <div class="progress-fill svelte-1nzd1e2"></div></div> <div class="category-details svelte-1nzd1e2"><span class="confidence"> </span> <span class="applied-rules"> </span></div> <!></div>'),Ji=L("<span> </span>"),Xi=L('<div class="category-filters svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリフィルター</h3> <div class="filter-buttons svelte-1nzd1e2"><button>すべて</button> <!></div></div> <div class="category-scores svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリ別スコア</h3> <!></div> <div class="score-breakdown svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">スコア詳細</h4> <div class="breakdown-grid svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">合計スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">最大可能スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">正規化スコア:</span> <span class="value svelte-1nzd1e2"> </span></div></div> <div class="applied-rules-section svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">適用されたルール</h4> <div class="applied-rules-list svelte-1nzd1e2"></div></div></div>',1),Zi=L('<div class="score-display svelte-1nzd1e2" role="region" aria-label="スコア分析結果"><!> <!> <!></div>');function Rr(e,t){Wt(t,!1);const n=W(),s=W(),r=W(),a=W(),o=W();let l=fe(t,"scoringResult",8),u=fe(t,"size",8,300),f=fe(t,"showDetails",8,!0),v=W(null),h=W(null),_=W(0),d=W(0),c=W(),m=W(null);const S={hardness:"#e74c3c",softness:"#3498db",brightness:"#f1c40f",heaviness:"#9b59b6",sharpness:"#e67e22"},E=u()/2,O=E*.7,I=20;function T(A){return(A*100).toFixed(1)}function N(A){return(A*100).toFixed(0)}function $(A){return A==="子音-n"?"special":A.includes("子音")?"consonant":A.includes("母音")?"vowel":A.includes("special")?"special":"structure"}ar(()=>(x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}));function x(){i(c)&&i(c).getBoundingClientRect()}function te(A){b(_,A.clientX),b(d,A.clientY)}function le(A){i(h)===A?b(h,null):b(h,A)}function ke(A){i(m)===A?b(m,null):b(m,A)}ve(()=>{},()=>{b(n,2*Math.PI*O)}),ve(()=>(i(n),V(l())),()=>{b(s,i(n)*(1-l().normalizedScore))}),ve(()=>V(l()),()=>{b(r,[...l().categoryScores].sort((A,ne)=>ne.score/ne.maxScore-A.score/A.maxScore))}),ve(()=>(i(m),i(r)),()=>{b(a,i(m)?i(r).filter(A=>A.category===i(m)):i(r))}),ve(()=>(i(v),V(l())),()=>{b(o,i(v)?l().categoryScores.find(A=>A.category===i(v)):null)}),Cn(),cn();var P=Zi(),y=p(P);{var z=A=>{var ne=Yi(),_e=p(ne),oe=p(_e),Z=p(oe);U(Z,"stroke-width",I);var j=g(Z);U(j,"stroke-width",I);var K=g(j),ee=p(K),re=g(K),Se=g(re),ie=p(Se);Y((xe,Oe)=>{U(oe,"viewBox",`0 0 ${u()??""} ${u()??""}`),U(Z,"cx",E),U(Z,"cy",E),U(Z,"r",O),U(j,"cx",E),U(j,"cy",E),U(j,"r",O),U(j,"stroke-dasharray",i(n)),U(j,"stroke-dashoffset",i(s)),U(j,"transform",`rotate(-90 ${E} ${E})`),U(K,"x",E),U(K,"y",E-10),M(ee,`${xe??""}%`),U(re,"x",E),U(re,"y",E+15),U(Se,"x",E),U(Se,"y",E+35),M(ie,`信頼度: ${Oe??""}%`)},[()=>(V(l()),R(()=>T(l().normalizedScore))),()=>(V(l()),R(()=>N(l().confidence)))]),C(A,ne)};q(y,A=>{f()||A(z)})}var H=g(y,2);{var Q=A=>{var ne=Xi(),_e=gt(ne),oe=g(p(_e),2),Z=p(oe);let j;var K=g(Z,2);ue(K,1,()=>i(r),se=>se.category,(se,k)=>{const X=Ve(()=>(i(k),R(()=>S[i(k).category]||"#95a5a6")));var J=Bi();let ge;var de=p(J);Y((Ue,ze)=>{ge=De(J,1,"filter-button svelte-1nzd1e2",null,ge,Ue),tn(J,`--filter-color: ${i(X)??""};`),M(de,ze)},[()=>({active:i(m)===i(k).category}),()=>(V(Et),i(k),R(()=>Et(i(k).category)))]),ce("click",J,()=>ke(i(k).category)),C(se,J)});var ee=g(_e,2),re=g(p(ee),2);ue(re,3,()=>i(a),se=>se.category,(se,k,X)=>{const J=Ve(()=>(i(k),R(()=>i(k).score/i(k).maxScore))),ge=Ve(()=>(i(k),R(()=>S[i(k).category]||"#95a5a6")));var de=Gi();let Ue;var ze=p(de),it=p(ze),he=p(it),pe=g(it,2),Pe=p(pe),Ce=g(ze,2),Ke=g(p(Ce),2),Te=g(Ce,2),Ge=p(Te),ot=p(Ge),Ne=g(Ge,2),je=p(Ne),Je=g(Te,2);{var lt=He=>{var qe=Ki(),Me=p(qe),Xe=p(Me),ys=p(Xe),ws=p(ys),or=g(Xe,2),bs=p(or),Ss=p(bs),xs=g(or,2),Es=p(xs),As=p(Es);Y((ks,Rs,zs)=>{M(ws,`実際スコア: ${ks??""}`),M(Ss,`最大スコア: ${Rs??""}`),M(As,`正規化率: ${zs??""}%`)},[()=>(i(k),R(()=>i(k).score.toFixed(2))),()=>(i(k),R(()=>i(k).maxScore.toFixed(2))),()=>(V(i(J)),R(()=>T(i(J))))]),Vn(3,qe,()=>Ii,()=>({duration:200})),C(He,qe)};q(Je,He=>{i(h),i(k),R(()=>i(h)===i(k).category)&&He(lt)})}Y((He,qe,Me,Xe)=>{Ue=De(de,1,"category-item svelte-1nzd1e2",null,Ue,He),M(he,qe),M(Pe,`${Me??""}%`),tn(Ke,`width: ${i(J)*100}%; background-color: ${i(ge)??""};`),M(ot,`信頼度: ${Xe??""}%`),M(je,`適用ルール: ${i(k),R(()=>i(k).appliedRules.length)??""}個`)},[()=>({hovered:i(v)===i(k).category,selected:i(h)===i(k).category}),()=>(V(Et),i(k),R(()=>Et(i(k).category))),()=>(V(i(J)),R(()=>T(i(J)))),()=>(i(k),R(()=>N(i(k).confidence)))]),ce("mouseenter",de,()=>b(v,i(k).category)),ce("mouseleave",de,()=>b(v,null)),ce("click",de,()=>le(i(k).category)),Vn(1,de,()=>Pi,()=>({duration:300,delay:i(X)*50})),C(se,de)});var Se=g(ee,2),ie=g(p(Se),2),xe=p(ie),Oe=g(p(xe),2),rt=p(Oe),Be=g(xe,2),ht=g(p(Be),2),Re=p(ht),st=g(Be,2),bt=g(p(st),2),pt=p(bt),St=g(ie,2),at=g(p(St),2);ue(at,5,()=>(V(l()),R(()=>[...new Set(l().categoryScores.flatMap(se=>se.appliedRules))].filter(se=>se!=null&&se!==""))),we,(se,k)=>{var X=Ji(),J=p(X);Y((ge,de)=>{De(X,1,`rule-tag ${ge??""}`,"svelte-1nzd1e2"),M(J,de)},[()=>(i(k),R(()=>$(i(k)))),()=>(V(wn),i(k),R(()=>wn(i(k))))]),C(se,X)}),Y((se,k,X,J)=>{j=De(Z,1,"filter-button svelte-1nzd1e2",null,j,se),M(rt,k),M(Re,X),M(pt,`${J??""}%`)},[()=>({active:i(m)===null}),()=>(V(l()),R(()=>l().totalScore.toFixed(2))),()=>(V(l()),R(()=>l().maxPossibleScore.toFixed(2))),()=>(V(l()),R(()=>T(l().normalizedScore)))]),ce("click",Z,()=>b(m,null)),C(A,ne)},w=A=>{};q(H,A=>{f()?A(Q):A(w,!1)})}var D=g(H,2);{var F=A=>{qi(A,{get categoryScore(){return i(o)},visible:!0,get x(){return i(_)},get y(){return i(d)},containerWidth:R(()=>window.innerWidth),containerHeight:R(()=>window.innerHeight)})};q(D,A=>{i(o)&&i(v)&&A(F)})}sr(P,A=>b(c,A),()=>i(c)),ce("mousemove",P,te),ce("mouseleave",P,()=>{b(v,null)}),C(e,P),Ut()}var Qi=L("<div><!></div>"),eo=L('<div class="error-message svelte-l075c"><p> </p></div>'),to=L(`<div class="fallback-notice svelte-l075c"><p class="svelte-l075c">📝
        簡易分析モードで表示しています。より詳細な分析のためにひらがな・カタカナのみを入力してください。</p></div>`),no=L('<div class="loading-state svelte-l075c"><div class="loading-spinner svelte-l075c"></div> <p>分析中...</p></div>'),ro=L('<div class="summary-block svelte-l075c"><h3 class="svelte-l075c">分析サマリー</h3> <p class="summary-text svelte-l075c"> </p></div>'),so=L('<div class="summary-block svelte-l075c"><h3 class="svelte-l075c">スコア概要</h3> <p class="summary-text svelte-l075c">総合スコアは <strong> </strong> 点です。 <!></p> <p class="summary-text svelte-l075c"> </p></div>'),ao=L('<div class="detailed-score-section svelte-l075c"><h3 class="svelte-l075c">詳細スコア</h3> <div class="score-container svelte-l075c"><!></div></div>'),io=L('<div class="category-analysis-card card svelte-l075c"><h2 class="svelte-l075c">カテゴリ分析</h2> <!></div>'),oo=L('<span class="impression-tag consonant svelte-l075c"> </span>'),lo=L('<div class="phoneme-group svelte-l075c"><span class="phoneme-label svelte-l075c"> </span> <!></div>'),co=L('<div class="phoneme-category svelte-l075c"><h4 class="svelte-l075c">子音</h4> <div class="tag-container svelte-l075c"></div></div>'),uo=L('<span class="impression-tag vowel svelte-l075c"> </span>'),fo=L('<div class="phoneme-group svelte-l075c"><span class="phoneme-label svelte-l075c"> </span> <!></div>'),vo=L('<div class="phoneme-category svelte-l075c"><h4 class="svelte-l075c">母音</h4> <div class="tag-container svelte-l075c"></div></div>'),ho=L('<span class="impression-tag special svelte-l075c"> </span>'),po=L('<div class="phoneme-group svelte-l075c"><span class="phoneme-label svelte-l075c"> </span> <!></div>'),_o=L('<div class="phoneme-category svelte-l075c"><h4 class="svelte-l075c">特殊音</h4> <div class="tag-container svelte-l075c"></div></div>'),go=L('<div class="analysis-section svelte-l075c"><h3 class="svelte-l075c">音素分析</h3> <!> <!> <!></div>'),mo=L('<span class="impression-tag structure svelte-l075c"> </span>'),yo=L('<div class="structure-group svelte-l075c"><span class="category-label svelte-l075c"> </span> <!></div>'),wo=L('<div class="analysis-section svelte-l075c"><h3 class="svelte-l075c">構造分析</h3> <div class="tag-container svelte-l075c"></div></div>'),bo=L('<section class="results-section svelte-l075c"><div class="summary-card card svelte-l075c"><h2 class="svelte-l075c">総合印象</h2> <!> <!> <div class="confidence-indicator svelte-l075c"><span class="confidence-label svelte-l075c">信頼度:</span> <div class="confidence-bar svelte-l075c"><div class="confidence-fill svelte-l075c"></div></div> <span class="confidence-value svelte-l075c"> </span></div></div> <div class="analysis-results-card card svelte-l075c"><h2 class="svelte-l075c">分析結果と詳細スコア</h2> <div class="analysis-content svelte-l075c"><div class="analysis-chart-section svelte-l075c"><h3 class="svelte-l075c">音象徴分析</h3> <div class="chart-container svelte-l075c"><!></div></div> <!></div></div> <!> <div class="details-card card svelte-l075c"><h2 class="svelte-l075c">詳細分析</h2> <!> <!></div></section>'),So=L('<div class="welcome-message svelte-l075c"><h2 class="svelte-l075c">音象徴分析へようこそ</h2> <p class="svelte-l075c">ひらがな・カタカナで言葉を入力すると、その音の印象を5つの軸で分析します。</p> <ul class="feature-list svelte-l075c"><li class="svelte-l075c">✨ <strong>明るさ</strong> - 音の明暗を測定</li> <li class="svelte-l075c">🏋️ <strong>重厚さ</strong> - 音の重みを測定</li> <li class="svelte-l075c">🪶 <strong>柔らかさ</strong> - 音の質感を測定</li> <li class="svelte-l075c">⚡ <strong>鋭さ</strong> - 音の切れ味を測定</li> <li class="svelte-l075c">🎈 <strong>軽やかさ</strong> - 音の軽快さを測定</li></ul></div>'),xo=L('<div class="app-container svelte-l075c"><header class="app-header svelte-l075c"><h1 class="app-title svelte-l075c">音象徴分析アプリ</h1> <p class="app-subtitle svelte-l075c">ひらがな・カタカナの音の印象を5軸で分析</p> <!></header> <!> <!> <main class="main-content svelte-l075c"><section class="input-section svelte-l075c"><!></section> <!> <!> <!></main></div>');function Eo(e,t){Wt(t,!1);let n=null,s=W(""),r=W(null),a=W(null),o=W(!1),l=W(""),u=W("healthy"),f=W(!1),v=null;ar(async()=>{try{Ze("APP_INIT_START");const w=ui();b(u,w.status),w.status==="warning"&&console.warn("System performance warning:",w.details);const F=await fetch("/sound_symbolism/rules.json");if(!F.ok)throw new Error("ルールファイルの読み込みに失敗しました");const A=await F.json(),ne=_s(A);if(!ne.isValid)throw new Error(`ルールファイルが無効です: ${ne.error}`);n=A,Ze("APP_INIT_SUCCESS",{hasScoring:!!n.scoring,systemStatus:w.status})}catch(w){console.error("Failed to load rules:",w),Ze("APP_INIT_ERROR",{error:w.message}),b(u,"error"),b(l,w instanceof Error?w.message:"ルールファイルの読み込みに失敗しました。ページを再読み込みしてください。")}});async function h(w){if(!(!n||!w.trim())){b(o,!0),b(l,""),v=null,b(f,!1);try{Ze("ANALYSIS_START",{text:w.slice(0,20)+"..."}),await new Promise(F=>setTimeout(F,150));const D=Ar(w.trim(),n,!1);if(D.error){if(v=D.error,b(l,ci(D.error)),D.error.code==="INVALID_INPUT"&&w.trim().length>0)try{const F=li(w.trim());b(r,{...F,summary:F.summary+"（簡易分析モード）",impressionScores:{bright:.5,heavy:.5,soft:.5,sharp:.5,light:.5},confidence:.3}),b(f,!0),b(l,""),Ze("FALLBACK_ANALYSIS_SUCCESS")}catch(F){console.error("Fallback analysis failed:",F),b(r,null)}else b(r,null);b(a,null)}else{if(b(r,pi(w.trim(),n)),n.scoring)try{const F=Ar(w.trim(),n,!0);F.result&&"scoring"in F.result&&F.result.scoring?(b(a,F.result),Ze("SCORING_ANALYSIS_SUCCESS")):(b(a,null),Ze("SCORING_ANALYSIS_SKIPPED"))}catch(F){console.warn("Scoring analysis failed:",F),b(a,null),Ze("SCORING_ANALYSIS_ERROR",{error:F.message})}else b(a,null);Ze("ANALYSIS_SUCCESS")}}catch(D){console.error("Analysis failed:",D),Ze("ANALYSIS_ERROR",{error:D.message}),b(l,"予期しないエラーが発生しました。しばらく時間をおいて再度お試しください。"),b(r,null),b(a,null),b(u,"error")}finally{b(o,!1)}}}function _(w){b(s,w)}function d(w){h(w)}function c(w){if(!w||w.length===0)return"";const D=w.reduce((F,A)=>{const ne=A.score/A.maxScore,_e=F.score/F.maxScore;return ne>_e?A:F});return Et(D.category)}cn();var m=xo(),S=p(m),E=g(p(S),4);{var O=w=>{var D=Qi();let F;var A=p(D);{var ne=oe=>{var Z=In("⚠️ システムパフォーマンスに問題があります");C(oe,Z)},_e=oe=>{var Z=en(),j=gt(Z);{var K=ee=>{var re=In("❌ システムエラーが発生しています");C(ee,re)};q(j,ee=>{i(u)==="error"&&ee(K)},!0)}C(oe,Z)};q(A,oe=>{i(u)==="warning"?oe(ne):oe(_e,!1)})}Y(oe=>F=De(D,1,"system-status svelte-l075c",null,F,oe),[()=>({warning:i(u)==="warning",error:i(u)==="error"})]),C(w,D)};q(E,w=>{i(u)!=="healthy"&&w(O)})}var I=g(S,2);{var T=w=>{var D=eo(),F=p(D),A=p(F);Y(()=>M(A,i(l))),C(w,D)};q(I,w=>{i(l)&&w(T)})}var N=g(I,2);{var $=w=>{var D=to();C(w,D)};q(N,w=>{i(f)&&w($)})}var x=g(N,2),te=p(x),le=p(te);wi(le,{onInput:_,onAnalyze:d,placeholder:"ひらがな・カタカナを入力してください",maxLength:20,get value(){return i(s)},set value(w){b(s,w)},$$legacy:!0});var ke=g(te,2);{var P=w=>{var D=no();C(w,D)};q(ke,w=>{i(o)&&w(P)})}var y=g(ke,2);{var z=w=>{var D=bo(),F=p(D),A=g(p(F),2);{var ne=k=>{var X=ro(),J=g(p(X),2),ge=p(J);Y(()=>M(ge,i(r).summary)),C(k,X)};q(A,k=>{i(r)&&k(ne)})}var _e=g(A,2);{var oe=k=>{var X=so(),J=g(p(X),2),ge=g(p(J)),de=p(ge),Ue=g(ge,2);{var ze=pe=>{var Pe=In();Y(Ce=>M(Pe,Ce),[()=>`特に「${c(i(a).scoring.categoryScores)}」の印象が強く出ています。`]),C(pe,Pe)};q(Ue,pe=>{i(a).scoring.categoryScores.length>0&&pe(ze)})}var it=g(J,2),he=p(it);Y(pe=>{M(de,pe),M(he,i(a).summary)},[()=>Math.round(i(a).scoring.normalizedScore*100)]),C(k,X)};q(_e,k=>{i(a)&&i(a).scoring&&k(oe)})}var Z=g(_e,2),j=g(p(Z),2),K=p(j),ee=g(j,2),re=p(ee),Se=g(F,2),ie=g(p(Se),2),xe=p(ie),Oe=g(p(xe),2),rt=p(Oe);{let k=Ve(()=>i(a)?null:i(r).impressionScores),X=Ve(()=>i(a)?.scoring?.categoryScores||null),J=Ve(()=>i(a)?.scoring?.confidence||i(r).confidence);Ti(rt,{get data(){return i(k)},get scoringData(){return i(X)},get confidence(){return i(J)},size:Math.min(350,window.innerWidth-60)})}var Be=g(xe,2);{var ht=k=>{var X=ao(),J=g(p(X),2),ge=p(J);Rr(ge,{get scoringResult(){return i(a).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!1}),C(k,X)};q(Be,k=>{i(a)&&i(a).scoring&&k(ht)})}var Re=g(Se,2);{var st=k=>{var X=io(),J=g(p(X),2);Rr(J,{get scoringResult(){return i(a).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!0}),C(k,X)};q(Re,k=>{i(a)&&i(a).scoring&&k(st)})}var bt=g(Re,2),pt=g(p(bt),2);{var St=k=>{var X=go(),J=g(p(X),2);{var ge=he=>{var pe=co(),Pe=g(p(pe),2);ue(Pe,5,()=>Object.entries(i(r).phonemeAnalysis.consonants),we,(Ce,Ke)=>{var Te=fn(()=>un(i(Ke),2));let Ge=()=>i(Te)[0],ot=()=>i(Te)[1];var Ne=lo(),je=p(Ne),Je=p(je),lt=g(je,2);ue(lt,1,()=>[...new Set(ot())],we,(He,qe)=>{var Me=oo(),Xe=p(Me);Y(()=>M(Xe,i(qe))),C(He,Me)}),Y(()=>M(Je,Ge())),C(Ce,Ne)}),C(he,pe)};q(J,he=>{Object.keys(i(r).phonemeAnalysis.consonants).length>0&&he(ge)})}var de=g(J,2);{var Ue=he=>{var pe=vo(),Pe=g(p(pe),2);ue(Pe,5,()=>Object.entries(i(r).phonemeAnalysis.vowels),we,(Ce,Ke)=>{var Te=fn(()=>un(i(Ke),2));let Ge=()=>i(Te)[0],ot=()=>i(Te)[1];var Ne=fo(),je=p(Ne),Je=p(je),lt=g(je,2);ue(lt,1,()=>[...new Set(ot())],we,(He,qe)=>{var Me=uo(),Xe=p(Me);Y(()=>M(Xe,i(qe))),C(He,Me)}),Y(()=>M(Je,Ge())),C(Ce,Ne)}),C(he,pe)};q(de,he=>{Object.keys(i(r).phonemeAnalysis.vowels).length>0&&he(Ue)})}var ze=g(de,2);{var it=he=>{var pe=_o(),Pe=g(p(pe),2);ue(Pe,5,()=>Object.entries(i(r).phonemeAnalysis.special),we,(Ce,Ke)=>{var Te=fn(()=>un(i(Ke),2));let Ge=()=>i(Te)[0],ot=()=>i(Te)[1];var Ne=po(),je=p(Ne),Je=p(je),lt=g(je,2);ue(lt,1,()=>[...new Set(ot())],we,(He,qe)=>{var Me=ho(),Xe=p(Me);Y(()=>M(Xe,i(qe))),C(He,Me)}),Y(()=>M(Je,Ge())),C(Ce,Ne)}),C(he,pe)};q(ze,he=>{Object.keys(i(r).phonemeAnalysis.special).length>0&&he(it)})}C(k,X)};q(pt,k=>{i(r).phonemeAnalysis&&k(St)})}var at=g(pt,2);{var se=k=>{var X=wo(),J=g(p(X),2);ue(J,5,()=>Object.entries(i(r).details),we,(ge,de)=>{var Ue=fn(()=>un(i(de),2));let ze=()=>i(Ue)[0],it=()=>i(Ue)[1];var he=en(),pe=gt(he);{var Pe=Ce=>{var Ke=yo(),Te=p(Ke),Ge=p(Te),ot=g(Te,2);ue(ot,1,()=>[...new Set(it())],we,(Ne,je)=>{var Je=mo(),lt=p(Je);Y(()=>M(lt,i(je))),C(Ne,Je)}),Y(()=>M(Ge,ze()==="start"?"開始音":ze()==="end"?"終了音":ze()==="length"?"長さ":ze()==="repetition"?"繰り返し":ze())),C(Ce,Ke)};q(pe,Ce=>{it().length>0&&Ce(Pe)})}C(ge,he)}),C(k,X)};q(at,k=>{i(r).details&&Object.keys(i(r).details).length>0&&k(se)})}Y(k=>{tn(K,`width: ${(i(a)?i(a).confidence||0:i(r).confidence)*100}%`),M(re,`${k??""}%`)},[()=>Math.round((i(a)?i(a).confidence||0:i(r).confidence)*100)]),C(w,D)};q(y,w=>{i(r)&&!i(o)&&w(z)})}var H=g(y,2);{var Q=w=>{var D=So();C(w,D)};q(H,w=>{!i(r)&&!i(o)&&!i(s)&&w(Q)})}C(e,m),Ut()}La(Eo,{target:document.getElementById("app")});
