(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const zr=!1;var mn=Array.isArray,Es=Array.prototype.indexOf,Hn=Array.from,jn=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,Ar=Object.getOwnPropertyDescriptors,ks=Object.prototype,zs=Array.prototype,Bn=Object.getPrototypeOf,lr=Object.isExtensible;function As(e){return typeof e=="function"}const qt=()=>{};function Rs(e){return e()}function Pn(e){for(var t=0;t<e.length;t++)e[t]()}function Cs(){var e,t,n=new Promise((s,r)=>{e=s,t=r});return{promise:n,resolve:e,reject:t}}function ln(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const s of e)if(n.push(s),n.length===t)break;return n}const Oe=2,Yn=4,yn=8,kt=16,lt=32,zt=64,Rr=128,Fe=256,vn=512,ye=1024,We=2048,ct=4096,He=8192,At=16384,wn=32768,bn=65536,cr=1<<17,Ts=1<<18,Qt=1<<19,Cr=1<<20,Mn=1<<21,Un=1<<22,bt=1<<23,St=Symbol("$state"),$s=Symbol("legacy props"),js=Symbol(""),Kn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ps(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Tr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ms(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Is(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Os(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ds(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ls(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ws(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Sn=1,xn=2,$r=4,qs=8,Hs=16,Bs=1,Ys=2,Us=4,Ks=8,Gs=16,Js=1,Xs=2,Zs=4,Qs=1,ea=2,_e=Symbol(),ta="http://www.w3.org/1999/xhtml";let na=!1;function jr(e){return e===this.v}function ra(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pr(e){return!ra(e,this.v)}let Nt=!1,sa=!1;function aa(){Nt=!0}let ie=null;function dn(e){ie=e}function Dt(e,t=!1,n){ie={p:ie,c:null,e:null,s:e,x:null,l:Nt&&!t?{s:null,u:null,$:[]}:null}}function Lt(e){var t=ie,n=t.e;if(n!==null){t.e=null;for(var s of n)Br(s)}return ie=t.p,{}}function en(){return!Nt||ie!==null&&ie.l===null}const ia=new WeakMap;function oa(e){var t=B;if(t===null)return K.f|=bt,e;if((t.f&wn)===0){if((t.f&Rr)===0)throw!t.parent&&e instanceof Error&&Mr(e),e;t.b.error(e)}else Gn(e,t)}function Gn(e,t){for(;t!==null;){if((t.f&Rr)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Mr(e),e}function Mr(e){const t=ia.get(e);t&&(jn(e,"message",{value:t.message}),jn(e,"stack",{value:t.stack}))}let hn=[];function la(){var e=hn;hn=[],Pn(e)}function En(e){hn.length===0&&queueMicrotask(la),hn.push(e)}function ca(){for(var e=B.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Ps(),e}function tn(e){var t=Oe|We,n=K!==null&&(K.f&Oe)!==0?K:null;return B===null||n!==null&&(n.f&Fe)!==0?t|=Fe:B.f|=Qt,{ctx:ie,deps:null,effects:null,equals:jr,f:t,fn:e,reactions:null,rv:0,v:_e,wv:0,parent:n??B,ac:null}}function ua(e,t){let n=B;n===null&&Ms();var s=n.b,r=void 0,i=Yt(_e),o=null,l=!K;return Sa(()=>{try{var c=e();o&&Promise.resolve(c).catch(()=>{})}catch(d){c=Promise.reject(d)}var f=()=>c;r=o?.then(f,f)??Promise.resolve(c),o=r;var h=ge,p=s.pending;l&&(s.update_pending_count(1),p||h.increment());const y=(d,u=void 0)=>{o=null,p||h.activate(),u?u!==Kn&&(i.f|=bt,Ut(i,u)):((i.f&bt)!==0&&(i.f^=bt),Ut(i,d)),l&&(s.update_pending_count(-1),p||h.decrement()),Nr()};if(r.then(y,d=>y(null,d||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(c=>{function f(h){function p(){h===r?c(i):f(r)}h.then(p,p)}f(r)})}function cn(e){const t=tn(e);return Qr(t),t}function Ve(e){const t=tn(e);return t.equals=Pr,t}function Ir(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ot(t[n])}}function fa(e){for(var t=e.parent;t!==null;){if((t.f&Oe)===0)return t;t=t.parent}return null}function Jn(e){var t,n=B;ht(fa(e));try{Ir(e),t=rs(e)}finally{ht(n)}return t}function Or(e){var t=Jn(e);if(e.equals(t)||(e.v=t,e.wv=ts()),!Rt){var n=(vt||(e.f&Fe)!==0)&&e.deps!==null?ct:ye;ke(e,n)}}function va(e,t,n){const s=en()?tn:Ve;if(t.length===0){n(e.map(s));return}var r=ge,i=B,o=da(),l=ca();Promise.all(t.map(c=>ua(c))).then(c=>{r?.activate(),o();try{n([...e.map(s),...c])}catch(f){(i.f&At)===0&&Gn(f,i)}r?.deactivate(),Nr()}).catch(c=>{l.error(c)})}function da(){var e=B,t=K,n=ie,s=ge;return function(){ht(e),Xe(t),dn(n),s?.activate()}}function Nr(){ht(null),Xe(null),dn(null)}const Rn=new Set;let ge=null,ur=new Set,pn=[];function Dr(){const e=pn.shift();pn.length>0&&queueMicrotask(Dr),e()}let Bt=[],Xn=null,In=!1;class Mt{current=new Map;#l=new Map;#s=new Set;#e=0;#c=null;#u=!1;#n=[];#a=[];#r=[];#t=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Bt=[];for(const r of t)this.#h(r);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#r,s=this.#t;this.#r=[],this.#t=[],this.#i=[],ge=null,fr(n),fr(s),ge===null?ge=this:Rn.delete(this),this.#c?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#i);for(const r of this.#n)Et(r);for(const r of this.#a)Et(r);this.#n=[],this.#a=[]}#h(t){t.f^=ye;for(var n=t.first;n!==null;){var s=n.f,r=(s&(lt|zt))!==0,i=r&&(s&ye)!==0,o=i||(s&He)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(r)n.f^=ye;else if((s&Yn)!==0)this.#t.push(n);else if((s&ye)===0)if((s&Un)!==0){var l=n.b?.pending?this.#a:this.#n;l.push(n)}else rn(n)&&((n.f&kt)!==0&&this.#i.push(n),Et(n));var c=n.first;if(c!==null){n=c;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}}#o(t){for(const n of t)((n.f&We)!==0?this.#f:this.#v).push(n),ke(n,ye);t.length=0}capture(t,n){this.#l.has(t)||this.#l.set(t,n),this.current.set(t,t.v)}activate(){ge=this}deactivate(){ge=null;for(const t of ur)if(ur.delete(t),t(),ge!==null)break}neuter(){this.#u=!0}flush(){Bt.length>0?ha():this.#d(),ge===this&&(this.#e===0&&Rn.delete(this),this.deactivate())}#d(){if(!this.#u)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#f)ke(t,We),It(t);for(const t of this.#v)ke(t,ct),It(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#c??=Cs()).promise}static ensure(){if(ge===null){const t=ge=new Mt;Rn.add(ge),Mt.enqueue(()=>{ge===t&&t.flush()})}return ge}static enqueue(t){pn.length===0&&queueMicrotask(Dr),pn.unshift(t)}}function ha(){var e=Pt;In=!0;try{var t=0;for(hr(!0);Bt.length>0;){var n=Mt.ensure();if(t++>1e3){var s,r;pa()}n.process(Bt),dt.clear()}}finally{In=!1,hr(e),Xn=null}}function pa(){try{Ds()}catch(e){Gn(e,Xn)}}let yt=null;function fr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var s=e[n++];if((s.f&(At|He))===0&&rn(s)&&(yt=[],Et(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Jr(s):s.fn=null),yt?.length>0)){dt.clear();for(const r of yt)Et(r);yt=[]}}yt=null}}function It(e){for(var t=Xn=e;t.parent!==null;){t=t.parent;var n=t.f;if(In&&t===B&&(n&kt)!==0)return;if((n&(zt|lt))!==0){if((n&ye)===0)return;t.f^=ye}}Bt.push(t)}const dt=new Map;function Yt(e,t){var n={f:0,v:e,reactions:null,equals:jr,rv:0,wv:0};return n}function ut(e,t){const n=Yt(e);return Qr(n),n}function W(e,t=!1,n=!0){const s=Yt(e);return t||(s.equals=Pr),Nt&&n&&ie!==null&&ie.l!==null&&(ie.l.s??=[]).push(s),s}function vr(e,t){return S(e,k(()=>a(e))),t}function S(e,t,n=!1){K!==null&&(!Je||(K.f&cr)!==0)&&en()&&(K.f&(Oe|kt|Un|cr))!==0&&!it?.includes(e)&&Ws();let s=n?Tt(t):t;return Ut(e,s)}function Ut(e,t){if(!e.equals(t)){var n=e.v;Rt?dt.set(e,t):dt.set(e,n),e.v=t;var s=Mt.ensure();s.capture(e,n),(e.f&Oe)!==0&&((e.f&We)!==0&&Jn(e),ke(e,(e.f&Fe)===0?ye:ct)),e.wv=ts(),Lr(e,We),en()&&B!==null&&(B.f&ye)!==0&&(B.f&(lt|zt))===0&&(De===null?ka([e]):De.push(e))}return t}function Cn(e){S(e,e.v+1)}function Lr(e,t){var n=e.reactions;if(n!==null)for(var s=en(),r=n.length,i=0;i<r;i++){var o=n[i],l=o.f;if(!(!s&&o===B)){var c=(l&We)===0;c&&ke(o,t),(l&Oe)!==0?Lr(o,ct):c&&((l&kt)!==0&&yt!==null&&yt.push(o),It(o))}}}function Tt(e){if(typeof e!="object"||e===null||St in e)return e;const t=Bn(e);if(t!==ks&&t!==zs)return e;var n=new Map,s=mn(e),r=ut(0),i=xt,o=l=>{if(xt===i)return l();var c=K,f=xt;Xe(null),_r(i);var h=l();return Xe(c),_r(f),h};return s&&n.set("length",ut(e.length)),new Proxy(e,{defineProperty(l,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Fs();var h=n.get(c);return h===void 0?h=o(()=>{var p=ut(f.value);return n.set(c,p),p}):S(h,f.value,!0),!0},deleteProperty(l,c){var f=n.get(c);if(f===void 0){if(c in l){const h=o(()=>ut(_e));n.set(c,h),Cn(r)}}else S(f,_e),Cn(r);return!0},get(l,c,f){if(c===St)return e;var h=n.get(c),p=c in l;if(h===void 0&&(!p||jt(l,c)?.writable)&&(h=o(()=>{var d=Tt(p?l[c]:_e),u=ut(d);return u}),n.set(c,h)),h!==void 0){var y=a(h);return y===_e?void 0:y}return Reflect.get(l,c,f)},getOwnPropertyDescriptor(l,c){var f=Reflect.getOwnPropertyDescriptor(l,c);if(f&&"value"in f){var h=n.get(c);h&&(f.value=a(h))}else if(f===void 0){var p=n.get(c),y=p?.v;if(p!==void 0&&y!==_e)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return f},has(l,c){if(c===St)return!0;var f=n.get(c),h=f!==void 0&&f.v!==_e||Reflect.has(l,c);if(f!==void 0||B!==null&&(!h||jt(l,c)?.writable)){f===void 0&&(f=o(()=>{var y=h?Tt(l[c]):_e,d=ut(y);return d}),n.set(c,f));var p=a(f);if(p===_e)return!1}return h},set(l,c,f,h){var p=n.get(c),y=c in l;if(s&&c==="length")for(var d=f;d<p.v;d+=1){var u=n.get(d+"");u!==void 0?S(u,_e):d in l&&(u=o(()=>ut(_e)),n.set(d+"",u))}if(p===void 0)(!y||jt(l,c)?.writable)&&(p=o(()=>ut(void 0)),S(p,Tt(f)),n.set(c,p));else{y=p.v!==_e;var g=o(()=>Tt(f));S(p,g)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(h,f),!y){if(s&&typeof c=="string"){var x=n.get("length"),$=Number(c);Number.isInteger($)&&$>=x.v&&S(x,$+1)}Cn(r)}return!0},ownKeys(l){a(r);var c=Reflect.ownKeys(l).filter(p=>{var y=n.get(p);return y===void 0||y.v!==_e});for(var[f,h]of n)h.v!==_e&&!(f in l)&&c.push(f);return c},setPrototypeOf(){Vs()}})}var dr,Fr,Vr,Wr;function _a(){if(dr===void 0){dr=window,Fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Vr=jt(t,"firstChild").get,Wr=jt(t,"nextSibling").get,lr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),lr(n)&&(n.__t=void 0)}}function Ft(e=""){return document.createTextNode(e)}function Ot(e){return Vr.call(e)}function kn(e){return Wr.call(e)}function _(e,t){return Ot(e)}function ft(e,t){{var n=Ot(e);return n instanceof Comment&&n.data===""?kn(n):n}}function w(e,t=1,n=!1){let s=e;for(;t--;)s=kn(s);return s}function ga(e){e.textContent=""}function qr(){return!1}function nn(e){var t=K,n=B;Xe(null),ht(null);try{return e()}finally{Xe(t),ht(n)}}function Hr(e){B===null&&K===null&&Ns(),K!==null&&(K.f&Fe)!==0&&B===null&&Os(),Rt&&Is()}function ma(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ze(e,t,n,s=!0){var r=B;r!==null&&(r.f&He)!==0&&(e|=He);var i={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:e|We,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Et(i),i.f|=wn}catch(c){throw ot(i),c}else t!==null&&It(i);if(s){var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&Qt)===0&&(o=o.first),o!==null&&(o.parent=r,r!==null&&ma(o,r),K!==null&&(K.f&Oe)!==0&&(e&zt)===0)){var l=K;(l.effects??=[]).push(o)}}return i}function ya(e){const t=Ze(yn,null,!1);return ke(t,ye),t.teardown=e,t}function On(e){Hr();var t=B.f,n=!K&&(t&lt)!==0&&(t&wn)===0;if(n){var s=ie;(s.e??=[]).push(e)}else return Br(e)}function Br(e){return Ze(Yn|Cr,e,!1)}function wa(e){return Hr(),Ze(yn|Cr,e,!0)}function ba(e){Mt.ensure();const t=Ze(zt|Qt,e,!0);return(n={})=>new Promise(s=>{n.outro?Qn(t,()=>{ot(t),s(void 0)}):(ot(t),s(void 0))})}function Yr(e){return Ze(Yn,e,!1)}function pe(e,t){var n=ie,s={effect:null,ran:!1,deps:e};n.l.$.push(s),s.effect=Zn(()=>{e(),!s.ran&&(s.ran=!0,k(t))})}function zn(){var e=ie;Zn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&ye)!==0&&ke(n,ct),rn(n)&&Et(n),t.ran=!1}})}function Sa(e){return Ze(Un|Qt,e,!0)}function Zn(e,t=0){return Ze(yn|t,e,!0)}function H(e,t=[],n=[]){va(t,n,s=>{Ze(yn,()=>e(...s.map(a)),!0)})}function Ur(e,t=0){var n=Ze(kt|t,e,!0);return n}function Kt(e,t=!0){return Ze(lt|Qt,e,!0,t)}function Kr(e){var t=e.teardown;if(t!==null){const n=Rt,s=K;pr(!0),Xe(null);try{t.call(null)}finally{pr(n),Xe(s)}}}function Gr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&nn(()=>{r.abort(Kn)});var s=n.next;(n.f&zt)!==0?n.parent=null:ot(n,t),n=s}}function xa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&lt)===0&&ot(t),t=n}}function ot(e,t=!0){var n=!1;(t||(e.f&Ts)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ea(e.nodes_start,e.nodes_end),n=!0),Gr(e,t&&!n),_n(e,0),ke(e,At);var s=e.transitions;if(s!==null)for(const i of s)i.stop();Kr(e);var r=e.parent;r!==null&&r.first!==null&&Jr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ea(e,t){for(;e!==null;){var n=e===t?null:kn(e);e.remove(),e=n}}function Jr(e){var t=e.parent,n=e.prev,s=e.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=n))}function Qn(e,t){var n=[];er(e,n,!0),Xr(n,()=>{ot(e),t&&t()})}function Xr(e,t){var n=e.length;if(n>0){var s=()=>--n||t();for(var r of e)r.out(s)}else t()}function er(e,t,n){if((e.f&He)===0){if(e.f^=He,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var s=e.first;s!==null;){var r=s.next,i=(s.f&bn)!==0||(s.f&lt)!==0;er(s,t,i?n:!1),s=r}}}function tr(e){Zr(e,!0)}function Zr(e,t){if((e.f&He)!==0){e.f^=He,(e.f&ye)===0&&(ke(e,We),It(e));for(var n=e.first;n!==null;){var s=n.next,r=(n.f&bn)!==0||(n.f&lt)!==0;Zr(n,r?t:!1),n=s}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Pt=!1;function hr(e){Pt=e}let Rt=!1;function pr(e){Rt=e}let K=null,Je=!1;function Xe(e){K=e}let B=null;function ht(e){B=e}let it=null;function Qr(e){K!==null&&(it===null?it=[e]:it.push(e))}let Ee=null,Ie=0,De=null;function ka(e){De=e}let es=1,Gt=0,xt=Gt;function _r(e){xt=e}let vt=!1;function ts(){return++es}function rn(e){var t=e.f;if((t&We)!==0)return!0;if((t&ct)!==0){var n=e.deps,s=(t&Fe)!==0;if(n!==null){var r,i,o=(t&vn)!==0,l=s&&B!==null&&!vt,c=n.length;if((o||l)&&(B===null||(B.f&At)===0)){var f=e,h=f.parent;for(r=0;r<c;r++)i=n[r],(o||!i?.reactions?.includes(f))&&(i.reactions??=[]).push(f);o&&(f.f^=vn),l&&h!==null&&(h.f&Fe)===0&&(f.f^=Fe)}for(r=0;r<c;r++)if(i=n[r],rn(i)&&Or(i),i.wv>e.wv)return!0}(!s||B!==null&&!vt)&&ke(e,ye)}return!1}function ns(e,t,n=!0){var s=e.reactions;if(s!==null&&!it?.includes(e))for(var r=0;r<s.length;r++){var i=s[r];(i.f&Oe)!==0?ns(i,t,!1):t===i&&(n?ke(i,We):(i.f&ye)!==0&&ke(i,ct),It(i))}}function rs(e){var t=Ee,n=Ie,s=De,r=K,i=vt,o=it,l=ie,c=Je,f=xt,h=e.f;Ee=null,Ie=0,De=null,vt=(h&Fe)!==0&&(Je||!Pt||K===null),K=(h&(lt|zt))===0?e:null,it=null,dn(e.ctx),Je=!1,xt=++Gt,e.ac!==null&&(nn(()=>{e.ac.abort(Kn)}),e.ac=null);try{e.f|=Mn;var p=e.fn,y=p(),d=e.deps;if(Ee!==null){var u;if(_n(e,Ie),d!==null&&Ie>0)for(d.length=Ie+Ee.length,u=0;u<Ee.length;u++)d[Ie+u]=Ee[u];else e.deps=d=Ee;if(!vt||(h&Oe)!==0&&e.reactions!==null)for(u=Ie;u<d.length;u++)(d[u].reactions??=[]).push(e)}else d!==null&&Ie<d.length&&(_n(e,Ie),d.length=Ie);if(en()&&De!==null&&!Je&&d!==null&&(e.f&(Oe|ct|We))===0)for(u=0;u<De.length;u++)ns(De[u],e);return r!==null&&r!==e&&(Gt++,De!==null&&(s===null?s=De:s.push(...De))),(e.f&bt)!==0&&(e.f^=bt),y}catch(g){return oa(g)}finally{e.f^=Mn,Ee=t,Ie=n,De=s,K=r,vt=i,it=o,dn(l),Je=c,xt=f}}function za(e,t){let n=t.reactions;if(n!==null){var s=Es.call(n,e);if(s!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[s]=n[r],n.pop())}}n===null&&(t.f&Oe)!==0&&(Ee===null||!Ee.includes(t))&&(ke(t,ct),(t.f&(Fe|vn))===0&&(t.f^=vn),Ir(t),_n(t,0))}function _n(e,t){var n=e.deps;if(n!==null)for(var s=t;s<n.length;s++)za(e,n[s])}function Et(e){var t=e.f;if((t&At)===0){ke(e,ye);var n=B,s=Pt;B=e,Pt=!0;try{(t&kt)!==0?xa(e):Gr(e),Kr(e);var r=rs(e);e.teardown=typeof r=="function"?r:null,e.wv=es;var i;zr&&sa&&(e.f&We)!==0&&e.deps}finally{Pt=s,B=n}}}function a(e){var t=e.f,n=(t&Oe)!==0;if(K!==null&&!Je){var s=B!==null&&(B.f&At)!==0;if(!s&&!it?.includes(e)){var r=K.deps;if((K.f&Mn)!==0)e.rv<Gt&&(e.rv=Gt,Ee===null&&r!==null&&r[Ie]===e?Ie++:Ee===null?Ee=[e]:(!vt||!Ee.includes(e))&&Ee.push(e));else{(K.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[K]:i.includes(K)||i.push(K)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&Fe)===0&&(o.f^=Fe)}if(Rt){if(dt.has(e))return dt.get(e);if(n){o=e;var c=o.v;return((o.f&ye)===0&&o.reactions!==null||ss(o))&&(c=Jn(o)),dt.set(o,c),c}}else n&&(o=e,rn(o)&&Or(o));if((e.f&bt)!==0)throw e.v;return e.v}function ss(e){if(e.v===_e)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(dt.has(t)||(t.f&Oe)!==0&&ss(t))return!0;return!1}function k(e){var t=Je;try{return Je=!0,e()}finally{Je=t}}const Aa=-7169;function ke(e,t){e.f=e.f&Aa|t}function F(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(St in e)Nn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&St in n&&Nn(n)}}}function Nn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Nn(e[s],t)}catch{}const n=Bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const s=Ar(n);for(let r in s){const i=s[r].get;if(i)try{i.call(e)}catch{}}}}}const Ra=["touchstart","touchmove"];function Ca(e){return Ra.includes(e)}const Ta=new Set,gr=new Set;function $a(e,t,n,s={}){function r(i){if(s.capture||Ht.call(t,i),!i.cancelBubble)return nn(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?En(()=>{t.addEventListener(e,r,s)}):t.addEventListener(e,r,s),r}function ve(e,t,n,s,r){var i={capture:s,passive:r},o=$a(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ya(()=>{t.removeEventListener(e,o,i)})}let mr=null;function Ht(e){var t=this,n=t.ownerDocument,s=e.type,r=e.composedPath?.()||[],i=r[0]||e.target;mr=e;var o=0,l=mr===e&&e.__root;if(l){var c=r.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=r.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(i=r[o]||e.target,i!==t){jn(e,"currentTarget",{configurable:!0,get(){return i||n}});var h=K,p=B;Xe(null),ht(null);try{for(var y,d=[];i!==null;){var u=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+s];if(g!=null&&(!i.disabled||e.target===i))if(mn(g)){var[m,...x]=g;m.apply(i,[e,...x])}else g.call(i,e)}catch($){y?d.push($):y=$}if(e.cancelBubble||u===t||u===null)break;i=u}if(y){for(let $ of d)queueMicrotask(()=>{throw $});throw y}}finally{e.__root=t,delete e.currentTarget,Xe(h),ht(p)}}}function as(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jt(e,t){var n=B;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Qs)!==0,s=(t&ea)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=as(i?e:"<!>"+e),n||(r=Ot(r)));var o=s||Fr?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=Ot(o),c=o.lastChild;Jt(l,c)}else Jt(o,o);return o}}function ja(e,t,n="svg"){var s=!e.startsWith("<!>"),r=`<${n}>${s?e:"<!>"+e}</${n}>`,i;return()=>{if(!i){var o=as(r),l=Ot(o);i=Ot(l)}var c=i.cloneNode(!0);return Jt(c,c),c}}function sn(e,t){return ja(e,t,"svg")}function Tn(e=""){{var t=Ft(e+"");return Jt(t,t),t}}function Xt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ft();return e.append(t,n),Jt(t,n),e}function R(e,t){e!==null&&e.before(t)}let Dn=!0;function I(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Pa(e,t){return Ma(e,t)}const Ct=new Map;function Ma(e,{target:t,anchor:n,props:s={},events:r,context:i,intro:o=!0}){_a();var l=new Set,c=p=>{for(var y=0;y<p.length;y++){var d=p[y];if(!l.has(d)){l.add(d);var u=Ca(d);t.addEventListener(d,Ht,{passive:u});var g=Ct.get(d);g===void 0?(document.addEventListener(d,Ht,{passive:u}),Ct.set(d,1)):Ct.set(d,g+1)}}};c(Hn(Ta)),gr.add(c);var f=void 0,h=ba(()=>{var p=n??t.appendChild(Ft());return Kt(()=>{if(i){Dt({});var y=ie;y.c=i}r&&(s.$$events=r),Dn=o,f=e(p,s)||{},Dn=!0,i&&Lt()}),()=>{for(var y of l){t.removeEventListener(y,Ht);var d=Ct.get(y);--d===0?(document.removeEventListener(y,Ht),Ct.delete(y)):Ct.set(y,d)}gr.delete(c),p!==n&&p.parentNode?.removeChild(p)}});return Ia.set(f,h),f}let Ia=new WeakMap;function Y(e,t,n=!1){var s=e,r=null,i=null,o=_e,l=n?bn:0,c=!1;const f=(d,u=!0)=>{c=!0,y(u,d)};var h=null;function p(){h!==null&&(h.lastChild.remove(),s.before(h),h=null);var d=o?r:i,u=o?i:r;d&&tr(d),u&&Qn(u,()=>{o?i=null:r=null})}const y=(d,u)=>{if(o!==(o=d)){var g=qr(),m=s;if(g&&(h=document.createDocumentFragment(),h.append(m=Ft())),o?r??=u&&Kt(()=>u(m)):i??=u&&Kt(()=>u(m)),g){var x=ge,$=o?r:i,j=o?i:r;$&&x.skipped_effects.delete($),j&&x.skipped_effects.add(j),x.add_callback(p)}else p()}};Ur(()=>{c=!1,t(f),c||y(null,null)},l)}function me(e,t){return t}function Oa(e,t,n){for(var s=e.items,r=[],i=t.length,o=0;o<i;o++)er(t[o].e,r,!0);var l=i>0&&r.length===0&&n!==null;if(l){var c=n.parentNode;ga(c),c.append(n),s.clear(),Ge(e,t[0].prev,t[i-1].next)}Xr(r,()=>{for(var f=0;f<i;f++){var h=t[f];l||(s.delete(h.k),Ge(e,h.prev,h.next)),ot(h.e,!l)}})}function de(e,t,n,s,r,i=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&$r)!==0;if(c){var f=e;o=f.appendChild(Ft())}var h=null,p=!1,y=new Map,d=Ve(()=>{var x=n();return mn(x)?x:x==null?[]:Hn(x)}),u,g;function m(){Na(g,u,l,y,o,r,t,s,n),i!==null&&(u.length===0?h?tr(h):h=Kt(()=>i(o)):h!==null&&Qn(h,()=>{h=null}))}Ur(()=>{g??=B,u=a(d);var x=u.length;if(!(p&&x===0)){p=x===0;var $,j,z,M;if(qr()){var A=new Set,E=ge;for(j=0;j<x;j+=1){z=u[j],M=s(z,j);var Z=l.items.get(M)??y.get(M);Z?(t&(Sn|xn))!==0&&is(Z,z,j,t):($=os(null,l,null,null,z,M,j,r,t,n,!0),y.set(M,$)),A.add(M)}for(const[ue,Ce]of l.items)A.has(ue)||E.skipped_effects.add(Ce.e);E.add_callback(m)}else m();a(d)}})}function Na(e,t,n,s,r,i,o,l,c){var f=(o&qs)!==0,h=(o&(Sn|xn))!==0,p=t.length,y=n.items,d=n.first,u=d,g,m=null,x,$=[],j=[],z,M,A,E;if(f)for(E=0;E<p;E+=1)z=t[E],M=l(z,E),A=y.get(M),A!==void 0&&(A.a?.measure(),(x??=new Set).add(A));for(E=0;E<p;E+=1){if(z=t[E],M=l(z,E),A=y.get(M),A===void 0){var Z=s.get(M);if(Z!==void 0){s.delete(M),y.set(M,Z);var ue=m?m.next:u;Ge(n,m,Z),Ge(n,Z,ue),$n(Z,ue,r),m=Z}else{var Ce=u?u.e.nodes_start:r;m=os(Ce,n,m,m===null?n.first:m.next,z,M,E,i,o,c)}y.set(M,m),$=[],j=[],u=m.next;continue}if(h&&is(A,z,E,o),(A.e.f&He)!==0&&(tr(A.e),f&&(A.a?.unfix(),(x??=new Set).delete(A))),A!==u){if(g!==void 0&&g.has(A)){if($.length<j.length){var P=j[0],v;m=P.prev;var b=$[0],C=$[$.length-1];for(v=0;v<$.length;v+=1)$n($[v],P,r);for(v=0;v<j.length;v+=1)g.delete(j[v]);Ge(n,b.prev,C.next),Ge(n,m,b),Ge(n,C,P),u=P,m=C,E-=1,$=[],j=[]}else g.delete(A),$n(A,u,r),Ge(n,A.prev,A.next),Ge(n,A,m===null?n.first:m.next),Ge(n,m,A),m=A;continue}for($=[],j=[];u!==null&&u.k!==M;)(u.e.f&He)===0&&(g??=new Set).add(u),j.push(u),u=u.next;if(u===null)continue;A=u}$.push(A),m=A,u=A.next}if(u!==null||g!==void 0){for(var D=g===void 0?[]:Hn(g);u!==null;)(u.e.f&He)===0&&D.push(u),u=u.next;var q=D.length;if(q>0){var te=(o&$r)!==0&&p===0?r:null;if(f){for(E=0;E<q;E+=1)D[E].a?.measure();for(E=0;E<q;E+=1)D[E].a?.fix()}Oa(n,D,te)}}f&&En(()=>{if(x!==void 0)for(A of x)A.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var re of s.values())ot(re.e);s.clear()}function is(e,t,n,s){(s&Sn)!==0&&Ut(e.v,t),(s&xn)!==0?Ut(e.i,n):e.i=n}function os(e,t,n,s,r,i,o,l,c,f,h){var p=(c&Sn)!==0,y=(c&Hs)===0,d=p?y?W(r,!1,!1):Yt(r):r,u=(c&xn)===0?o:Yt(o),g={i:u,v:d,k:i,a:null,e:null,prev:n,next:s};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Ft())}return g.e=Kt(()=>l(e,d,u,f),na),g.e.prev=n&&n.e,g.e.next=s&&s.e,n===null?h||(t.first=g):(n.next=g,n.e.next=g.e),s!==null&&(s.prev=g,s.e.prev=g.e),g}finally{}}function $n(e,t,n){for(var s=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==s;){var o=kn(i);r.before(i),i=o}}function Ge(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const yr=[...` 	
\r\f \v\uFEFF`];function Da(e,t,n){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),n){for(var r in n)if(n[r])s=s?s+" "+r:r;else if(s.length)for(var i=r.length,o=0;(o=s.indexOf(r,o))>=0;){var l=o+i;(o===0||yr.includes(s[o-1]))&&(l===s.length||yr.includes(s[l]))?s=(o===0?"":s.substring(0,o))+s.substring(l+1):o=l}}return s===""?null:s}function La(e,t){return e==null?null:String(e)}function Le(e,t,n,s,r,i){var o=e.__className;if(o!==n||o===void 0){var l=Da(n,s,i);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(i&&r!==i)for(var c in i){var f=!!i[c];(r==null||f!==!!r[c])&&e.classList.toggle(c,f)}return i}function Zt(e,t,n,s){var r=e.__style;if(r!==t){var i=La(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return s}const Fa=Symbol("is custom element"),Va=Symbol("is html");function Wa(e,t){var n=ls(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function V(e,t,n,s){var r=ls(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[js]=n),n==null?e.removeAttribute(t):typeof n!="string"&&qa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ls(e){return e.__attributes??={[Fa]:e.nodeName.includes("-"),[Va]:e.namespaceURI===ta}}var wr=new Map;function qa(e){var t=e.getAttribute("is")||e.nodeName,n=wr.get(t);if(n)return n;wr.set(t,n=[]);for(var s,r=e,i=Element.prototype;i!==r;){s=Ar(r);for(var o in s)s[o].set&&n.push(o);r=Bn(r)}return n}const Ha=()=>performance.now(),at={tick:e=>requestAnimationFrame(e),now:()=>Ha(),tasks:new Set};function cs(){const e=at.now();at.tasks.forEach(t=>{t.c(e)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(cs)}function Ba(e){let t;return at.tasks.size===0&&at.tick(cs),{promise:new Promise(n=>{at.tasks.add(t={c:e,f:n})}),abort(){at.tasks.delete(t)}}}function un(e,t){nn(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ya(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function br(e){const t={},n=e.split(";");for(const s of n){const[r,i]=s.split(":");if(!r||i===void 0)break;const o=Ya(r.trim());t[o]=i.trim()}return t}const Ua=e=>e;function Ln(e,t,n,s){var r=(e&Js)!==0,i=(e&Xs)!==0,o=r&&i,l=(e&Zs)!==0,c=o?"both":r?"in":"out",f,h=t.inert,p=t.style.overflow,y,d;function u(){return nn(()=>f??=n()(t,s?.()??{},{direction:c}))}var g={is_global:l,in(){if(t.inert=h,!r){d?.abort(),d?.reset?.();return}i||y?.abort(),un(t,"introstart"),y=Fn(t,u(),d,1,()=>{un(t,"introend"),y?.abort(),y=f=void 0,t.style.overflow=p})},out(j){if(!i){j?.(),f=void 0;return}t.inert=!0,un(t,"outrostart"),d=Fn(t,u(),y,0,()=>{un(t,"outroend"),j?.()})},stop:()=>{y?.abort(),d?.abort()}},m=B;if((m.transitions??=[]).push(g),r&&Dn){var x=l;if(!x){for(var $=m.parent;$&&($.f&bn)!==0;)for(;($=$.parent)&&($.f&kt)===0;);x=!$||($.f&wn)!==0}x&&Yr(()=>{k(()=>g.in())})}}function Fn(e,t,n,s,r){var i=s===1;if(As(t)){var o,l=!1;return En(()=>{if(!l){var m=t({direction:i?"in":"out"});o=Fn(e,m,n,s,r)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!t?.duration)return r(),{abort:qt,deactivate:qt,reset:qt,t:()=>s};const{delay:c=0,css:f,tick:h,easing:p=Ua}=t;var y=[];if(i&&n===void 0&&(h&&h(0,1),f)){var d=br(f(0,1));y.push(d,d)}var u=()=>1-s,g=e.animate(y,{duration:c,fill:"forwards"});return g.onfinish=()=>{g.cancel();var m=n?.t()??1-s;n?.abort();var x=s-m,$=t.duration*Math.abs(x),j=[];if($>0){var z=!1;if(f)for(var M=Math.ceil($/16.666666666666668),A=0;A<=M;A+=1){var E=m+x*p(A/M),Z=br(f(E,1-E));j.push(Z),z||=Z.overflow==="hidden"}z&&(e.style.overflow="hidden"),u=()=>{var ue=g.currentTime;return m+x*p(ue/$)},h&&Ba(()=>{if(g.playState!=="running")return!1;var ue=u();return h(ue,1-ue),!0})}g=e.animate(j,{duration:$,fill:"forwards"}),g.onfinish=()=>{u=()=>s,h?.(s,1-s),r()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=qt)},deactivate:()=>{r=qt},reset:()=>{s===0&&h?.(1,0)},t:()=>u()}}function Sr(e,t){return e===t||e?.[St]===t}function nr(e={},t,n,s){return Yr(()=>{var r,i;return Zn(()=>{r=i,i=[],k(()=>{e!==n(...i)&&(t(e,...i),r&&Sr(n(...r),e)&&t(null,...r))})}),()=>{En(()=>{i&&Sr(n(...i),e)&&t(null,...i)})}}),e}function an(e=!1){const t=ie,n=t.l.u;if(!n)return;let s=()=>F(t.s);if(e){let r=0,i={};const o=tn(()=>{let l=!1;const c=t.s;for(const f in c)c[f]!==i[f]&&(i[f]=c[f],l=!0);return l&&r++,r});s=()=>a(o)}n.b.length&&wa(()=>{xr(t,s),Pn(n.b)}),On(()=>{const r=k(()=>n.m.map(Rs));return()=>{for(const i of r)typeof i=="function"&&i()}}),n.a.length&&On(()=>{xr(t,s),Pn(n.a)})}function xr(e,t){if(e.l.s)for(const n of e.l.s)a(n);t()}let fn=!1;function Ka(e){var t=fn;try{return fn=!1,[e(),fn]}finally{fn=t}}function he(e,t,n,s){var r=!Nt||(n&Ys)!==0,i=(n&Ks)!==0,o=(n&Gs)!==0,l=s,c=!0,f=()=>(c&&(c=!1,l=o?k(s):s),l),h;if(i){var p=St in e||$s in e;h=jt(e,t)?.set??(p&&t in e?j=>e[t]=j:void 0)}var y,d=!1;i?[y,d]=Ka(()=>e[t]):y=e[t],y===void 0&&s!==void 0&&(y=f(),h&&(r&&Ls(),h(y)));var u;if(r?u=()=>{var j=e[t];return j===void 0?f():(c=!0,j)}:u=()=>{var j=e[t];return j!==void 0&&(l=void 0),j===void 0?l:j},r&&(n&Us)===0)return u;if(h){var g=e.$$legacy;return(function(j,z){return arguments.length>0?((!r||!z||g||d)&&h(z?u():j),j):u()})}var m=!1,x=((n&Bs)!==0?tn:Ve)(()=>(m=!1,u()));i&&a(x);var $=B;return(function(j,z){if(arguments.length>0){const M=z?a(x):r&&i?Tt(j):j;return S(x,M),m=!0,l!==void 0&&(l=M),j}return Rt&&m||($.f&At)!==0?x.v:a(x)})}function rr(e){ie===null&&Tr(),Nt&&ie.l!==null?Xa(ie).m.push(e):On(()=>{const t=k(e);if(typeof t=="function")return t})}function Ga(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}function Ja(){const e=ie;return e===null&&Tr(),(t,n,s)=>{const r=e.s.$$events?.[t];if(r){const i=mn(r)?r.slice():[r],o=Ga(t,n,s);for(const l of i)l.call(e.x,o);return!o.defaultPrevented}return!0}}function Xa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Za="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Za);aa();function Qa(e){const t=[];if(Math.abs(e.bright-.5)>=.1&&t.push(e.bright-.5>0?"明るい":"暗い"),Math.abs(e.heavy-.5)>=.1&&t.push(e.heavy-.5>0?"重厚で":"軽やかで"),Math.abs(e.hardness_softness-.5)>=.1&&t.push(e.hardness_softness-.5>0?"硬い":"柔らかい"),Math.abs(e.sharp-.5)>=.1&&t.push(e.sharp-.5>0?"鋭い":"鈍い"),Math.abs(e.size-.5)>=.1&&t.push(e.size-.5>0?"大きい":"小さい"),t.length===0)return"バランスの取れた中性的な印象です";if(t.length===1)return`${t[0]}印象です`;{const s=t.pop();return`${t.join("、")}、${s}印象です`}}function ei(e,t,n){return Qa(e)}function $t(e){const t={あ:"a",い:"i",う:"u",え:"e",お:"o",ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",さ:"sa",し:"si",す:"su",せ:"se",そ:"so",サ:"sa",シ:"si",ス:"su",セ:"se",ソ:"so",ざ:"za",じ:"zi",ず:"zu",ぜ:"ze",ぞ:"zo",ザ:"za",ジ:"zi",ズ:"zu",ゼ:"ze",ゾ:"zo",た:"ta",ち:"ti",つ:"tu",て:"te",と:"to",タ:"ta",チ:"ti",ツ:"tu",テ:"te",ト:"to",だ:"da",ぢ:"di",づ:"du",で:"de",ど:"do",ダ:"da",ヂ:"di",ヅ:"du",デ:"de",ド:"do",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",は:"ha",ひ:"hi",ふ:"hu",へ:"he",ほ:"ho",ハ:"ha",ヒ:"hi",フ:"hu",ヘ:"he",ホ:"ho",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",や:"ya",ゆ:"yu",よ:"yo",ヤ:"ya",ユ:"yu",ヨ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",ワ:"wa",ヰ:"wi",ヱ:"we",ヲ:"wo",ン:"n",きゃ:"kya",きゅ:"kyu",きょ:"kyo",キャ:"kya",キュ:"kyu",キョ:"kyo",しゃ:"sya",しゅ:"syu",しょ:"syo",シャ:"sya",シュ:"syu",ショ:"syo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",チャ:"tya",チュ:"tyu",チョ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",ミャ:"mya",ミュ:"myu",ミョ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",リャ:"rya",リュ:"ryu",リョ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ジャ:"zya",ジュ:"zyu",ジョ:"zyo",びゃ:"bya",びゅ:"byu",びょ:"byo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo",ゃ:"ya",ゅ:"yu",ょ:"yo",ャ:"ya",ュ:"yu",ョ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ァ:"a",ィ:"i",ゥ:"u",ェ:"e",ォ:"o",っ:"tu",ッ:"tu",ー:"ー"};let n="";for(let s=0;s<e.length;s++){if(s<e.length-1){const i=e.slice(s,s+2);if(t[i]){n+=t[i],s++;continue}}const r=e[s];t[r]?n+=t[r]:n+=r}return n}function ti(e,t){const n={consonants:{},vowels:{},special:{}};let s=$t(e),r="";for(let i=0;i<e.length;i++)if(e[i]==="ー"&&i>0){const l=$t(e[i-1]).slice(-1);"aiueo".includes(l)?r+=l:r+=$t(e[i])}else r+=$t(e[i]);s=r,s=s.replace(/tu(.)/g,"$1$1");for(const i of e)t.phoneme.special[i]&&(n.special[i]||(n.special[i]=[]),n.special[i].push(...t.phoneme.special[i]));for(const i of s)t.phoneme.consonants[i]?(n.consonants[i]||(n.consonants[i]=[]),n.consonants[i].push(...t.phoneme.consonants[i])):t.phoneme.vowels[i]&&(n.vowels[i]||(n.vowels[i]=[]),n.vowels[i].push(...t.phoneme.vowels[i]));return n}class sr{constructor(t){this.capacity=t,this.cache=new Map}get(t){if(this.cache.has(t)){const n=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,n),n}}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.capacity){const s=this.cache.keys().next().value;s!==void 0&&this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}const Vn=new sr(1e3),Wn=new sr(500),qn=new sr(2e3);function ar(e){const t=qn.get(e);if(t!==void 0)return t;let n=e.trim();return n=n.replace(/[Ａ-Ｚａ-ｚ０-９]/g,s=>String.fromCharCode(s.charCodeAt(0)-65248)),n=n.replace(/[^\u3041-\u3096\u30A1-\u30F6\u30FC\u3063\u3083\u3085\u3087\u308E\u30C1\u30E3\u30E5\u30E7\u30A1\u30A3\u30A5\u30A7\u30A9]/g,""),qn.set(e,n),n}function ir(e,t){const n=`${e}:${JSON.stringify(t).slice(0,100)}`,s=Vn.get(n);if(s!==void 0)return s;const r=ti(e,t);return Vn.set(n,r),r}function us(e,t){const n=`${e}:${JSON.stringify(t.scoring||{}).slice(0,100)}`,s=Wn.get(n);if(s!==void 0)return s;const r=ai(e,t);return Wn.set(n,r),r}function fs(){return{phoneme:Vn.size(),scoring:Wn.size(),normalized:qn.size()}}function ni(e,t){const n=performance.now(),s=e(),r=performance.now();return r-n>100&&console.warn(`Performance warning: ${t} took ${(r-n).toFixed(2)}ms`),s}function ri(e){if(!e||typeof e!="object")return{isValid:!1,error:"ルールファイルの形式が無効です。"};const t=["phoneme","structure","rhyme","start"];for(const n of t)if(!e[n])return{isValid:!1,error:`ルールファイルに必須セクション '${n}' がありません。`};return!e.phoneme.consonants||!e.phoneme.vowels?{isValid:!1,error:"ルールファイルの音素セクションが不完全です。"}:e.scoring&&(!e.scoring.phoneme||!e.scoring.structure)?{isValid:!1,error:"スコアリングルールの構造が無効です。"}:{isValid:!0}}function st(e,t){if(typeof console<"u"){const s={timestamp:new Date().toISOString(),eventType:e,data:t,cacheStats:fs()};console.log(`[Analysis] ${e}:`,s)}}function si(){const e={};let t="healthy";const n=performance.now(),s=performance.now()-n;if(e.responseTime=`${s.toFixed(2)}ms`,s>50&&(t="warning",e.performance="Slow response detected"),typeof performance<"u"&&"memory"in performance){const i=performance.memory;e.memory={used:`${(i.usedJSHeapSize/1024/1024).toFixed(2)}MB`,total:`${(i.totalJSHeapSize/1024/1024).toFixed(2)}MB`,limit:`${(i.jsHeapSizeLimit/1024/1024).toFixed(2)}MB`},i.usedJSHeapSize/i.jsHeapSizeLimit>.8&&(t="warning",e.memoryWarning="High memory usage detected")}const r=fs();return e.cache=r,(r.phoneme>800||r.scoring>400)&&(e.cacheWarning="Cache approaching capacity"),{status:t,details:e}}function ai(e,t){const n=performance.now();if(!t.scoring)throw new Error("Scoring rules not found");const s=ar(e),r=ir(s,t),i=["hardness_softness","brightness","heaviness","sharpness","size"],o=[];for(const u of i){const g=ii(s,r,t,u);o.push(g)}const l=o.reduce((u,g)=>u+g.score,0),c=o.reduce((u,g)=>u+g.maxScore,0),f=li(l,c),h=o.reduce((u,g)=>u+g.confidence,0)/o.length,p={};o.forEach(u=>{p[u.category]=u.score/u.maxScore});const d=performance.now()-n;return d>500&&console.warn(`Scoring calculation took ${d}ms, exceeding 500ms target`),{totalScore:l,maxPossibleScore:c,normalizedScore:f,categoryScores:o,confidence:h,breakdown:p}}function ii(e,t,n,s){if(!n.scoring)throw new Error("Scoring rules not found");let r=0,i=0,o=0,l=0;const c=[];for(const[p,y]of Object.entries(t.consonants)){const d=n.scoring.phoneme.consonants[p]?.[s];if(d){const u=y.length;r+=d.score*d.weight*u,i+=d.weight*u,o+=d.weight*u,l+=d.weight*u,c.push(`子音-${p}`)}}for(const[p,y]of Object.entries(t.vowels)){const d=n.scoring.phoneme.vowels[p]?.[s];if(d){const u=y.length;r+=d.score*d.weight*u,i+=d.weight*u,o+=d.weight*u,l+=d.weight*u,c.push(`母音-${p}`)}}const f=oi(e,n,s);r+=f.score,i+=f.maxScore,o+=f.confidence,l+=f.weight,c.push(...f.appliedRules);const h=l>0?o/l:0;return{category:s,score:r,maxScore:Math.max(i,1),confidence:Math.min(h,1),appliedRules:c}}function oi(e,t,n){if(!t.scoring?.structure)return{score:0,maxScore:0,confidence:0,weight:0,appliedRules:[]};let s=0,r=0,i=0,o=0;const l=[],c=/(.)\1/.test(e);if(/(.)\1\1/.test(e)){const m=t.scoring.structure.repetition.triple_or_more[n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push("repetition-triple"))}else if(c){const m=t.scoring.structure.repetition.double[n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push("repetition-double"))}const h=$t(e),p=h[h.length-1],y=e.slice(-1);if(y==="っ"){const m=t.scoring.structure.ending.っ[n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push("ending-っ"))}else if(y==="ん"){const m=t.scoring.structure.ending.n[n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push("ending-n"))}else if("aiueo".includes(p))if(t.scoring.structure.ending[p]){const m=t.scoring.structure.ending[p][n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push(`ending-${p}`))}else{const m=t.scoring.structure.ending.vowel[n];m&&(s+=m.score*m.weight,r+=m.weight,i+=m.weight,o+=m.weight,l.push("ending-vowel"))}let d;e.length<=2?d="short":e.length<=4?d="medium":d="long";const u=t.scoring.structure.length[d]?.[n];u&&(s+=u.score*u.weight,r+=u.weight,i+=u.weight,o+=u.weight,l.push(`長さ-${d}`));const g=o>0?i/o:0;return{score:s,maxScore:r,confidence:g,weight:o,appliedRules:l}}function li(e,t){return t===0?0:Math.max(0,Math.min(1,e/t))}function vs(e,t,n=!1){return ni(()=>{const s=ar(e),r={start:[],end:[],length:[],repetition:[]};if(!s)return{summary:"分析対象のテキストがありません。",details:r};const i=ir(s,t),o=$t(s),l=o[0],c=s.slice(-1);if(t.start.consonants[l]){r.start.push(...t.start.consonants[l]);const g=i.consonants[l];g&&g.length>0&&r.start.push(...g)}if(t.start.vowels[l]){r.start.push(...t.start.vowels[l]);const g=i.vowels[l];g&&g.length>0&&r.start.push(...g)}const f=o[o.length-1];c==="っ"?t.structure.ending.っ&&r.end.push(...t.structure.ending.っ):c==="ん"?t.structure.ending.n&&r.end.push(...t.structure.ending.n):"aiueo".includes(f)&&t.structure.ending[f]&&r.end.push(...t.structure.ending[f]),t.structure.ending[c]&&r.end.push(...t.structure.ending[c]),s.length<=2?r.length.push(...t.structure.length.short):s.length<=4?r.length.push(...t.structure.length.medium):r.length.push(...t.structure.length.long),new Set(s.split("")).size<=s.length/2&&r.repetition.push(...t.structure.repetition.double),Object.keys(r).forEach(g=>{r[g]=[...new Set(r[g])]});const p=[],y={start:"開始音",end:"終了音",length:"長さ",repetition:"繰り返し"};for(const[g,m]of Object.entries(r))if(m.length>0){const x=m.slice(0,2).join("、"),$=y[g]||g;p.push(`${$}は${x}の印象があります`)}const u={summary:p.join(`。
`),details:r};if(n&&"scoring"in t&&t.scoring)try{const g=us(s,t),m=g.confidence;return{...u,scoring:g,confidence:m,metadata:{analysisVersion:"2.0.0",timestamp:new Date().toISOString(),rulesVersion:"1.0.0"}}}catch(g){return console.warn("Scoring calculation failed:",g),u}return u},`analyzeWord(${e})`)}function ci(e,t){const n=ar(e);if(!n)return{summary:"分析対象のテキストがありません。",details:{},phonemeAnalysis:{consonants:{},vowels:{},special:{}},impressionScores:{bright:0,heavy:0,hardness_softness:0,sharp:0,size:0},confidence:0};const s=ir(n,t);let r={bright:0,heavy:0,hardness_softness:0,sharp:0,size:0},i=0;try{const c=us(n,t),f={brightness:"bright",heaviness:"heavy",hardness_softness:"hardness_softness",sharpness:"sharp",size:"size"};for(const h of c.categoryScores){const p=h.score/h.maxScore,y=f[h.category];y&&(r[y]=p)}i=c.confidence}catch(c){throw console.error("Scoring calculation failed:",c),new Error("スコアリング計算に失敗しました。")}const o=vs(n,t);return{summary:ei(r),details:o.details,phonemeAnalysis:s,impressionScores:r,confidence:i}}var ui=N('<button type="button" class="clear-button svelte-n6wpaw" aria-label="入力をクリア">×</button>'),fi=N('<div class="validation-message svelte-n6wpaw">ひらがな、カタカナ以外が入力されています</div>'),vi=N('<button type="button" class="sample-button svelte-n6wpaw"> </button>'),di=N('<div class="text-input-container svelte-n6wpaw"><div class="input-wrapper svelte-n6wpaw"><input type="text" autocomplete="off" spellcheck="false"/> <!></div> <div class="input-meta svelte-n6wpaw"><div> </div> <!></div> <div class="sample-texts svelte-n6wpaw"><span class="sample-label svelte-n6wpaw">サンプル:</span> <!></div> <div class="input-guide svelte-n6wpaw"><details class="svelte-n6wpaw"><summary class="svelte-n6wpaw">入力について</summary> <ul class="svelte-n6wpaw"><li class="svelte-n6wpaw">すべての文字が入力可能です</li> <li class="svelte-n6wpaw"> </li> <li class="svelte-n6wpaw">入力中は自動的に分析が実行されます</li></ul></details></div></div>');function hi(e,t){Dt(t,!1);const n=W(),s=W(),r=W(),i=W();let o=he(t,"value",12,""),l=he(t,"placeholder",8,"テキストを入力してください"),c=he(t,"debounceMs",8,300),f=he(t,"maxLength",8,50),h=he(t,"onInput",8,()=>{}),p=he(t,"onAnalyze",8,()=>{});Ja();let y,d=W(),u="";function g(O){return O.substring(0,f())}function m(O){const G=O.target,se=G.value,le=g(se);se!==le&&(G.value=le),o(le),h()(o()),clearTimeout(y),o().trim()&&o()!==u&&(y=setTimeout(()=>{u=o(),p()(o())},c()))}function x(O){O.preventDefault();const G=O.clipboardData?.getData("text")||"",se=g(G),le=a(d).selectionStart||0,Se=a(d).selectionEnd||0,oe=o().substring(0,le)+se+o().substring(Se);o(g(oe)),h()(o()),clearTimeout(y),o().trim()&&o()!==u&&(y=setTimeout(()=>{u=o(),p()(o())},c()))}function $(){o(""),u="",clearTimeout(y),a(d)&&vr(d,a(d).value=""),a(d)?.focus(),h()(o())}const j=["さくら","つばめ","かぜ","ひかり","みどり","そら"];function z(O){o(O),a(d)&&vr(d,a(d).value=O),h()(o()),clearTimeout(y),o()!==u&&(u=o(),p()(o()))}pe(()=>F(o()),()=>{S(n,o().length>0)}),pe(()=>F(o()),()=>{S(s,o().length>0&&!/^[ぁ-んァ-ヴーゃゅょっ\s]*$/.test(o()))}),pe(()=>F(o()),()=>{S(r,o().length)}),pe(()=>(F(f()),a(r)),()=>{S(i,f()-a(r))}),zn(),an();var M=di(),A=_(M),E=_(A);let Z;nr(E,O=>S(d,O),()=>a(d));var ue=w(E,2);{var Ce=O=>{var G=ui();ve("click",G,$),R(O,G)};Y(ue,O=>{o()&&O(Ce)})}var P=w(A,2),v=_(P);let b;var C=_(v),D=w(v,2);{var q=O=>{var G=fi();R(O,G)};Y(D,O=>{a(s)&&O(q)})}var te=w(P,2),re=w(_(te),2);de(re,1,()=>j,me,(O,G)=>{var se=vi(),le=_(se);H(()=>I(le,a(G))),ve("click",se,()=>z(a(G))),R(O,se)});var T=w(te,2),fe=_(T),ze=w(_(fe),2),we=w(_(ze),2),ne=_(we);H((O,G)=>{Wa(E,o()),Z=Le(E,1,"text-input svelte-n6wpaw",null,Z,O),V(E,"placeholder",l()),V(E,"maxlength",f()),b=Le(v,1,"char-counter svelte-n6wpaw",null,b,G),I(C,`${a(r)??""} / ${f()??""}`),I(ne,`最大${f()??""}文字まで入力できます`)},[()=>({valid:a(n),invalid:!a(n)&&o().length>0}),()=>({warning:a(i)<=10})]),ve("input",E,m),ve("paste",E,x),R(e,M),Lt()}var pi=sn('<polygon fill="none" stroke="var(--grid-color, #e0e0e0)" stroke-width="1"></polygon>'),_i=sn('<line stroke="var(--axis-color, #666)" stroke-width="1" opacity="0.5"></line>'),gi=sn('<circle r="4" fill="var(--data-stroke, rgb(59, 130, 246))" stroke="white" stroke-width="2" role="button" tabindex="0"></circle>'),mi=sn('<text text-anchor="middle" dominant-baseline="central" font-size="12" fill="var(--label-color, #333)" role="button" tabindex="0"> </text>'),yi=sn('<text text-anchor="middle" dominant-baseline="central" class="center-value svelte-jhas6y" font-size="16" font-weight="bold" fill="var(--data-stroke, rgb(59, 130, 246))"> </text>'),wi=N(" <br/> <br/> ",1),bi=N(" <br/> ",1),Si=N('<div class="tooltip svelte-jhas6y"><strong> </strong><br/> <!></div>'),xi=N('<div class="radar-chart-container svelte-jhas6y"><svg preserveAspectRatio="xMidYMid meet" class="radar-chart-svg svelte-jhas6y"><!><!><path fill="var(--data-fill, rgba(59, 130, 246, 0.3))" stroke="var(--data-stroke, rgb(59, 130, 246))" stroke-width="2"></path><!><!><!></svg> <!></div>');function Ei(e,t){Dt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let l=he(t,"data",8,null),c=he(t,"scoringData",8,null),f=he(t,"confidence",8,1),h=he(t,"size",8,300),p=W(null);const y={bright:"明るさ",heavy:"重厚さ",soft:"柔らかさ",sharp:"鋭さ",light:"軽やかさ",brightness:"明るさ",heaviness:"重厚さ",softness:"柔らかさ",sharpness:"鋭さ",hardness_softness:"硬さ",size:"大きさ"},d=h()/2,u=d*.8;function g(P,v){const b=(P-90)*Math.PI/180;return{x:d+v*Math.cos(b),y:d+v*Math.sin(b)}}pe(()=>(F(c()),F(l())),()=>{S(n,(()=>{if(c()&&c().length>0){const v=["brightness","size","heaviness","sharpness","hardness_softness"].map(C=>c().find(D=>D.category===C)).filter(Boolean),b=360/v.length;return v.map((C,D)=>({key:C.category,label:y[C.category]||C.category,angle:D*b,scoreData:C}))}else return l()?[{key:"bright",label:"明るさ",angle:0},{key:"sharp",label:"鋭さ",angle:72},{key:"light",label:"軽やかさ",angle:144},{key:"soft",label:"柔らかさ",angle:216},{key:"heavy",label:"重厚さ",angle:288}]:[]})())}),pe(()=>(a(n),F(c()),F(l())),()=>{S(s,a(n).map(P=>{let v,b;c()&&"scoreData"in P?(v=P.scoreData.score/P.scoreData.maxScore,b=Math.max(0,Math.min(1,v))):l()&&P.key in l()?(v=l()[P.key]||0,b=Math.max(-1,Math.min(1,v)),b=(b+1)/2):(v=0,b=0);const C=u*b;return{...P,value:c()?v:v||0,normalizedValue:b,...g(P.angle,C)}}))}),pe(()=>a(n),()=>{S(r,[.2,.4,.6,.8,1].map(P=>a(n).map(v=>g(v.angle,u*P))))}),pe(()=>a(s),()=>{S(i,a(s).map((P,v)=>`${v===0?"M":"L"} ${P.x} ${P.y}`).join(" ")+" Z")}),pe(()=>a(n),()=>{S(o,a(n).map(P=>({...P,...g(P.angle,u+30)})))}),zn(),an();var m=xi(),x=_(m),$=_(x);de($,1,()=>a(r),me,(P,v,b)=>{var C=pi();Le(C,0,`grid-line grid-level-${b+1}`,"svelte-jhas6y"),V(C,"opacity",.3+b*.1),H(D=>V(C,"points",D),[()=>(a(v),k(()=>a(v).map(D=>`${D.x},${D.y}`).join(" ")))]),R(P,C)});var j=w($);de(j,1,()=>a(n),me,(P,v)=>{const b=Ve(()=>(a(v),k(()=>g(a(v).angle,u))));var C=_i();H(()=>{V(C,"x1",d),V(C,"y1",d),V(C,"x2",(F(a(b)),k(()=>a(b).x))),V(C,"y2",(F(a(b)),k(()=>a(b).y)))}),R(P,C)});var z=w(j),M=w(z);de(M,1,()=>a(s),me,(P,v)=>{var b=gi();let C;H((D,q)=>{V(b,"cx",(a(v),k(()=>a(v).x))),V(b,"cy",(a(v),k(()=>a(v).y))),C=Le(b,0,"data-point svelte-jhas6y",null,C,D),V(b,"aria-label",`${a(v),k(()=>a(v).label)??""}: ${q??""}`)},[()=>({hovered:a(p)===a(v).key}),()=>(a(v),k(()=>a(v).value.toFixed(2)))]),ve("mouseenter",b,()=>S(p,a(v).key)),ve("mouseleave",b,()=>S(p,null)),ve("focus",b,()=>S(p,a(v).key)),ve("blur",b,()=>S(p,null)),R(P,b)});var A=w(M);de(A,1,()=>a(o),me,(P,v)=>{var b=mi();let C;var D=_(b);H(q=>{V(b,"x",(a(v),k(()=>a(v).x))),V(b,"y",(a(v),k(()=>a(v).y))),C=Le(b,0,"axis-label svelte-jhas6y",null,C,q),V(b,"aria-label",`軸ラベル: ${a(v),k(()=>a(v).label)??""}`),I(D,(a(v),k(()=>a(v).label)))},[()=>({hovered:a(p)===a(v).key})]),ve("mouseenter",b,()=>S(p,a(v).key)),ve("mouseleave",b,()=>S(p,null)),ve("focus",b,()=>S(p,a(v).key)),ve("blur",b,()=>S(p,null)),R(P,b)});var E=w(A);{var Z=P=>{const v=Ve(()=>(a(s),a(p),k(()=>a(s).find(q=>q.key===a(p)))));var b=Xt(),C=ft(b);{var D=q=>{var te=yi(),re=_(te);H(T=>{V(te,"x",d),V(te,"y",d),I(re,T)},[()=>(F(a(v)),k(()=>a(v).value.toFixed(2)))]),R(q,te)};Y(C,q=>{a(v)&&q(D)})}R(P,b)};Y(E,P=>{a(p)&&P(Z)})}var ue=w(x,2);{var Ce=P=>{const v=Ve(()=>(a(s),a(p),k(()=>a(s).find(q=>q.key===a(p)))));var b=Xt(),C=ft(b);{var D=q=>{var te=Si(),re=_(te),T=_(re),fe=w(re,3);{var ze=ne=>{var O=wi(),G=ft(O),se=w(G,2),le=w(se,2);H((Se,oe)=>{I(G,`スコア: ${Se??""}%`),I(se,` 信頼度: ${oe??""}%`),I(le,` 適用ルール: ${F(a(v)),k(()=>a(v).scoreData.appliedRules.length)??""}個`)},[()=>(F(a(v)),k(()=>(a(v).value*100).toFixed(1))),()=>(F(a(v)),k(()=>(a(v).scoreData.confidence*100).toFixed(0)))]),R(ne,O)},we=ne=>{var O=bi(),G=ft(O),se=w(G,2);H((le,Se)=>{I(G,`スコア: ${le??""}`),I(se,` 信頼度: ${Se??""}%`)},[()=>(F(a(v)),k(()=>a(v).value.toFixed(2))),()=>(F(f()),k(()=>(f()*100).toFixed(0)))]),R(ne,O)};Y(fe,ne=>{c()&&"scoreData"in a(v)?ne(ze):ne(we,!1)})}H(()=>{Zt(te,`--confidence: ${f()??""}`),I(T,(F(a(v)),k(()=>a(v).label)))}),R(q,te)};Y(C,q=>{a(v)&&q(D)})}R(P,b)};Y(ue,P=>{a(p)&&P(Ce)})}H(()=>{V(x,"viewBox",`0 0 ${h()??""} ${h()??""}`),V(z,"d",a(i)),V(z,"opacity",f())}),R(e,m),Lt()}const ki=e=>e;function ds(e){const t=e-1;return t*t*t+1}function Er(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function zi(e,{delay:t=0,duration:n=400,easing:s=ki}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:i=>`opacity: ${i*r}`}}function Ai(e,{delay:t=0,duration:n=400,easing:s=ds,x:r=0,y:i=0,opacity:o=0}={}){const l=getComputedStyle(e),c=+l.opacity,f=l.transform==="none"?"":l.transform,h=c*(1-o),[p,y]=Er(r),[d,u]=Er(i);return{delay:t,duration:n,easing:s,css:(g,m)=>`
			transform: ${f} translate(${(1-g)*p}${y}, ${(1-g)*d}${u});
			opacity: ${c-h*m}`}}function Ri(e,{delay:t=0,duration:n=400,easing:s=ds,start:r=0,opacity:i=0}={}){const o=getComputedStyle(e),l=+o.opacity,c=o.transform==="none"?"":o.transform,f=1-r,h=l*(1-i);return{delay:t,duration:n,easing:s,css:(p,y)=>`
			transform: ${c} scale(${1-f*y});
			opacity: ${l-h*y}
		`}}const Ci={hardness_softness:"硬さ",size:"大きさ",brightness:"明るさ",heaviness:"重厚さ",sharpness:"鋭さ"},Ti={"start-consonant":"開始子音","start-vowel":"開始母音","length-short":"短い長さ","length-medium":"中程度長さ","length-long":"長い長さ","repetition-double":"二重繰り返し","repetition-triple":"三重繰り返し","phoneme-consonant":"子音音素","phoneme-vowel":"母音音素","phoneme-special":"特殊音素","ending-n":"「ん」で終了","ending-vowel":"母音で終了"};function wt(e){return Ci[e]||e}function gn(e){return Ti[e]||e}var $i=N('<span class="sound-tag consonant svelte-g6pdjd"> </span>'),ji=N('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">子音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),Pi=N('<span class="sound-tag vowel svelte-g6pdjd"> </span>'),Mi=N('<div class="sound-group svelte-g6pdjd"><span class="sound-type svelte-g6pdjd">母音:</span> <div class="sound-tags svelte-g6pdjd"></div></div>'),Ii=N('<div class="contributing-sounds svelte-g6pdjd"><h4 class="svelte-g6pdjd">寄与音素</h4> <!> <!></div>'),Oi=N('<span class="factor-tag svelte-g6pdjd"> </span>'),Ni=N('<div class="structural-factors svelte-g6pdjd"><h4 class="svelte-g6pdjd">構造的要因</h4> <div class="factor-list svelte-g6pdjd"></div></div>'),Di=N('<div class="tooltip-container svelte-g6pdjd"><div><div class="tooltip-header svelte-g6pdjd"><h3 class="category-title svelte-g6pdjd"> </h3> <div class="score-badge svelte-g6pdjd"> </div></div> <div class="score-details svelte-g6pdjd"><div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">レベル:</span> <span> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">実際スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">最大スコア:</span> <span class="value svelte-g6pdjd"> </span></div> <div class="score-row svelte-g6pdjd"><span class="label svelte-g6pdjd">信頼度:</span> <span class="value svelte-g6pdjd"> </span></div></div> <!> <!> <div class="tooltip-arrow svelte-g6pdjd"></div></div></div>');function Li(e,t){Dt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let l=he(t,"categoryScore",8),c=he(t,"visible",8,!1),f=he(t,"x",8,0),h=he(t,"y",8,0);he(t,"containerWidth",8,0),he(t,"containerHeight",8,0);let p=W(),y=W(0),d=W(0);rr(()=>{const z=()=>{S(y,window.innerWidth),S(d,window.innerHeight)};return z(),window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z)}});const u={"very-high":"非常に強い",high:"強い",medium:"中程度",low:"弱い","very-low":"非常に弱い"};function g(z){return z.toFixed(2)}function m(z){return z.toFixed(1)}pe(()=>(a(y),F(f()),a(p)),()=>{S(n,(()=>{if(!a(y))return f();const z=a(p)?.offsetWidth||(a(y)<=480?280:320),M=16,A=8;let E=f()+M;return E+z+A>a(y)&&(E=f()-z-M),E<A&&(E=A),E})())}),pe(()=>(a(d),F(h()),a(p)),()=>{S(s,(()=>{if(!a(d))return h();const z=a(p)?.offsetHeight||280,M=16,A=8;let E=h()+M;return E+z+A>a(d)&&(E=h()-z-M),E<A&&(E=A),E})())}),pe(()=>(F(l()),gn),()=>{S(r,(()=>{const z=[],M=[],A=[];return l().appliedRules.forEach(E=>{E.startsWith("子音-")?z.push(E.replace("子音-","")):E.startsWith("母音-")?M.push(E.replace("母音-","")):A.push(gn(E))}),{consonantRules:z,vowelRules:M,structuralRules:A}})())}),pe(()=>F(l()),()=>{S(i,l().score/l().maxScore*100)}),pe(()=>a(i),()=>{S(o,(()=>{const z=a(i);return z>=80?"very-high":z>=60?"high":z>=40?"medium":z>=20?"low":"very-low"})())}),zn(),an();var x=Xt(),$=ft(x);{var j=z=>{var M=Di(),A=_(M),E=_(A),Z=_(E),ue=_(Z),Ce=w(Z,2),P=_(Ce),v=w(E,2),b=_(v),C=w(_(b),2),D=_(C),q=w(b,2),te=w(_(q),2),re=_(te),T=w(q,2),fe=w(_(T),2),ze=_(fe),we=w(T,2),ne=w(_(we),2),O=_(ne),G=w(v,2);{var se=oe=>{var Ae=Ii(),Te=w(_(Ae),2);{var Qe=$e=>{var tt=ji(),pt=w(_(tt),2);de(pt,5,()=>(a(r),k(()=>a(r).consonantRules)),me,(U,Q)=>{var ae=$i(),J=_(ae);H(()=>I(J,a(Q))),R(U,ae)}),R($e,tt)};Y(Te,$e=>{a(r),k(()=>a(r).consonantRules.length>0)&&$e(Qe)})}var Be=w(Te,2);{var et=$e=>{var tt=Mi(),pt=w(_(tt),2);de(pt,5,()=>(a(r),k(()=>a(r).vowelRules)),me,(U,Q)=>{var ae=Pi(),J=_(ae);H(()=>I(J,a(Q))),R(U,ae)}),R($e,tt)};Y(Be,$e=>{a(r),k(()=>a(r).vowelRules.length>0)&&$e(et)})}R(oe,Ae)};Y(G,oe=>{a(r),k(()=>a(r).consonantRules.length>0||a(r).vowelRules.length>0)&&oe(se)})}var le=w(G,2);{var Se=oe=>{var Ae=Ni(),Te=w(_(Ae),2);de(Te,5,()=>(a(r),k(()=>a(r).structuralRules)),me,(Qe,Be)=>{var et=Oi(),$e=_(et);H(()=>I($e,a(Be))),R(Qe,et)}),R(oe,Ae)};Y(le,oe=>{a(r),k(()=>a(r).structuralRules.length>0)&&oe(Se)})}nr(A,oe=>S(p,oe),()=>a(p)),H((oe,Ae,Te,Qe,Be)=>{Zt(M,`left: ${a(n)??""}px; top: ${a(s)??""}px;`),Le(A,1,`tooltip-content level-${a(o)??""}`,"svelte-g6pdjd"),I(ue,oe),I(P,`${Ae??""}%`),Le(C,1,`value level-indicator level-${a(o)??""}`,"svelte-g6pdjd"),I(D,(a(o),k(()=>u[a(o)]))),I(re,Te),I(ze,Qe),I(O,`${Be??""}%`)},[()=>(F(wt),F(l()),k(()=>wt(l().category))),()=>(a(i),k(()=>m(a(i)))),()=>(F(l()),k(()=>g(l().score))),()=>(F(l()),k(()=>g(l().maxScore))),()=>(F(l()),k(()=>m(l().confidence*100)))]),Ln(3,M,()=>Ai,()=>({y:10,duration:200})),R(z,M)};Y($,z=>{c()&&z(j)})}R(e,x),Lt()}var Fi=N('<div class="overall-score svelte-1nzd1e2"><div class="chart-container svelte-1nzd1e2"><svg preserveAspectRatio="xMidYMid meet" class="donut-chart svelte-1nzd1e2"><circle fill="none" stroke="#ecf0f1"></circle><circle fill="none" stroke="#2ecc71" stroke-linecap="round" class="score-circle svelte-1nzd1e2"></circle><text text-anchor="middle" class="score-text svelte-1nzd1e2"> </text><text text-anchor="middle" class="score-label svelte-1nzd1e2">総合スコア</text><text text-anchor="middle" class="confidence-text svelte-1nzd1e2"> </text></svg></div></div>'),Vi=N("<button> </button>"),Wi=N('<div class="category-expanded svelte-1nzd1e2"><div class="score-breakdown svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span> </span></div></div></div>'),qi=N('<div role="button" tabindex="0"><div class="category-header svelte-1nzd1e2"><span class="category-name svelte-1nzd1e2"> </span> <span class="category-score svelte-1nzd1e2"> </span></div> <div class="progress-bar svelte-1nzd1e2"><div class="progress-background svelte-1nzd1e2"></div> <div class="progress-fill svelte-1nzd1e2"></div></div> <div class="category-details svelte-1nzd1e2"><span class="confidence"> </span> <span class="applied-rules"> </span></div> <!></div>'),Hi=N("<span> </span>"),Bi=N('<div class="category-filters svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリフィルター</h3> <div class="filter-buttons svelte-1nzd1e2"><button>すべて</button> <!></div></div> <div class="category-scores svelte-1nzd1e2" data-show-details="true"><h3 class="svelte-1nzd1e2">カテゴリ別スコア</h3> <!></div> <div class="score-breakdown svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">スコア詳細</h4> <div class="breakdown-grid svelte-1nzd1e2"><div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">合計スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">最大可能スコア:</span> <span class="value svelte-1nzd1e2"> </span></div> <div class="breakdown-item svelte-1nzd1e2"><span class="label svelte-1nzd1e2">正規化スコア:</span> <span class="value svelte-1nzd1e2"> </span></div></div> <div class="applied-rules-section svelte-1nzd1e2"><h4 class="svelte-1nzd1e2">適用されたルール</h4> <div class="applied-rules-list svelte-1nzd1e2"></div></div></div>',1),Yi=N('<div class="score-display svelte-1nzd1e2" role="region" aria-label="スコア分析結果"><!> <!> <!></div>');function kr(e,t){Dt(t,!1);const n=W(),s=W(),r=W(),i=W(),o=W();let l=he(t,"scoringResult",8),c=he(t,"size",8,300),f=he(t,"showDetails",8,!0),h=W(null),p=W(null),y=W(0),d=W(0),u=W(),g=W(null);const m={hardness_softness:"#e74c3c",size:"#3498db",brightness:"#f1c40f",heaviness:"#9b59b6",sharpness:"#e67e22"},x=c()/2,$=x*.7,j=20;function z(T){return(T*100).toFixed(1)}function M(T){return(T*100).toFixed(0)}function A(T){return T==="子音-n"?"special":T.includes("子音")?"consonant":T.includes("母音")?"vowel":T.includes("special")?"special":"structure"}rr(()=>(E(),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}));function E(){a(u)&&a(u).getBoundingClientRect()}function Z(T){S(y,T.clientX),S(d,T.clientY)}function ue(T){a(p)===T?S(p,null):S(p,T)}function Ce(T){a(g)===T?S(g,null):S(g,T)}pe(()=>{},()=>{S(n,2*Math.PI*$)}),pe(()=>(a(n),F(l())),()=>{S(s,a(n)*(1-l().normalizedScore))}),pe(()=>F(l()),()=>{S(r,[...l().categoryScores].sort((T,fe)=>fe.score/fe.maxScore-T.score/T.maxScore))}),pe(()=>(a(g),a(r)),()=>{S(i,a(g)?a(r).filter(T=>T.category===a(g)):a(r))}),pe(()=>(a(h),F(l())),()=>{S(o,a(h)?l().categoryScores.find(T=>T.category===a(h)):null)}),zn(),an();var P=Yi(),v=_(P);{var b=T=>{var fe=Fi(),ze=_(fe),we=_(ze),ne=_(we);V(ne,"stroke-width",j);var O=w(ne);V(O,"stroke-width",j);var G=w(O),se=_(G),le=w(G),Se=w(le),oe=_(Se);H((Ae,Te)=>{V(we,"viewBox",`0 0 ${c()??""} ${c()??""}`),V(ne,"cx",x),V(ne,"cy",x),V(ne,"r",$),V(O,"cx",x),V(O,"cy",x),V(O,"r",$),V(O,"stroke-dasharray",a(n)),V(O,"stroke-dashoffset",a(s)),V(O,"transform",`rotate(-90 ${x} ${x})`),V(G,"x",x),V(G,"y",x-10),I(se,`${Ae??""}%`),V(le,"x",x),V(le,"y",x+15),V(Se,"x",x),V(Se,"y",x+35),I(oe,`信頼度: ${Te??""}%`)},[()=>(F(l()),k(()=>z(l().normalizedScore))),()=>(F(l()),k(()=>M(l().confidence)))]),R(T,fe)};Y(v,T=>{f()||T(b)})}var C=w(v,2);{var D=T=>{var fe=Bi(),ze=ft(fe),we=w(_(ze),2),ne=_(we);let O;var G=w(ne,2);de(G,1,()=>a(r),J=>J.category,(J,L)=>{const be=Ve(()=>(a(L),k(()=>m[a(L).category]||"#95a5a6")));var ee=Vi();let je;var X=_(ee);H((ce,xe)=>{je=Le(ee,1,"filter-button svelte-1nzd1e2",null,je,ce),Zt(ee,`--filter-color: ${a(be)??""};`),I(X,xe)},[()=>({active:a(g)===a(L).category}),()=>(F(wt),a(L),k(()=>wt(a(L).category)))]),ve("click",ee,()=>Ce(a(L).category)),R(J,ee)});var se=w(ze,2),le=w(_(se),2);de(le,3,()=>a(i),J=>J.category,(J,L,be)=>{const ee=Ve(()=>(a(L),k(()=>a(L).score/a(L).maxScore))),je=Ve(()=>(a(L),k(()=>m[a(L).category]||"#95a5a6")));var X=qi();let ce;var xe=_(X),Re=_(xe),Ye=_(Re),Pe=w(Re,2),nt=_(Pe),Ue=w(xe,2),Ne=w(_(Ue),2),Me=w(Ue,2),qe=_(Me),rt=_(qe),_t=w(qe,2),gt=_(_t),Ke=w(Me,2);{var mt=Vt=>{var Wt=Wi(),An=_(Wt),on=_(An),hs=_(on),ps=_(hs),or=w(on,2),_s=_(or),gs=_(_s),ms=w(or,2),ys=_(ms),ws=_(ys);H((bs,Ss,xs)=>{I(ps,`実際スコア: ${bs??""}`),I(gs,`最大スコア: ${Ss??""}`),I(ws,`正規化率: ${xs??""}%`)},[()=>(a(L),k(()=>a(L).score.toFixed(2))),()=>(a(L),k(()=>a(L).maxScore.toFixed(2))),()=>(F(a(ee)),k(()=>z(a(ee))))]),Ln(3,Wt,()=>zi,()=>({duration:200})),R(Vt,Wt)};Y(Ke,Vt=>{a(p),a(L),k(()=>a(p)===a(L).category)&&Vt(mt)})}H((Vt,Wt,An,on)=>{ce=Le(X,1,"category-item svelte-1nzd1e2",null,ce,Vt),I(Ye,Wt),I(nt,`${An??""}%`),Zt(Ne,`width: ${a(ee)*100}%; background-color: ${a(je)??""};`),I(rt,`信頼度: ${on??""}%`),I(gt,`適用ルール: ${a(L),k(()=>a(L).appliedRules.length)??""}個`)},[()=>({hovered:a(h)===a(L).category,selected:a(p)===a(L).category}),()=>(F(wt),a(L),k(()=>wt(a(L).category))),()=>(F(a(ee)),k(()=>z(a(ee)))),()=>(a(L),k(()=>M(a(L).confidence)))]),ve("mouseenter",X,()=>S(h,a(L).category)),ve("mouseleave",X,()=>S(h,null)),ve("click",X,()=>ue(a(L).category)),Ln(1,X,()=>Ri,()=>({duration:300,delay:a(be)*50})),R(J,X)});var Se=w(se,2),oe=w(_(Se),2),Ae=_(oe),Te=w(_(Ae),2),Qe=_(Te),Be=w(Ae,2),et=w(_(Be),2),$e=_(et),tt=w(Be,2),pt=w(_(tt),2),U=_(pt),Q=w(oe,2),ae=w(_(Q),2);de(ae,5,()=>(F(l()),k(()=>[...new Set(l().categoryScores.flatMap(J=>J.appliedRules))].filter(J=>J!=null&&J!==""))),me,(J,L)=>{var be=Hi(),ee=_(be);H((je,X)=>{Le(be,1,`rule-tag ${je??""}`,"svelte-1nzd1e2"),I(ee,X)},[()=>(a(L),k(()=>A(a(L)))),()=>(F(gn),a(L),k(()=>gn(a(L))))]),R(J,be)}),H((J,L,be,ee)=>{O=Le(ne,1,"filter-button svelte-1nzd1e2",null,O,J),I(Qe,L),I($e,be),I(U,`${ee??""}%`)},[()=>({active:a(g)===null}),()=>(F(l()),k(()=>l().totalScore.toFixed(2))),()=>(F(l()),k(()=>l().maxPossibleScore.toFixed(2))),()=>(F(l()),k(()=>z(l().normalizedScore)))]),ve("click",ne,()=>S(g,null)),R(T,fe)},q=T=>{};Y(C,T=>{f()?T(D):T(q,!1)})}var te=w(C,2);{var re=T=>{Li(T,{get categoryScore(){return a(o)},visible:!0,get x(){return a(y)},get y(){return a(d)},containerWidth:k(()=>window.innerWidth),containerHeight:k(()=>window.innerHeight)})};Y(te,T=>{a(o)&&a(h)&&T(re)})}nr(P,T=>S(u,T),()=>a(u)),ve("mousemove",P,Z),ve("mouseleave",P,()=>{S(h,null)}),R(e,P),Lt()}var Ui=N("<div><!></div>"),Ki=N('<div class="error-message svelte-h5on58"><p> </p></div>'),Gi=N('<div class="loading-state svelte-h5on58"><div class="loading-spinner svelte-h5on58"></div> <p>分析中...</p></div>'),Ji=N('<div class="summary-block svelte-h5on58"><h3 class="svelte-h5on58">分析サマリー</h3> <p class="summary-text svelte-h5on58"> </p></div>'),Xi=N('<div class="summary-block svelte-h5on58"><h3 class="svelte-h5on58">スコア概要</h3> <p class="summary-text svelte-h5on58">総合スコアは <strong> </strong> 点です。 <!></p> <p class="summary-text svelte-h5on58"> </p></div>'),Zi=N('<div class="detailed-score-section svelte-h5on58"><h3 class="svelte-h5on58">詳細スコア</h3> <div class="score-container svelte-h5on58"><!></div></div>'),Qi=N('<div class="category-analysis-card card svelte-h5on58"><h2 class="svelte-h5on58">カテゴリ分析</h2> <!></div>'),eo=N('<span class="impression-tag consonant svelte-h5on58"> </span>'),to=N('<div class="phoneme-group svelte-h5on58"><span class="phoneme-label svelte-h5on58"> </span> <!></div>'),no=N('<div class="phoneme-category svelte-h5on58"><h4 class="svelte-h5on58">子音</h4> <div class="tag-container svelte-h5on58"></div></div>'),ro=N('<span class="impression-tag vowel svelte-h5on58"> </span>'),so=N('<div class="phoneme-group svelte-h5on58"><span class="phoneme-label svelte-h5on58"> </span> <!></div>'),ao=N('<div class="phoneme-category svelte-h5on58"><h4 class="svelte-h5on58">母音</h4> <div class="tag-container svelte-h5on58"></div></div>'),io=N('<span class="impression-tag special svelte-h5on58"> </span>'),oo=N('<div class="phoneme-group svelte-h5on58"><span class="phoneme-label svelte-h5on58"> </span> <!></div>'),lo=N('<div class="phoneme-category svelte-h5on58"><h4 class="svelte-h5on58">特殊音</h4> <div class="tag-container svelte-h5on58"></div></div>'),co=N('<div class="analysis-section svelte-h5on58"><h3 class="svelte-h5on58">音素分析</h3> <!> <!> <!></div>'),uo=N('<span class="impression-tag structure svelte-h5on58"> </span>'),fo=N('<div class="structure-group svelte-h5on58"><span class="category-label svelte-h5on58"> </span> <!></div>'),vo=N('<div class="analysis-section svelte-h5on58"><h3 class="svelte-h5on58">構造分析</h3> <div class="tag-container svelte-h5on58"></div></div>'),ho=N('<section class="results-section svelte-h5on58"><div class="summary-card card svelte-h5on58"><h2 class="svelte-h5on58">総合印象</h2> <!> <!> <div class="confidence-indicator svelte-h5on58"><span class="confidence-label svelte-h5on58">信頼度:</span> <div class="confidence-bar svelte-h5on58"><div class="confidence-fill svelte-h5on58"></div></div> <span class="confidence-value svelte-h5on58"> </span></div></div> <div class="analysis-results-card card svelte-h5on58"><h2 class="svelte-h5on58">分析結果と詳細スコア</h2> <div class="analysis-content svelte-h5on58"><div class="analysis-chart-section svelte-h5on58"><h3 class="svelte-h5on58">音象徴分析</h3> <div class="chart-container svelte-h5on58"><!></div></div> <!></div></div> <!> <div class="details-card card svelte-h5on58"><h2 class="svelte-h5on58">詳細分析</h2> <!> <!></div></section>'),po=N('<div class="welcome-message svelte-h5on58"><h2 class="svelte-h5on58">音象徴分析へようこそ</h2> <p class="svelte-h5on58">ひらがな・カタカナで言葉を入力すると、その音の印象を5つの軸で分析します。</p> <ul class="feature-list svelte-h5on58"><li class="svelte-h5on58">✨ <strong>明るさ</strong> - 音の明暗を測定</li> <li class="svelte-h5on58">🏋️ <strong>重厚さ</strong> - 音の重みを測定</li> <li class="svelte-h5on58">🪶 <strong>柔らかさ</strong> - 音の質感を測定</li> <li class="svelte-h5on58">⚡ <strong>鋭さ</strong> - 音の切れ味を測定</li> <li class="svelte-h5on58">🎈 <strong>軽やかさ</strong> - 音の軽快さを測定</li></ul></div>'),_o=N('<div class="app-container svelte-h5on58"><header class="app-header svelte-h5on58"><h1 class="app-title svelte-h5on58">音象徴分析アプリ</h1> <p class="app-subtitle svelte-h5on58">ひらがな・カタカナの音の印象を5軸で分析</p> <!></header> <!> <main class="main-content svelte-h5on58"><section class="input-section svelte-h5on58"><!></section> <!> <!> <!></main></div>');function go(e,t){Dt(t,!1);let n=null,s=W(""),r=W(null),i=W(null),o=W(!1),l=W(""),c=W("healthy");rr(async()=>{try{st("APP_INIT_START");const v=si();S(c,v.status),v.status==="warning"&&console.warn("System performance warning:",v.details);const C=await fetch("/sound_symbolism/rules.json");if(!C.ok)throw new Error("ルールファイルの読み込みに失敗しました");const D=await C.json(),q=ri(D);if(!q.isValid)throw new Error(`ルールファイルが無効です: ${q.error}`);n=D,st("APP_INIT_SUCCESS",{hasScoring:!!(n&&n.scoring),systemStatus:v.status})}catch(v){console.error("Failed to load rules:",v),st("APP_INIT_ERROR",{error:v instanceof Error?v.message:String(v)}),S(c,"error"),S(l,v instanceof Error?v.message:"ルールファイルの読み込みに失敗しました。ページを再読み込みしてください。")}});async function f(v){if(!(!n||!v.trim())){S(o,!0),S(l,"");try{st("ANALYSIS_START",{text:v.slice(0,20)+"..."}),await new Promise(b=>setTimeout(b,150)),S(r,ci(v.trim(),n));try{const b=vs(v.trim(),n,!0);"scoring"in b&&b.scoring?(S(i,b),st("SCORING_ANALYSIS_SUCCESS")):(S(i,null),st("SCORING_ANALYSIS_SKIPPED"))}catch(b){console.warn("Scoring analysis failed:",b),S(i,null),st("SCORING_ANALYSIS_ERROR",{error:b instanceof Error?b.message:String(b)})}st("ANALYSIS_SUCCESS")}catch(b){console.error("Analysis failed:",b),st("ANALYSIS_ERROR",{error:b instanceof Error?b.message:String(b)}),S(l,"分析中にエラーが発生しました。しばらく時間をおいて再度お試しください。"),S(r,null),S(i,null)}finally{S(o,!1)}}}function h(v){S(s,v)}function p(v){f(v)}function y(v){if(!v||v.length===0)return"";const b=v.reduce((C,D)=>{const q=D.score/D.maxScore,te=C.score/C.maxScore;return q>te?D:C});return wt(b.category)}an();var d=_o(),u=_(d),g=w(_(u),4);{var m=v=>{var b=Ui();let C;var D=_(b);{var q=re=>{var T=Tn("⚠️ システムパフォーマンスに問題があります");R(re,T)},te=re=>{var T=Xt(),fe=ft(T);{var ze=we=>{var ne=Tn("❌ システムエラーが発生しています");R(we,ne)};Y(fe,we=>{a(c)==="error"&&we(ze)},!0)}R(re,T)};Y(D,re=>{a(c)==="warning"?re(q):re(te,!1)})}H(re=>C=Le(b,1,"system-status svelte-h5on58",null,C,re),[()=>({warning:a(c)==="warning",error:a(c)==="error"})]),R(v,b)};Y(g,v=>{a(c)!=="healthy"&&v(m)})}var x=w(u,2);{var $=v=>{var b=Ki(),C=_(b),D=_(C);H(()=>I(D,a(l))),R(v,b)};Y(x,v=>{a(l)&&v($)})}var j=w(x,2),z=_(j),M=_(z);hi(M,{onInput:h,onAnalyze:p,placeholder:"ひらがな・カタカナを入力してください",maxLength:20,get value(){return a(s)},set value(v){S(s,v)},$$legacy:!0});var A=w(z,2);{var E=v=>{var b=Gi();R(v,b)};Y(A,v=>{a(o)&&v(E)})}var Z=w(A,2);{var ue=v=>{var b=ho(),C=_(b),D=w(_(C),2);{var q=U=>{var Q=Ji(),ae=w(_(Q),2),J=_(ae);H(()=>I(J,a(r).summary)),R(U,Q)};Y(D,U=>{a(r)&&U(q)})}var te=w(D,2);{var re=U=>{var Q=Xi(),ae=w(_(Q),2),J=w(_(ae)),L=_(J),be=w(J,2);{var ee=ce=>{var xe=Tn();H(Re=>I(xe,Re),[()=>`特に「${y(a(i).scoring.categoryScores)}」の印象が強く出ています。`]),R(ce,xe)};Y(be,ce=>{a(i).scoring.categoryScores.length>0&&ce(ee)})}var je=w(ae,2),X=_(je);H(ce=>{I(L,ce),I(X,a(i).summary)},[()=>Math.round(a(i).scoring.normalizedScore*100)]),R(U,Q)};Y(te,U=>{a(i)&&a(i).scoring&&U(re)})}var T=w(te,2),fe=w(_(T),2),ze=_(fe),we=w(fe,2),ne=_(we),O=w(C,2),G=w(_(O),2),se=_(G),le=w(_(se),2),Se=_(le);{let U=Ve(()=>a(i)?null:a(r).impressionScores),Q=Ve(()=>a(i)?.scoring?.categoryScores||null),ae=Ve(()=>a(i)?.scoring?.confidence||a(r).confidence);Ei(Se,{get data(){return a(U)},get scoringData(){return a(Q)},get confidence(){return a(ae)},size:Math.min(350,window.innerWidth-60)})}var oe=w(se,2);{var Ae=U=>{var Q=Zi(),ae=w(_(Q),2),J=_(ae);kr(J,{get scoringResult(){return a(i).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!1}),R(U,Q)};Y(oe,U=>{a(i)&&a(i).scoring&&U(Ae)})}var Te=w(O,2);{var Qe=U=>{var Q=Qi(),ae=w(_(Q),2);kr(ae,{get scoringResult(){return a(i).scoring},size:Math.min(400,window.innerWidth-80),showDetails:!0}),R(U,Q)};Y(Te,U=>{a(i)&&a(i).scoring&&U(Qe)})}var Be=w(Te,2),et=w(_(Be),2);{var $e=U=>{var Q=co(),ae=w(_(Q),2);{var J=X=>{var ce=no(),xe=w(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.consonants),me,(Re,Ye)=>{var Pe=cn(()=>ln(a(Ye),2));let nt=()=>a(Pe)[0],Ue=()=>a(Pe)[1];var Ne=to(),Me=_(Ne),qe=_(Me),rt=w(Me,2);de(rt,1,()=>[...new Set(Ue())],me,(_t,gt)=>{var Ke=eo(),mt=_(Ke);H(()=>I(mt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(ae,X=>{Object.keys(a(r).phonemeAnalysis.consonants).length>0&&X(J)})}var L=w(ae,2);{var be=X=>{var ce=ao(),xe=w(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.vowels),me,(Re,Ye)=>{var Pe=cn(()=>ln(a(Ye),2));let nt=()=>a(Pe)[0],Ue=()=>a(Pe)[1];var Ne=so(),Me=_(Ne),qe=_(Me),rt=w(Me,2);de(rt,1,()=>[...new Set(Ue())],me,(_t,gt)=>{var Ke=ro(),mt=_(Ke);H(()=>I(mt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(L,X=>{Object.keys(a(r).phonemeAnalysis.vowels).length>0&&X(be)})}var ee=w(L,2);{var je=X=>{var ce=lo(),xe=w(_(ce),2);de(xe,5,()=>Object.entries(a(r).phonemeAnalysis.special),me,(Re,Ye)=>{var Pe=cn(()=>ln(a(Ye),2));let nt=()=>a(Pe)[0],Ue=()=>a(Pe)[1];var Ne=oo(),Me=_(Ne),qe=_(Me),rt=w(Me,2);de(rt,1,()=>[...new Set(Ue())],me,(_t,gt)=>{var Ke=io(),mt=_(Ke);H(()=>I(mt,a(gt))),R(_t,Ke)}),H(()=>I(qe,nt())),R(Re,Ne)}),R(X,ce)};Y(ee,X=>{Object.keys(a(r).phonemeAnalysis.special).length>0&&X(je)})}R(U,Q)};Y(et,U=>{a(r).phonemeAnalysis&&U($e)})}var tt=w(et,2);{var pt=U=>{var Q=vo(),ae=w(_(Q),2);de(ae,5,()=>Object.entries(a(r).details),me,(J,L)=>{var be=cn(()=>ln(a(L),2));let ee=()=>a(be)[0],je=()=>a(be)[1];var X=Xt(),ce=ft(X);{var xe=Re=>{var Ye=fo(),Pe=_(Ye),nt=_(Pe),Ue=w(Pe,2);de(Ue,1,()=>[...new Set(je())],me,(Ne,Me)=>{var qe=uo(),rt=_(qe);H(()=>I(rt,a(Me))),R(Ne,qe)}),H(()=>I(nt,ee()==="start"?"開始音":ee()==="end"?"終了音":ee()==="length"?"長さ":ee()==="repetition"?"繰り返し":ee())),R(Re,Ye)};Y(ce,Re=>{je().length>0&&Re(xe)})}R(J,X)}),R(U,Q)};Y(tt,U=>{a(r).details&&Object.keys(a(r).details).length>0&&U(pt)})}H(U=>{Zt(ze,`width: ${(a(i)?a(i).confidence||0:a(r).confidence)*100}%`),I(ne,`${U??""}%`)},[()=>Math.round((a(i)?a(i).confidence||0:a(r).confidence)*100)]),R(v,b)};Y(Z,v=>{a(r)&&!a(o)&&v(ue)})}var Ce=w(Z,2);{var P=v=>{var b=po();R(v,b)};Y(Ce,v=>{!a(r)&&!a(o)&&!a(s)&&v(P)})}R(e,d),Lt()}Pa(go,{target:document.getElementById("app")});
